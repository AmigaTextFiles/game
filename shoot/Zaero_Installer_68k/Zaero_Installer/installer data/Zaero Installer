(message "This Installer installs 'Zaero' for Quake2. You need the CD with the PC-Game 'Zaero' to install it.")
(set #dest-prompt (cat
	"Select the directory where you have Quake2 installed. "
    ))
(set #src-prompt (cat
	"Please insert your Zaero PC CD into any Drive and select it."
    ))    




(procedure P_DoInstallMods
(makedir(tackon #dest-dir "zaero")(infos))
(DepackMod (tackon #dest-dir "zaero"))

   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source "zaerobin/game68k.dll")
 (dest (tackon #dest-dir "zaero"))
    )
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source "Manual_Zaero.guide")
 (dest (tackon #dest-dir "zaero"))
    )
       (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source "Manual_Zaero.guide.info")
 (dest (tackon #dest-dir "zaero"))
    )    
)

(procedure DepackMod  arg1
    (set #qdir arg1)
    (set #sprdir (tackon #qdir "sprites"))
    (set #viddir (tackon #qdir "video"))
    (set #docsdir (tackon #qdir "docs"))
    (set #mandir (tackon #qdir "docs/zaero_manual"))
    (set #imgdir (tackon #qdir "docs/zaero_manual/images"))
    (makedir #qdir)
    (makedir #sprdir)
    (makedir #viddir)
    (makedir #docsdir)
    (makedir #mandir)
    (makedir #imgdir)
    (set #copygamefiles "Copying Game Files...")
    (if (exists(tackon #src-dir "zaero"))
    (
    (set #srcdir (tackon #src-dir "zaero"))
    (set #sprdirsrc (tackon #srcdir "sprites"))
    (set #viddirsrc (tackon #srcdir "video"))    
    (set #docsdirsrc (tackon #srcdir "docs"))
    (set #mandirsrc (tackon #srcdir "docs/zaero_manual"))
    (set #imgdirsrc (tackon #srcdir "docs/zaero_manual/images"))
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #srcdir "pak0.pak"))
 (dest #qdir)
    )
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #srcdir "zaero_readme.txt"))
 (dest #qdir)
    ) 
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #sprdirsrc  "plasma1.sp2"))
 (dest #sprdir)
    )        
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #sprdirsrc "plasma1_2.pcx"))
 (dest #sprdir)
    )
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #sprdirsrc "plasmashield_0.pcx"))
 (dest #sprdir)
    )
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #sprdirsrc "plasma1_0.pcx"))
 (dest #sprdir)
    )
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #sprdirsrc "plasma1_3.pcx"))
 (dest #sprdir)
    )
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #sprdirsrc "plasma1_1.pcx"))
 (dest #sprdir)
    )
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #sprdirsrc "plasmashield.sp2"))
 (dest #sprdir)
    )       
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #viddirsrc "intro.cin"))
 (dest #viddir)
    )
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #viddirsrc "outro.cin"))
 (dest #viddir)
    )          
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #docsdirsrc "zaero_manual.html"))
 (dest #docsdir)
    )       
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #docsdirsrc "zaero_readme.txt"))
 (dest #docsdir)
    )           
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #mandirsrc "credits.html"))
 (dest #mandir)
    )     
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #mandirsrc "enemy.html"))
 (dest #mandir)
    )          
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #mandirsrc "index.html"))
 (dest #mandir)
    )
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #mandirsrc "intel.html"))
 (dest #mandir)
    )
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #mandirsrc "man_foot.html"))
 (dest #mandir)
    )          
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #mandirsrc "man_head.html"))
 (dest #mandir)
    )          
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #mandirsrc "manual.zip"))
 (dest #mandir)
    )          
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #mandirsrc "start.html"))
 (dest #mandir)
    )          
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #mandirsrc "story.html"))
 (dest #mandir)
    )
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #mandirsrc "techinfo.html"))
 (dest #mandir)
    )         
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #imgdirsrc "ammo_flares.jpg"))
 (dest #imgdir)
    )       
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #imgdirsrc "ammo_ireds.jpg"))
 (dest #imgdir)
    )          
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #imgdirsrc "blank.gif"))
 (dest #imgdir)
    )          
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #imgdirsrc "enemy_boss.gif"))
 (dest #imgdir)
    )          
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #imgdirsrc "enemy_guard.gif"))
 (dest #imgdir)
    )          
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #imgdirsrc "enemy_hound.gif"))
 (dest #imgdir)
    )          
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #imgdirsrc "enemy_sentien.gif"))
 (dest #imgdir)
    )        
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #imgdirsrc "item_plasma_shield.jpg"))
 (dest #imgdir)
    )        
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #imgdirsrc "item_visor.jpg"))
 (dest #imgdir)
    )          
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #imgdirsrc "man_foot.jpg"))
 (dest #imgdir)
    )          
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #imgdirsrc "man_head.jpg"))
 (dest #imgdir)
    )        
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #imgdirsrc "man_main.jpg"))
 (dest #imgdir)
    )          
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #imgdirsrc "man_title.jpg"))
 (dest #imgdir)
    )            
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #imgdirsrc "object_auto_cannon.jpg"))
 (dest #imgdir)
    )            
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #imgdirsrc "object_camera.jpg"))
 (dest #imgdir)
    )          
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #imgdirsrc "object_crate.jpg"))
 (dest #imgdir)
    )         
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #imgdirsrc "story_main.jpg"))
 (dest #imgdir)
    )               
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #imgdirsrc "weapon_a2k.jpg"))
 (dest #imgdir)
    )           
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #imgdirsrc "weapon_emp_nuke.jpg"))
 (dest #imgdir)
    )         
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #imgdirsrc "weapon_flare.jpg"))
 (dest #imgdir)
    )          
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #imgdirsrc "weapon_ired.jpg"))
 (dest #imgdir)
    )          
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #imgdirsrc "weapon_sniper_rifle.jpg"))
 (dest #imgdir)
    )     
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #imgdirsrc "weapon_sonic_cannon.jpg"))
 (dest #imgdir)
    )     
   (copyfiles
 (prompt #copygamefiles)
 (help @copyfiles-help)
 (source (tackon #imgdirsrc "zlogo.gif"))
 (dest #imgdir)
    )     
    )                                                                                                   
    (
    (message "Zaero was not found on this CD.")
    )   
)
)

(

(set #dest-dir
    (askdir
	(prompt #dest-prompt)
		(default @default-dest)
		(help @askdir-help)
    )
)

(set #src-dir
    (askdir
	(prompt #src-prompt)
		(default @default-dest)
		(help @askdir-help)
    )
)

(set @default-dest #dest-dir)

(P_DoInstallMods)

   (copyfiles
 (prompt "Copying Icon ...")
 (help @copyfiles-help)
 (source "zaerobin/Zaero.Mod")
 (dest (tackon #dest-dir "zaero/Zaero.Mod"))
    )

   (copyfiles
 (prompt "Copying Icon ...")
 (help @copyfiles-help)
 (source "zaerobin/Zaero.Mod.info")
 (dest (tackon #dest-dir "zaero/Zaero.Mod.info"))
    )

(complete 100)
(message "If you like my ports, consider donating on PayPal to tirionareonwe@gmail.com, that's me.")

(set #ver (/ @installer-version 65536))
(if (>= #ver 44)
    (
	(effect "lower_right" "radial" $C85037 $000000)
    )
)

(if (< #ver 43)
    (
	(exit "Your Installer is too old. Get a new version from Aminet" (quiet))
    )
)
)
    

