
; Le scriptje to add sound to the game

echo "Type 'game.000 ?' for all options of the game executable"


run sndhnd  >nil:    ;Start sound handler (-d for debug (memory))

; event -e             ;Filter off  (LED dim)

event -l  step  5
event -l  chop  7    ;Load chopper sample and use ID 7
event -a 7           ;Start loop 7


; Start the correct version with the correct CPU
; Try to Determine which mode is fast enough for the CPU


findcpu 68000
IF WARN
   echo "68000 found, starting in 16 color polygon mode"
   game.000  -p             ;start game in 16 color polygon mode
ENDIF

findcpu 68010
IF WARN
   echo "68010 found, starting in 16 color polygon mode"
   game.000  -p             ;start game in 16 color polygon mode
ENDIF

findcpu 68020
IF WARN
   IF NOT EXISTS "libs:cybergraphics.library"
      echo "68020 found, starting in 16 grey scale dithered mode"
      game.020  -g -d          ;start game in 16 grey scale dithered mode
   ELSE
      echo "68020 found, starting in CyberGfx mode"
      game.020  -c             ;start game in CyberGfx mode
   ENDIF
ENDIF

findcpu 68030
IF WARN
   IF NOT EXISTS "libs:cybergraphics.library"
      echo "68030 found, starting in HAM6 dithered mode"
      game.030  -t -d          ;start game in 16 grey scale dithered mode
   ELSE
      echo "68030 found, starting in CyberGfx mode"
      game.030  -c -u          ;start game in CyberGfx mode
   ENDIF
ENDIF

findcpu 68040
IF WARN
   IF NOT EXISTS "libs:cybergraphics.library"
      echo "68040 found, starting in HAM6 dithered mode"
      game.040  -t -d -u       ;start game in 16 grey scale dithered mode
   ELSE
      echo "68040 found, starting in CyberGfx mode"
      game.040  -c -u          ;start game in CyberGfx mode
   ENDIF
ENDIF



event -s 7           ;stop loop 7

; event -o             ;Filter on   (LED bright)

event -q             ;Stop sound handler

