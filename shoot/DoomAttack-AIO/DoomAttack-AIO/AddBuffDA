;Script for adding more buffers to the partition containing DoomAttack.
;This will speed up the loading time, but will also use a bit more RAM.
;If this is a problem, try lowering the number after "Set AddBuff".
;
;PS! The value given is the maximum buffers the partition will get.


Set AddBuff 500

;-----

Failat 21
AddBuffers : >Env:DoomDriveBuff1
IF "`Echo "$DoomDriveBuff1" first 0 len 5`" EQ ": has"

Echo >Env:DoomDriveBuff2 "$DoomDriveBuff1" first 7
List >Env:DoomDriveBuff1 Env:DoomDriveBuff2 lformat %L
Set DDBting "`Eval $DoomDriveBuff1 - 9`"
Echo >Env:DoomDriveBuff1 "$DoomDriveBuff2" first 0 len $DDBting noline

 If $DoomDriveBuff1 GE $AddBuff VAL
 Else
 Set DDBting "`Eval $AddBuff - $DoomDriveBuff1`"
 Echo "Adding $DDBting buffers to drive containing `CD`"
 AddBuffers : $DDBting >Env:DoomDriveBuff1
 Echo "The drive has now " noline
 Echo "$DoomDriveBuff1" first 7
 EndIf

UnSet DDBting
UnSetEnv Env:DoomDriveBuff2

ENDIF

UnSet AddBuff
UnSetEnv Env:DoomDriveBuff1
Failat 12

;-----

