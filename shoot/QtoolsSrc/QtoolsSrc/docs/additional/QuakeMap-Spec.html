<html>

<head>
<title>Quake MAP Specs</title>
</head>

<body bgcolor="#FFFFFF" link="#0000FF" vlink="#0000FF">

<h1 align="center">Quake MAP Specs</h1>

<p align="center"><font size="1">Last Updated: 8/3/98</font> </p>

<p align="center"><font size="2">Info on entities/maps and
maintenance by </font><a href="mailto:niklata@nospam.niklata.com"><font
size="2">Niklata (Nicholas J. Kain)</font></a><font size="2"><br>
Additions and original HTMLization by </font><a
href="mailto:thomas.winzig@webcom.com"><font size="2">Thomas
Winzig</font></a></p>

<p>Here are the MAP file specs. This document should tell you
everything you need to know about MAP files. This should help you
in making editors/building MAP files. If you find an error, or figure
something out that I don't know, please email <a
href="mailto:niklata@nospam.niklata.com">Niklata</a>. I'll put in your
contribution and you'll get your name in here as well. </p>

<p><font size="3">This document is now a part of the </font><a
href="http://www.gamers.org/dEngine/quake/spec/qspec-current.html"><font
size="3">Unoffical Quake Specs</font></a><font size="3">. This standalone
version is here to provide you with the most up-to-date information
about Quake Map Editing. It is also a part of the </font><a
href="http://www.gamers.org/dEngine/quake/#QDP"><font size="3">Quake Documentation
Project</font></a><font size="3">.</font></p>

<p><font size="3">
This is the final update to the QMS.  I've cleaned a few
things up, especially in the unclear and sometimes inaccurate Appendix A
at the end of the document.  The QMS will not be updated to include
information about Q2.  I don't like Q2, so I'm not going to spend any
time dissecting it.
</font></p>

<p>You can get the most up-to-date version of the Quake MAP Specs from <a
href="http://www.niklata.com/quake">niklata.com</a>.

<hr size="5" noshade>

<h2 align="center"><a name="TOC">Table of Contents</a></h2>

<p><b>Section 1: MAP Information</b><br>
<a href="#2.1.1"><b>1.1</b></a><b>:</b> Coordinate System<br>
<a href="#2.1.2"><b>1.2</b></a><b>:</b> Brushes<br>
<a href="#2.1.3"><b>1.3</b></a><b>:</b> Map Structure<br>
</p>

<p><b>Section 2: Entity Information</b><br>
<a href="#2.2.1"><b>2.1</b></a><b>:</b> Entity Overview<br>
<a href="#2.2.2"><b>2.2</b></a><b>:</b> Flags and Spawnflags Key<br>
<a href="#2.2.3"><b>2.3</b></a><b>:</b> Optional parameters for
triggers <br>
<a href="#2.2.4"><b>2.4</b></a><b>:</b> General entity syntax <br>
<a href="#2.2.5"><b>2.5</b></a><b>:</b> General entity list </p>

<p><b>Section 3: Entity classname</b> examples<br>
<a href="#2.3.1"><b>3.1</b></a><b>:</b> Lights <br>
<a href="#2.3.2"><b>3.2</b></a><b>:</b> Player movement keys <br>
<a href="#2.3.3"><b>3.3</b></a><b>:</b> Movers (Doors, plats,
etc) <br>
<a href="#2.3.4"><b>3.4</b></a><b>:</b> Triggers/Switches <br>
<a href="#2.3.5"><b>3.5</b></a><b>:</b> Traps/Things harmful to
you <br>
<a href="#2.3.6"><b>3.6</b></a><b>:</b> Miscellaneous </p>

<p><b>Section 4: Special entity-related structures</b><br>
<a href="#2.4.1"><b>4.1</b></a><b>:</b> Moving platforms<br>
<a href="#2.4.2"><b>4.2</b></a><b>:</b> Monsters and triggers<br>
<a href="#2.4.3"><b>4.3</b></a><b>:</b> How to use trigger_count<br>
<a href="#2.4.4"><b>4.4</b></a><b>:</b> Teleporting monsters<br>
<a href="#2.4.5"><b>4.5</b></a><b>:</b> Properties of Buttons<br>
<a href="#2.4.6"><b>4.6</b></a><b>:</b> Including predefined
models</p>

<p><b>Appendix A: Useful Equations</b><br>
<a href="#2.A.1"><b>A.1</b></a><b>:</b> Introduction and overview</p>

<p><b>Appendix B: </b><a href="#CMFGS"><b>Glossary</b></a><br>
</p>

<hr size="5" noshade>

<p><font size="5">What's New</font></p>

<p>Fixed flag tags.</p>

<p><b>Contributors to the Map Section</b></p>

<p><b>Thomas Winzig</b> - Confirmation on the <b>model</b>; key's
behavior. HTMLization of original Map Specs doc. Clarified
several things. Reorganized the document structure a little bit.<br>
<b>Brian Hackert</b> - Info on how to use <b>func_train</b> and <b>path_corner</b>. Told me
that <b>targetname</b> and <b>target</b> can have real names for
their argument, not just numbers.<br>
<b>Remco Stoffer</b> - <b>trigger_counter</b> info, light styles, <b>trap_shooter</b>, some <b>trigger_relay</b>
info, teleporting monsters, shootable buttons, and lots of other
stuff.<br>
<b>Thomas Scherning</b> - Information on the last five brush
parameters.<br>
<b>Lars Bensmann</b> - Information on using <b>origin</b> with
attached brushes, a few bugfixes.<br>
<b>Robert Jones</b> - Info on using <b>light</b> key with fires,
list of light styles.<br>
<b>Marc Fontaine</b> - Correcting the Y-axis in the coord system.<br>
<b>Bernd Kreimeier</b> - Correcting rot_angle and texture
offsets.<br>
<b>Ben Morris</b> - Correcting right/left handed system.<br>
<b>Dalias</b> - Correcting several errors in section 2.2.3. Use
of <b>model</b> tag in map files.<br>
<b>Denis Moeller</b> - List of entites and their keys/flags,
difficulty flags, several fixes.<br>
<b>Martin Fuchs</b> - Several fixes/additions.</p>

<h2 align="center"><a name="CMFMF">Section 1: MAP Information</a></h2>

<h3><a name="2.1.1">2.1.1 Coordinate System:</a></h3>

<p><font size="3">Quake uses a standard right-handed (X,Y,Z)
coordinate system. If you're not familiar with the reference of
&quot;right-handed&quot; to a coordinate system, it basically
provides a tactile and visual discription of the mechanics of the system.
If you point your fingers towards the positive x-axis and bend your
fingers so that your knuckles face the positive y-axis, your
thumb will point towards the positive z-axis:</font></p>

<pre>
        ^ z+
        |
        |
        |
        |
        |------------&gt; y+
       /
      /
     /
    /
   <x+ </pre>
</pre>

<p><font size="3">Some entities also need to have an <b>angle</b>
key that tells the direction it is facing. All angles in Quake
are represented using degrees for measurement. The possible
values are listed below:</font></p>

<pre>
1-360: Normal Angle (360 == east)
-1: Up
-2: Down
</pre>

<h3><a name="2.1.2">2.1.2 Brushes:</a></h3>

<p><font size="3">Brushes are one of the two primary components
of a MAP file. Each brush defines a solid region. Brushes define
this region as the intersection of four or more planes. Each
plane is defined by three noncolinear points. These points must
go in a clockwise orientation:</font></p>

<pre>
1--2-----------------&gt;
|
3
|
|
|
|
|
,
</pre>

<p><font size="3">Each brush statement looks like this:</font></p>

<pre>
 {
  ( 128 0 0 ) ( 128 1 0 ) ( 128 0 1 ) GROUND1_6 0 0 0 1.0 1.0
  ( 256 0 0 ) ( 256 0 1 ) ( 256 1 0 ) GROUND1_6 0 0 0 1.0 1.0
  ( 0 128 0 ) ( 0 128 1 ) ( 1 128 0 ) GROUND1_6 0 0 0 1.0 1.0
  ( 0 384 0 ) ( 1 384 0 ) ( 0 384 1 ) GROUND1_6 0 0 0 1.0 1.0
  ( 0 0 64 ) ( 1 0 64 ) ( 0 1 64 ) GROUND1_6 0 0 0 1.0 1.0
  ( 0 0 128 ) ( 0 1 128 ) ( 1 0 128 ) GROUND1_6 0 0 0 1.0 1.0
 }
</pre>

<p><font size="3">That's probably just a bit confusing when you
first see it. It defines a rectangular region that extends from
(128,128,64) to (256,384,128). Here's what a single line means:</font></p>

<pre>
  ( 128 0 0 ) ( 128 1 0 ) ( 128 0 1 ) GROUND1_6 0 0 0 1.0 1.0
   1st Point   2nd Point   3rd Point   Texture  
					       
</pre>

<p><font size="3">Now, you're probably wondering what those last
five numbers are. I've listed what they do below:</font></p>

<pre>
x_off     - Texture x-offset
y_off     - Texture y-offset
rot_angle - floating point value indicating texture rotation
x_scale   - scales x-dimension of texture (negative value to flip)
y_scale   - scales y-dimension of texture (negative value to flip)
</pre>

<h3><a name="2.1.3">2.1.3 General MAP Info:</a></h3>

<p><font size="3">The actual MAP file format is quite simple. It
is simply a text file. All Quake editing tools should support
either UNIX or DOS text formats, as id's tools do.</font></p>

<p><font size="3">MAP files are the development format for Quake
levels. It is preferred that all editors work with MAP files, as
all tools released by id Software also use the MAP file format. A
map file is basically un-'compiled' level data. The actual MAP
file is totally unusable by Quake itself until it is coverted to
a BSP file by a BSP builder such as id Software's QBSP. For a MAP
file's lightmaps to be calculated by Quake, the level must also be
run through a light builder, such as LIGHT. Otherwise, everything
will be displayed at full brightness. Finally, to speed up the
level and ensure proper display, visibility lists should be
calculated by a program such as VIS. The process for building
levels in Quake is quite time-consuming compared to building Doom
levels, even on a fast computer.</font></p>

<p><font size="3">The generalized format for a MAP file is as
follows:</font></p>

<pre>
{
 entity
 {
  brush (optional)
 }
}
...
</pre>

<p><font size="3">Comments in the MAP file are indicated by a
&quot;//&quot; (C++ style comment).</font></p>

<p><font size="3">Many entity/brush combinations can be put into
a map file. All MAP files must contain with a <b>worldspawn</b>
entity, usually as the first entry. This entry defines all of the
normal brushes that make up the structure of the level. There
should be only one <b>worldspawn</b> entity per MAP file. Here's the
syntax of the <b>worldspawn</b> class:</font></p>

<pre>
&quot;classname&quot; &quot;worldspawn&quot; // Tells Quake to spawn the world
&quot;wad&quot; &quot;DIRPATH&quot;          // tells what graphics (texture) WAD2 file to use.
&quot;message&quot; &quot;TITLE&quot;        // The title of the level
&quot;worldtype&quot; &quot;#&quot;          // Describes time of environment (changes appearance/name of keys)
                         // 0 == Medieval (medieval)
                         // 1 == Runic (metal)
                         // 2 == Present (base)
&quot;sounds&quot; &quot;#&quot;             // Tells the CD player which track to play.
&quot;light&quot; &quot;#&quot;              // Default light level
</pre>

<p><font size="3">A simple map file would look like this:</font></p>

<pre>
{
 &quot;sounds&quot; &quot;1&quot;
 &quot;classname&quot; &quot;worldspawn&quot;
 &quot;wad&quot; &quot;/gfx/base.wad&quot;
 &quot;worldtype&quot; &quot;0&quot;
 {
  ( 128 0 0 ) ( 128 1 0 ) ( 128 0 1 ) GROUND1_6 0 0 0 1.0 1.0
  ( 256 0 0 ) ( 256 0 1 ) ( 256 1 0 ) GROUND1_6 0 0 0 1.0 1.0
  ( 0 128 0 ) ( 0 128 1 ) ( 1 128 0 ) GROUND1_6 0 0 0 1.0 1.0
  ( 0 384 0 ) ( 1 384 0 ) ( 0 384 1 ) GROUND1_6 0 0 0 1.0 1.0
  ( 0 0 64 ) ( 1 0 64 ) ( 0 1 64 ) GROUND1_6 0 0 0 1.0 1.0
  ( 0 0 128 ) ( 0 1 128 ) ( 1 0 128 ) GROUND1_6 0 0 0 1.0 1.0
 }
}
{
 &quot;classname&quot; &quot;info_player_start&quot;
 &quot;origin&quot; &quot;256 384 160&quot;
}
</pre>

<p><font size="3">As you can see, all brushes are contained in
entities, even those that make up the main level. The most
complex part of MAP files are the entities. They are what the
rest of this document are about.</font></p>

<h2 align="center"><a name="s2">Section 2: Entity information</a></h2>

<h3><a name="2.2.1">2.2.1 Entity Overview:</a></h3>

<p><font size="3">Entities are the second major component of
Quake MAP files. An entity is basically a bit like a thing, but
they also function as triggers and as pathmarkers. A entity
statement looks like this:</font></p>

<pre>
{
 &quot;classname&quot; &quot;light&quot;
 &quot;origin&quot; &quot;0 128 64&quot;
 &quot;light&quot; &quot;255&quot;
}
</pre>

<p><font size="3">This is what is called a general entity
statement. It is called a general statement because it does not attach
to a brush. An attached entity statement looks like this:</font></p>

<pre>
{
 &quot;classname&quot; &quot;func_door&quot;
 &quot;angle&quot; &quot;0&quot;
 &quot;speed&quot; &quot;16&quot;
 &quot;targetname&quot; &quot;t1&quot;
 &quot;sounds&quot; &quot;1&quot;
 &quot;wait&quot; &quot;16&quot;
  {
   ( 128 0 0 ) ( 128 1 0 ) ( 128 0 1 ) GROUND1_6 0 0 0 1.0 1.0
   ( 256 0 0 ) ( 256 0 1 ) ( 256 1 0 ) GROUND1_6 0 0 0 1.0 1.0
   ( 0 128 0 ) ( 0 128 1 ) ( 1 128 0 ) GROUND1_6 0 0 0 1.0 1.0
   ( 0 384 0 ) ( 1 384 0 ) ( 0 384 1 ) GROUND1_6 0 0 0 1.0 1.0
   ( 0 0 64 ) ( 1 0 64 ) ( 0 1 64 ) GROUND1_6 0 0 0 1.0 1.0
   ( 0 0 128 ) ( 0 1 128 ) ( 1 0 128 ) GROUND1_6 0 0 0 1.0 1.0
  }
}
</pre>

<p><font size="3">Attached entity brushes can have an
&quot;origin&quot; key. It can be used to offset where they
appear in the level.</font></p>

<p>For the rest of the document, when I give you frameworks for a structure, the
individual entries can be in any order, and lots are optional. I
try to mark if an entry is optional, although this has not yet been
rigorously tested. </p>

<p>In a &quot;&quot; block, your choices for that block are
delimited by commas. </p>

<h3><a name="2.2.2">2.2.2 Flags and Spawnflags Key:</a> </h3>

<p>The spawnflags change the default behavior of an entity. They
can be set manually using a spawnflags key, or by using flags in
the entity. Values can be combined by addition or bitwise or (really
the same thing). Spawnflags are also automatically manipulated
when you use a flag parameter within the entity. This only has an
effect at the progs level though.</p>

<pre>

** UNDER CONSTRUCTION **

General flags/values:

256                  - Does not appear if skill == 0 (easy)
512                  - Does not appear if skill == 1 (medium)
1024                 - Does not appear if skill == 2 (hard and nightmare)
1792                 - Does not appear if skill == 0, 1, 2 (deathmatch games only)
2048                 - Does not appear if deathmatch != 0 (in deathmatch games)

ammo items:
&quot;big&quot;            (1) - Doubles amount of ammo in box

monsters:
&quot;ambush&quot;         (1) - Monster only wakes up on sight

func_episodegate:
&quot;e1&quot;                 - Appears if player has Episode 1 sigil
&quot;e2&quot;                 - Appears if player has Episode 2 sigil
&quot;e3&quot;                 - Appears if player has Episode 3 sigil
&quot;e4&quot;                 - Appears if player has Episode 4 sigil

func_door:
&quot;toggle&quot;         (1) - 
&quot;start_open&quot;     (2) - 
&quot;door_dont_link&quot; (4) - 
&quot;gold_key&quot;       (8) - 
&quot;silver_key&quot;    (16) - 

item_health:
&quot;rotten&quot;         (1) - Gives 10HP
&quot;megahealth&quot;     (2) - Gives 100HP, then slowly decrease to max health limit

item_sigil:
&quot;e1&quot;                 - Sigil for Episode 1
&quot;e2&quot;                 - Sigil for Episode 2
&quot;e3&quot;                 - Sigil for Episode 3
&quot;e4&quot;                 - Sigil for Episode 4

monster_zombie:
&quot;crucified&quot;      (1) - Crucified Zombie

trigger_teleport:
&quot;silent&quot;         (2) - 
</pre>

<h3><a name="2.2.3">2.2.3 General Entity syntax:</a></h3>

<p><i>(Thanks to John Wakelin who wrote much of this section)</i></p>

<p>The entities define the monsters, things, but also the
positions in space where something must happen, so they are the
Quake equivalent of both the THINGS and the LINEDEF types from DOOM.</p>

<p>The entity definitions are made up of a series of specific
details (called keys) that define what each is, where it starts,
when it appears etc. Each key is followed by a modifier that
arguments it. A key that does not have an argument is called a
flag. Its presence alters the behavior of the entity that contains
it. Flags are usually only work with certain entity classes. All definitions
have the <tt>classname</tt> key that identifies that entity. The <tt>classname</tt>
keys relate intimately with the <a href="#PDAT">code lump</a> and are
the names of functions written in Quake C.</p>

<pre>
<b>Key                 Args                       Description</b>
--------------------------------------------------------------------------------
&quot;classname&quot;  &quot;<i>name</i>&quot;    // Type of entity to be defined (mandatory)
&quot;origin&quot;     &quot;<i>X Y Z</i>&quot;   // Coordinates of where it starts in space.
&quot;angle&quot;      &quot;<i>#</i>&quot;       // Direction it faces or moves (sometimes in degrees)
&quot;light&quot;      &quot;<i>#</i>&quot;       // Used with the <i>light</i> classname.
&quot;target&quot;     &quot;<i>t#</i>&quot;      // Matches a targetname.
&quot;targetname&quot; &quot;<i>t#</i>&quot;      // Like a linedef key.
&quot;killtarget&quot; &quot;<i>#</i>&quot;       // Removes target when triggered?
&quot;spawnflags&quot; &quot;<i>#</i>&quot;       // Used to flag/describe an entity that is not default.
&quot;style&quot;      &quot;#&quot;       // Used to flag/describe an entity that is not default.
&quot;message&quot;    &quot;<i>string</i>&quot;  // Message displayed when triggered (\n for linebreaks)
&quot;mangle&quot;     &quot;<i>X Y Z</i>&quot;   // Point where the intermission camera looks at

{MODEL INFO}           // In entities that describe triggers/doors/platforms, etc,
                       // the model info is inserted into the entity brackets,
                       // delimited by another set of brackets.  The <b>model</b> key
                       // may be used in place of an inline model declaration.

&quot;model&quot;     &quot;<i>*#</i>&quot;       // Defines the model contained within the brush

specifics/args present only in models:

&quot;speed&quot;      &quot;<i>#</i>&quot;          // How fast the model is moved.
&quot;wait&quot;       &quot;#&quot;          // How long a pause between completion of movement or
                          // return to original position (in seconds or 10ths)
&quot;lip&quot;        &quot;#&quot;          // Amount a button/door sticks out when activated.
&quot;dmg&quot;        &quot;#&quot;          // How much damage the model causes when it shuts on you?
&quot;health&quot;     &quot;#&quot;          // How much damage the model takes before it triggers
&quot;delay&quot;      &quot;#&quot;          // Time before event is triggered
&quot;sounds&quot;     &quot;#&quot;          // Sound entity makes when triggered/spawned
&quot;wad&quot;        &quot;<i>wadfile</i>&quot;    // The wad2 graphics file used by the world for textures.
&quot;height&quot;     &quot;#&quot;          // How high a platform will raise


---------------------------------------------------------------------------------
{
    &quot;key1&quot; &quot;arg1&quot;      // The first descriptors (usually classname)
    &quot;key2&quot; &quot;arg2&quot;      // The second
    ...                // Etc...

    {
        &lt;INSERT MODEL INFO HERE&gt;     // for entities like doors/triggers/platforms/etc
    }
}
</pre>

<p>Note: The term <em>model</em> refers to a combination of a
brush and an entity. One or more brushes are bound to an entity,
which controls the behavior of the brushes. All brushes are
contained within models.</p>

<p>The model numbers in the compiled BSP (<tt>*</tt><var>x</var>)
comes from the order in which the models are stored in the <a
href="#BLE">models structure</a>. These numbers are originally
derived from the order of the models in the source MAP file.</p>

<p>The worldspawn model is a bounding box that defines the
extents of the whole world. There should only be one worldspawn
model per map.</p>

<p>The models are defined by a bounding box of the <tt>max</tt>
and <tt>min(x,y,z)</tt>. Therefore they are always parallel to
the horizontal planes. This bounding box is simply used for
speeding up collision detection and will not affect the movement
of the models themselves.</p>

<h3><a name="2.2.4">2.2.4 All known entities (current for
Registered Quake 1.01):</a></h3>

<pre>
<b>air_bubbles</b>                   : Rising bubbles


<b>ambient_comp_hum</b>              : Computer background sounds
<b>ambient_drip</b>                  : Dripping sound
<b>ambient_drone</b>                 : Engine/machinery sound
<b>ambient_fluoro_buzz</b>           : Flourescent buzzing sound
<b>ambient_light_buzz</b>            : Buzzing sound from light
<b>ambient_suck_wind</b>             : Wind sound
<b>ambient_swamp1</b>                : Frogs croaking
<b>ambient_swamp2</b>                : Slightly different sounding frogs croaking
<b>ambient_thunder</b>               : Thunder sound


<b>event_lightning</b>               : Lightning (Used to kill Cthon, shareware boss)


<b>func_bossgate</b>                 : Entity appears unless player has all four sigils
<b>func_button</b>                   : A button
<b>func_dm_only</b>                  : A teleporter that only appears in deathmatch
<b>func_door</b>                     : Door
<b>func_door_secret</b>              : A door that is triggered to open
<b>func_episodegate</b>              : Entity appears if player has appropriate episode sigil
<b>func_illusionary</b>              : Creates brush that appears solid, but isn't
<b>func_plat</b>                     : A lift/elevator
<b>func_train</b>                    : A platform (moves along a &quot;train&quot;)
<b>func_wall</b>                     : Changes texture to alternate texture when triggered

<b>info_intermission</b>             : Cameras positioning for intermission (?)
<b>info_notnull</b>                  : Used as a positional target for lighting (does not remove itself)
<b>info_null</b>                     : Used as a positional target for spotlights (removes itself)
<b>info_player_coop</b>              : A coop player start (more than one allowed)
<b>info_player_deathmatch</b>        : A deathmatch start (more than one allowed)
<b>info_player_start</b>             : Main player starting point (only one allowed)
<b>info_player_start2</b>            : Return point from episode
<b>info_teleport_destination</b>     : Gives coords for a teleport destination using a targetname


All <b>item_</b> keys may have a <b>target</b> key.  It triggers 
the event when the item is picked up.

<b>item_armor1</b>                   : Green armor
<b>item_armor2</b>                   : Yellow armor
<b>item_armorInv</b>                 : Red armor
<b>item_artifact_envirosuit</b>      : Environmental Protection Suit
<b>item_artifact_invisibility</b>    : Ring of Shadows (Invisibility)
<b>item_artifact_invulnerability</b> : Penkeyram of Protection
<b>item_artifact_super_damage</b>    : Quad Damage
<b>item_cells</b>                    : Ammo for the Thunderbolt
<b>item_health</b>                   : Medkit
<b>item_key1</b>                     : Silver Key
<b>item_key2</b>                     : Gold Key
<b>item_rockets</b>                  : Ammo for Rocket/Grenade Launcher
<b>item_shells</b>                   : Ammo for both Shotgun and SuperShotgun
<b>item_sigil</b>                    : Sigil (a rune)
<b>item_spikes</b>                   : Ammo for Perforator and Super Perforator
<b>item_weapon</b>                   : Generic weapon class - DO NOT USE


<b>light</b>                         : A projected light. No visible lightsource.
<b>light_flame_large_yellow </b>     : Large yellow fire (gives off light)
<b>light_flame_small_yellow </b>     : Small yellow fire (gives off light)
<b>light_flame_small_white </b>      : Small white fire  (gives off light)
<b>light_fluoro </b>                 : A projected light. No visible lightsource. Makes humming sound.
<b>light_fluorospark</b>             : A projected light. No visible lightsource. Makes broken, sparking
                                sound
<b>light_globe</b>                   : Light that appears as a globe sprite
<b>light_torch_small_walltorch</b>   : Small wall torch (gives off light)


<b>monster_army</b>                  : Grunt (30HP)
<b>monster_boss</b>                  : Cthon - only can be killed by event_lightning
<b>monster_demon1 </b>               : Fiend [Demon] (300HP)
<b>monster_dog</b>                   : Attack dog (25HP)
<b>monster_enforcer</b>              : Enforcer (80HP)
<b>monster_fish</b>                  : Rotfish (25HP)
<b>monster_hell_knight</b>           : Hell Knight (250HP)
<b>monster_knight</b>                : Knight (75HP)
<b>monster_ogre</b>                  : Ogre (200HP)
<b>monster_ogre_marksman</b>         : Ogre [synonymous with monster_ogre] (200HP)
<b>monster_oldone</b>                : Shubb-Niggurath (40000HP) - requires a misc_teleportrain and
                                an info_intermission
<b>monster_shalrath</b>              : Shalrath [Vore] (400HP)
<b>monster_shambler</b>              : Shambler (600HP) - rockets 1/2 damage
<b>monster_tarbaby</b>               : Spawn [Tarbaby] (80HP)
<b>monster_wizard</b>                : Scragg [Wizard] (80HP)
<b>monster_zombie</b>                : Zombie (60HP)


<b>misc_explobox</b>                 : Large Nuclear Container
<b>misc_explobox2</b>                : Small Nuclear Container
<b>misc_fireball</b>                 : Small fireball (gives off light, harms player)
<b>misc_noisemaker</b>               : Makes lots of sounds (not very useful)
<b>misc_teleporttrain</b>            : Spiked ball needed to telefrag monster_oldone


<b>noclass</b>                       : Prints a warning message when spawned and removes itself


<b>path_corner</b>                   : Used to define path of <b>func_train</b> platforms and of monsters


<b>test_fodder</b>                   : Testing only - DO NOT USE
<b>test_teleport</b>                 : Teleporter Testing - DO NOT USE


<b>trap_shooter</b>                  : Fires nails without needing to be triggered.
<b>trap_spikeshooter</b>             : Shoots spikes (nails)


<b>trigger_changelevel </b>          : Changes to another level
<b>trigger_counter</b>               : Triggers action after it has been triggered <b>count</b> times.
<b>trigger_hurt</b>                  : Hurts whatever touches the trigger
<b>trigger_monsterjump </b>          : Causes triggering monster to jump in a direction
<b>trigger_multiple</b>              : Triggers action (can be retriggered)
<b>trigger_once</b>                  : Triggers action only once
<b>trigger_onlyregistered</b>        : Triggers only if game is registered (registered == 1)
<b>trigger_push</b>                  : Pushes a player in a direction (like a windtunnel)
<b>trigger_relay</b>                 : Allows delayed/multiple actions from one trigger 
<b>trigger_secret</b>                : Triggers action and awards secret credit.
<b>trigger_setskill</b>              : Changes skill level
<b>trigger_teleport</b>              : Teleport (all trigger_ keys are triggered by walkover)


<b>weapon_grenadelauncher</b>        : Grenade Launcher
<b>weapon_lightning</b>              : Lightning Gun
<b>weapon_nailgun</b>                : Perforator
<b>weapon_rocketlauncher</b>         : Rocket Launcher
<b>weapon_supernailgun</b>           : Super Perforator
<b>weapon_supershotgun</b>           : Super Shotgun

</pre>

<h2 align="center"><a name="CMFMC">Section 3: Entity 'class'
examples</a></h2>

<h3><a name="2.3.1"><b>2.3.1 Lights</b></a></h3>

<p><font size="3">For all light-emmitting entities, <b>spawnflags</b>
and <b>style</b> have special meanings:</font></p>

<pre><font size="3">
Spawnflags:
0 - Light starts on.  Switches off when triggered.
1 - Light starts off.  Switches on when triggered.

Style:
0  - normal
1  - flicker (first variety)
2  - slow strong pulse
3  - candle (first variety)
4  - fast strobe
5  - gentle pulse
6  - flicker (second variety)
7  - candle (second variety)
8  - candle (third variety)
9  - slow strobe
10 - flourescent flicker
11 - slow pulse, not fading to black
   
   styles 32-62 are assigned by the light program for switchable lights

63 - testing
</font></pre>
<font size="3"><CR></font><font size="3"><CR></font>

<pre><font size="3"><b>Regular Light:</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;light&quot;
    &quot;origin&quot; &quot;X Y Z&quot;    // Tells where the light is
    &quot;light&quot; &quot;#&quot;         // Tells how bright the light is (optional - default 200)
    &quot;style&quot; &quot;#&quot;         // How the light appears
    &quot;spawnflags&quot; &quot;#&quot;    // State light starts in
    &quot;target&quot; &quot;#&quot;        // What the light points at (optional - makes a spotlight)
    &quot;targetname&quot; &quot;#&quot;    // Target id of the light

    &quot;starts_off;quot;    // If present, light starts turned off

}
</font></pre>

<pre><font size="3"><b>Fluorescent Light:</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;light_fluoro&quot;
    &quot;origin&quot; &quot;X Y Z&quot;    // Tells where the light is
    &quot;light&quot; &quot;#&quot;         // Tells how bright the light is (optional - default 200)
    &quot;style&quot; &quot;#&quot;         // How the light appears
    &quot;spawnflags&quot; &quot;#&quot;    // State light starts in
    &quot;targetname&quot; &quot;#&quot;    // Target id of the light
}
</font></pre>

<pre><font size="3"><b>Fluorescent Light (makes sparking sound):</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;light_fluorospark&quot;
    &quot;origin&quot; &quot;X Y Z&quot;    // Tells where the light is
    &quot;light&quot; &quot;#&quot;         // Tells how bright the light is (optional - default 200)
    &quot;style&quot; &quot;#&quot;         // How the light appears
    &quot;spawnflags&quot; &quot;#&quot;    // State light starts in
    &quot;targetname&quot; &quot;#&quot;    // Target id of the light
}
</font></pre>

<pre><font size="3"><b>Torches:</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;light_torch_small_walltorch&quot;
    &quot;origin&quot; &quot;X Y Z&quot;    // Tells where the light is
    &quot;light&quot; &quot;#&quot;         // Tells how bright the light is (optional - default 200)
    &quot;style&quot; &quot;#&quot;         // How the light appears
    &quot;spawnflags&quot; &quot;#&quot;    // State light starts in
    &quot;targetname&quot; &quot;#&quot;    // Target id of the light
}
</font></pre>

<pre><font size="3"><b>Fire:</b>
</font></pre>

<pre><font size="3">
{
&quot;classname&quot; &quot;light_flame_large_yellow&quot;
&quot;light&quot; &quot;#&quot;         // Tells how bright the light is (optional)
&quot;origin&quot; &quot;X Y Z&quot;
}

{
&quot;classname&quot; &quot;light_flame_small_yellow, light_flame_small_white&quot;
&quot;light&quot; &quot;#&quot;         // Tells how bright the light is (optional)
&quot;origin&quot; &quot;X Y Z&quot;

&quot;starts_off&quot;    // If present, light is off until triggered
}
</font></pre>

<h3><a name="2.3.2"><font size="3">2.3.2 Player Movement Entities</font></a></h3>

<pre><font size="3"><b>Level Change Trigger (attaches to brush):</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;trigger_changelevel&quot;
    &quot;map&quot; &quot;mapname&quot;  // Map to change to on trigger; if not present, map is restarted
    &quot;spawnflags&quot; &quot;#&quot; // Flags describing the object (optional)
    &quot;no_intermission&quot;          // If present, intermission screen is skipped

    {
        &lt;INSERT MODEL INFO HERE&gt;
    }

}
</font></pre>

<pre><font size="3"><b>Teleport Trigger (attaches to brush):</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;trigger_teleport&quot;
    &quot;target&quot; &quot;t#&quot;     // Teleport destination name to teleport to.
    &quot;targetname&quot; &quot;t#&quot; // if present, only teleports when triggered, not when touched (optional) 

    &quot;player_only&quot;               // If present, only players can use teleport
    &quot;silent&quot;       // If present, teleport makes no sound (broken in QuakeC; use spawnflags == 2)

    {
        &lt;INSERT MODEL INFO HERE&gt;
    {

}
</font></pre>

<pre><font size="3"><b>Teleport Destination:</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;info_teleport_destination&quot;
    &quot;origin&quot; &quot;X Y Z&quot;
    &quot;angle&quot; &quot;#&quot;       // angle the player will face upon leaving teleport
    &quot;targetname&quot; &quot;t#&quot; // Teleport's trigger name
}
</font></pre>

<h3><a name="2.3.3"><font size="3">2.3.3 Movers</font></a></h3>

<pre><font size="3"><b>Door (attaches to brush):</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;func_door&quot;
    &quot;angle&quot; &quot;#&quot;      // opening angle
    &quot;speed&quot; &quot;#&quot;      // speed of movement (100 default)(optional)
    &quot;targetname&quot; &quot;#&quot; // Door's trigger name (optional)
    &quot;sounds&quot; &quot;#&quot;     // sound it makes
                     // 0 = no sound
                     // 1 = stone
                     // 2 = base
                     // 3 = stone chain
                     // 4 = screechy metal
    &quot;wait&quot; &quot;#&quot;       // delay before closing (3 default, -1 never return) (optional)
    &quot;spawnflags&quot; &quot;#&quot; // Flags describing the object (optional)
    &quot;lip&quot; &quot;#&quot;        // amount remaining at end of move (8 default) (optional)
    &quot;message&quot; &quot;#&quot;    // message printed if door is opened by trigger
    &quot;health&quot; &quot;#&quot;     // if set, door must be shot open
    &quot;dmg&quot; &quot;#&quot;        // damage inflicted on blocking entities

    &quot;toggle&quot;         // door waits in both open and closed states for trigger
    &quot;start_open&quot;     // door starts open; when triggered, closes
    &quot;door_dont_link&quot; // does not link action to multiple door brushes?
    &quot;gold_key&quot;       // door requires a gold key to open
    &quot;silver_key&quot;     // door requires a silver key to open


    {
        &lt;INSERT MODEL INFO HERE&gt;
    }
}
</font></pre>

<pre><font size="3"><b>Secret Door - automatically shootable:</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;func_door_secret&quot;
    &quot;angle&quot; &quot;#&quot;      // angle it moves when activated
    &quot;speed&quot; &quot;#&quot;      // speed of movement
    &quot;targetname&quot; &quot;#&quot; // Door's trigger name
    &quot;sounds&quot; &quot;#&quot;     // sound it makes
    &quot;wait&quot; &quot;#&quot;       // delay before closing
    &quot;spawnflags&quot; &quot;#&quot; // Flags describing the object (optional)
    &quot;lip&quot; &quot;#&quot;        // some kind of offset (optional)

    &quot;open_once&quot;      // once open, stays open
    &quot;1st_left&quot;       // first move is left of arrow
    &quot;1st_down&quot;       // first move is down from arrow
    &quot;no_shoot&quot;       // only opened by trigger
    &quot;always_shoot&quot;   // even if targeted, keep shootable

    {
        &lt;INSERT MODEL INFO HERE&gt;
    }
}
</font></pre>

<pre><font size="3"><b>Just a regular wall, unless targeted, then changes 
texture to alternate texture.  Also useful for creating deathmatch and 
single-player only brushes. (attaches to brush):</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;func_wall&quot;
    &quot;spawnflags&quot; &quot;#&quot; // difficulty level/mode brush appears/does not appear in.

    {
        &lt;INSERT MODEL INFO HERE&gt;
    }
}
</font></pre>

<pre><font size="3"><b>A platform (i.e. lift or elevator, attaches to brush)</b>



note - The platform should be placed at its top position when
you place it in your map.  The platform is lowered by the height
key.  When the plat is stepped on, the plat raises to its original
position.  To make a platform that starts out at its top position
and lowers to the ground, use <b>func_door:</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;func_plat&quot;
    &quot;height&quot; &quot;#&quot; // determines amount plat moves manually (optional)
    &quot;speed&quot; &quot;#&quot;  // moving speed (default:150)
    &quot;sounds&quot; &quot;#&quot; // sound it makes (optional)
                 // 1 = base fast
                 // 2 = chain slow

    {
        &lt;INSERT MODEL INFO HERE&gt;
    }
}
</font></pre>

<pre><font size="3"><b>Moving platform (Attaches to brush):</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;func_train&quot;
    &quot;sounds&quot; &quot;#&quot;      // Sound it makes when activated
                      // 1 == ratchet metal
    &quot;speed&quot; &quot;#&quot;       // Speed at which it moves (default:100)
    &quot;target&quot; &quot;t#&quot;     // Trigger name of its first path_corner destination
    &quot;targetname&quot; &quot;t#&quot; // Its trigger name
    &quot;dmg&quot; &quot;#&quot;         // Damage done on crush (default:2)

    {
        &lt;INSERT MODEL INFO HERE&gt;
    }
}
</font></pre>

<pre><font size="3"><b>Describes path of train/monsters:</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;path_corner&quot;
    &quot;origin&quot; &quot;X Y Z&quot;
    &quot;target&quot; &quot;t#&quot;     // Trigger name of next train destination.
    &quot;targetname&quot; &quot;t#&quot; // It's trigger name.
}
</font></pre>

<pre><font size="3"><b>Appears as solid wall, but can be walked through, light passes through:</b>
</font></pre>

<pre><font size="3">
{
	&quot;classname&quot; &quot;func_illusionary&quot;

    {
        &lt;INSERT MODEL INFO HERE&gt;
    }
}
</font></pre>

<h3><a name="2.3.4"><font size="3">2.3.4 Triggers/Switches</font></a></h3>

<pre><font size="3"><b>A button/switch (attaches to brush):</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;func_button&quot;
    &quot;angle&quot; &quot;#&quot;       // Angle button moves?
    &quot;speed&quot; &quot;#&quot;       // Speed it moves in?
    &quot;target&quot; &quot;t#&quot;     // Trigger name of target entity
    &quot;health&quot; &quot;#&quot;      // If there is health, button is shootable
    &quot;killtarget&quot; &quot;#&quot;  // Kills target when activated
    &quot;lip&quot; &quot;#&quot;         // Amount button sticks out when activated (default:4)
    &quot;sounds&quot; &quot;#&quot;      // Sound it makes when activated
                      // 1 == Steam Metal
                      // 2 == Wooden Clunk
                      // 3 == Metallic Click
                      // 4 == In-Out
    &quot;wait&quot; &quot;#&quot;        // Wait until retrigger? (-1 stays pressed)
    &quot;delay&quot; &quot;#&quot;       // Delay before action is triggered

    {
        &lt;INSERT MODEL INFO HERE&gt;
    }
}
</font></pre>

<pre><font size="3"><b>Trigger - removes itself when triggered:</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;trigger_once&quot;
    &quot;killtarget&quot; &quot;t#&quot; // Kills something [for triggering monster events] (optional)
    &quot;target&quot; &quot;t#&quot;     // Trigger name of target
    &quot;sounds&quot; &quot;#&quot;      // Sound made when triggered
                      // 1 == Secret Sound
                      // 2 == Beep Beep
                      // 3 == Large Switch
                      // 4 == Set &quot;message&quot; to text string
    &quot;delay&quot; &quot;#&quot;       // Delay before action is triggered
    &quot;health&quot; &quot;#&quot;      // if &gt; 1, must be killed to trigger, if == 0, walk-over trigger
    &quot;message&quot; &quot;#&quot;     // String displayed when triggered

    &quot;notouch&quot;         // Only triggered by other entities, not by touching

    {
        &lt;INSERT MODEL INFO HERE&gt;
    }
}
</font></pre>

<pre><font size="3"><b>Trigger - can be triggered multiple times:</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;trigger_multiple&quot;
    &quot;killtarget&quot; &quot;t#&quot; // Kills something [for triggering monster events] (optional)
    &quot;target&quot; &quot;t#&quot;     // Trigger name of target
    &quot;sounds&quot; &quot;#&quot;      // Sound made when triggered
                      // 1 == Secret Sound
                      // 2 == Beep Beep
                      // 3 == Large Switch
                      // 4 == Set &quot;message&quot; to text string
    &quot;wait&quot; &quot;#&quot;        // Delay before retrigger
    &quot;delay&quot; &quot;#&quot;       // Delay before action is triggered
    &quot;health&quot; &quot;#&quot;      // if &gt; 1, must be killed to trigger, if == 0, walk-over trigger
    &quot;message&quot; &quot;#&quot;     // String displayed when triggered

    &quot;notouch&quot;         // Only triggered by other entities, not by touching

    {
        &lt;INSERT MODEL INFO HERE&gt;
    }
}
</font></pre>

<pre><font size="3"><b>Trigger - only triggers if console variable </b><b><i>registered</i></b><b> == 1:</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;trigger_onlyregistered&quot;
    &quot;killtarget&quot; &quot;t#&quot; // Kills something [for triggering monster events] (optional)
    &quot;target&quot; &quot;t#&quot;     // Trigger name of target
    &quot;sounds&quot; &quot;#&quot;      // Sound made when triggered
                      // 1 == Secret Sound
                      // 2 == Beep Beep
                      // 3 == Large Switch
                      // 4 == Set &quot;message&quot; to text string
    &quot;delay&quot; &quot;#&quot;       // Delay before action is triggered
    &quot;health&quot; &quot;#&quot;      // if &gt; 1, must be killed to trigger, if == 0, walk-over trigger
    &quot;message&quot; &quot;#&quot;     // String displayed when <i>registered</i> == 0

    &quot;notouch&quot;         // Only triggered by other entities, not by touching

    {
        &lt;INSERT MODEL INFO HERE&gt;
    }
}
</font></pre>

<pre><font size="3"><b>Walk-over trigger - can be triggered multiple times:</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;trigger_secret&quot;
    &quot;killtarget&quot; &quot;t#&quot; // Kills something [for triggering monster events] (optional)
    &quot;target&quot; &quot;t#&quot;     // Trigger name of target
    &quot;sounds&quot; &quot;#&quot;      // Sound made when triggered
                      // 1 == Secret Sound
                      // 2 == Beep Beep
    &quot;wait&quot; &quot;#&quot;        // Delay before retrigger
    &quot;delay&quot; &quot;#&quot;       // Delay before action is triggered
    &quot;health&quot; &quot;#&quot;      // if &gt; 1, must be killed to trigger, if == 0, walk-over trigger
    &quot;message&quot; &quot;#&quot;     // String displayed when triggered

    &quot;notouch&quot;         // Only triggered by other entities, not by touching

    {
        &lt;INSERT MODEL INFO HERE&gt;
    }
}
</font></pre>

<pre><font size="3"><b>Triggers </b><b><i>target</i></b><b> after it is triggered </b><b><i>count</i></b><b> times:</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;trigger_counter&quot; 
    &quot;targetname&quot; &quot;t#&quot; // Its trigger name
    &quot;target&quot; &quot;t#&quot;     // Trigger name of its target
    &quot;count&quot; &quot;#&quot;       // Decrements on each trigger.  When 0 activates <b>target</b>.
    &quot;wait&quot; &quot;#&quot;        // Required delay before retrigger
    &quot;delay&quot; &quot;#&quot;       // Delay before action is triggered

    &quot;nomessage&quot;       // If present, no message will be displayed when triggered.
    {
        &lt;INSERT MODEL INFO HERE&gt;
    }
}
</font></pre>

<pre><font size="3"><b>Used to stagger events on a trigger:</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;trigger_relay&quot;
    &quot;origin&quot; &quot;X Y Z&quot;  // Where it is located
    &quot;killtarget&quot; &quot;#&quot;  // Removes targeted entity (optional)
    &quot;targetname&quot; &quot;t#&quot; // Its trigger name
    &quot;target&quot; &quot;t#&quot;     // Trigger name of its target
    &quot;delay&quot; &quot;#&quot;       // Delay before action is triggered
}
</font></pre>

<pre><font size="3"><b>Makes a monster jump when it reaches a brush:</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;trigger_monsterjump&quot;
    &quot;speed&quot; &quot;#&quot;       // Forward velocity of the monster jump
    &quot;height&quot; &quot;#&quot;      // How high the monster jumps
    &quot;angle&quot; &quot;#&quot;       // Angle towards which the monster jumps

    {
        &lt;INSERT MODEL INFO HERE&gt;
    }
}
</font></pre>

<pre><font size="3"><b>Damages whatever touches the brush:</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;trigger_hurt&quot;
    &quot;dmg&quot; &quot;#&quot;       // Damage done to touching entity

    {
        &lt;INSERT MODEL INFO HERE&gt;
    }
}
</font></pre>

<pre><font size="3"><b>Pushes the player in a direction:</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;trigger_push&quot;
    &quot;origin&quot; &quot;X Y Z&quot;  // Where it is located
    &quot;speed&quot; &quot;#&quot;       // Force of the push
    &quot;angle&quot; &quot;#&quot;       // Direction player is pushed towards (-1=up -2=down, other=normal)

    &quot;push_once&quot;       // Pushes once, then removes itself
}
</font></pre>

<h3><a name="2.3.5"><font size="3">2.3.5 Traps/Things harmful to
you:</font></a></h3>

<pre><font size="3"><b>Triggerable Nail-firing trap:</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;trap_spikeshooter&quot;
    &quot;origin&quot; &quot;X Y Z&quot;
    &quot;angle&quot; &quot;#&quot;       // Angle the trap fires at
    &quot;targetname&quot; &quot;t#&quot; // Trap's trigger name
    &quot;spawnflags&quot; &quot;#&quot;  // ??? 1024 works

    &quot;superspike&quot;      // If present, fires large spikes 
    &quot;laser&quot;           // If present, fires lasers
}
</font></pre>

<pre><font size="3"><b>Constant Nail-firing trap:</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;trap_shooter&quot;
    &quot;origin&quot; &quot;X Y Z&quot;
    &quot;angle&quot; &quot;#&quot;       // Angle the trap fires at
    &quot;wait&quot; &quot;#&quot;        // Time between shots
    &quot;spawnflags&quot; &quot;#&quot;  // ??? 1024 works
    &quot;nextthink&quot; &quot;#&quot;   // Delay before firing first spike (so shots can be skeygered)

    &quot;superspike&quot;      // If present, fires large spikes 
    &quot;laser&quot;           // If present, fires lasers
}
</font></pre>

<pre><font size="3"><b>Fireballs:</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;misc_fireball&quot;
    &quot;origin&quot; &quot;X Y Z&quot;
    &quot;speed&quot; &quot;#&quot; // Tells how fast the fireball moves
}
</font></pre>

<h3><a name="2.3.6"><font size="3">2.3.6 Miscellaneous:</font></a></h3>

<pre><font size="3"><b>Cameras for the intermission screen:</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;info_intermission&quot;
    &quot;origin&quot; &quot;X Y Z&quot; // location of camera
    &quot;mangle&quot; &quot;X Y Z&quot; // location the camera looks at
    &quot;angle&quot; &quot;#&quot;      // angle of the camera
}
</font></pre>

<pre><font size="3"><b>Setting difficulty level (attaches to brush):</b>
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;trigger_setskill&quot;
    &quot;message&quot; &quot;#&quot;   // Skill level to change to.
                    // 0 == easy
                    // 1 == normal
                    // 2 == hard
                    // 3 == nightmare
    {
        &lt;INSERT MODEL INFO HERE&gt;
    }
}
</font></pre>

<pre><font size="3"><b>Lightning used to kill the boss of E1.</b>  I'll figure out how to use
it later...  I pretty much know how, I just want to test it before I
put it here :).  From the testing I've done, the lightning produced will
not damage a player, however.  It probably triggers a script to give the
boss character damage.
</font></pre>

<pre><font size="3">
{
    &quot;classname&quot; &quot;event_lightning&quot;
    &quot;origin&quot; &quot;X Y Z&quot;  // location of lightning (origin?)
    &quot;targetname&quot; &quot;t#&quot; // It's trigger name
}
</font></pre>

<h2 align="center"><a name="CMFMS"><font size="3">Section 4:
Level Structures</font></a></h2>

<h3><a name="2.4.1"><font size="3">2.4.1 Moving Platforms:</font></a></h3>

<pre><font size="3">Creating a moving platform isn't that difficult.  First, you must define the
brush that will do the moving.  Here's an example:

</font></pre>

<pre><font size="3">
{
&quot;classname&quot; &quot;func_train&quot;
&quot;sounds&quot; &quot;1&quot;
&quot;speed&quot; &quot;128&quot;
&quot;target&quot; &quot;t1dest1&quot;
&quot;targetname&quot; &quot;t1&quot;
    {
        ( -768 0 0 ) ( -768 1 0 ) ( -768 0 1 ) GROUND1_6 0 0 0 1.0 1.0
        ( -640 0 0 ) ( -640 0 1 ) ( -640 1 0 ) GROUND1_6 0 0 0 1.0 1.0
        ( 0 -384 0 ) ( 0 -384 1 ) ( 1 -384 0 ) GROUND1_6 0 0 0 1.0 1.0
        ( 0 -256 0 ) ( 1 -256 0 ) ( 0 -256 1 ) GROUND1_6 0 0 0 1.0 1.0
        ( 0 0 -256 ) ( 1 0 -256 ) ( 0 1 -256 ) GROUND1_6 0 0 0 1.0 1.0
        ( 0 0 -128 ) ( 0 1 -128 ) ( 1 0 -128 ) GROUND1_6 0 0 0 1.0 1.0
    }
}
</font></pre>

<pre><font size="3">Now you define each of the path_corners it will travel to.  When it reaches
a <b>path_corner</b>, it will float to the next <b>path_corner</b> defined in the <b>target</b>
key of the <b>path_corner</b>.  The platform will start at the <b>path_corner</b> pointed
to by the platform's <b>target</b> key.  It will continue the loop indefinitely until
it reaches a path_corner with a <i>wait</i> key equal to -1.  The platform will go 
through walls to get to its destination.  Here is what its <b>path_corner</b>s would
look like:

</font></pre>

<pre><font size="3">
{
&quot;classname&quot; &quot;path_corner&quot;
&quot;origin&quot; &quot;0 0 0&quot;
&quot;targetname&quot; &quot;t1dest1&quot;
&quot;target&quot;&quot; &quot;t1dest2&quot;
}

{
&quot;classname&quot; &quot;path_corner&quot;
&quot;origin&quot; &quot;0 128 0&quot;
&quot;targetname&quot; &quot;t1dest2&quot;
&quot;target&quot;&quot; &quot;t1dest1&quot;
}
</font></pre>

<h3><a name="2.4.2"><font size="3">2.4.2 Monsters and Triggers:</font></a></h3>

<pre><font size="3">*NEW INFO*: Method may be broken.  trigger_counter may be required for it to properly work

Have you been wondering how you can get events to trigger when a monster dies, as first
seen in E1M2 with the demons?  Well, it's not too difficult.  When you attach a
<b>target</b> key to a monster, the monster's death will trigger the event.  I believe
(not tested) that if other monsters have a <b>targetname</b> key the same as a monster
with the <b>target</b> key, the <b>target</b> event will only occur when all monsters with
a matching <b>targetname</b> key are dead.  The monster with the <b>target</b> key need not
have the <b>targetname</b> key.
</font></pre>

<h3><a name="2.4.3"><font size="3">2.4.3 How to use <b>trigger_count</b>:</font></a></h3>

<p><font size="3">The <b>trigger_count</b> class is quite an
interesting trigger. You know of the area in E1M1 where you have
to hit the three switches to open the door? Well, that's done
using a <b>trigger_counter</b>. Each of the buttons you hit has
its <b>target</b> property set so it points to a <b>trigger_counter</b>. The <b>trigger_counter</b>
has its <b>count</b> key set to three. Each time a switch is hit, the <b>trigger_counter</b>'s <b>count</b>
property will decrement by one. When it reaches zero, it will
open the door. Each button can only be triggered once as it has a <b>wait</b>
of -1. Here's an example given to me by Remco Stoffer:</font></p>

<pre><font size="3">
{
 &quot;classname&quot;	&quot;func_door&quot;
 &quot;targetname&quot;    &quot;door2&quot;
 &quot;target&quot;        &quot;light1&quot;
 &quot;angle&quot;	&quot;-1&quot;
 &quot;wait&quot; &quot;-1&quot;
 &quot;sounds&quot; &quot;4&quot;
 &quot;message&quot;   &quot;press all buttons&quot;
 {
  ( -10  120    0 ) ( -10   80    0 ) (  10  120    0 ) *slime0 2 0 0 1.000000 1.000000
  (  10   80    0 ) (   0   80  100 ) ( -10  120    0 ) *slime0 2 0 0 1.000000 1.000000
  (   0   80  100 ) ( -10   80    0 ) (   0  120  100 ) *slime0 2 0 0 1.000000 1.000000
  ( -10   80    0 ) (  10   80  100 ) (  10   80    0 ) *slime0 2 0 0 1.000000 1.000000
 }
}
{
 &quot;classname&quot;      &quot;trigger_counter&quot;
 &quot;count&quot;          &quot;3&quot;
 &quot;targetname&quot;     &quot;door1&quot;
 &quot;target&quot;         &quot;door2&quot;
 &quot;wait&quot;           &quot;-1&quot;
}
{
 &quot;classname&quot;      &quot;func_button&quot;
 &quot;angle&quot;          &quot;0&quot;
 &quot;wait&quot;           &quot;-1&quot;
 &quot;target&quot;         &quot;door1&quot;
 {
  (  180 -200   50 ) (  180 -180   50 ) (  200 -180   50 ) tlight11 16 0 0 1.000000 1.000000
  (  180 -200   30 ) (  200 -200   30 ) (  200 -180   30 ) tlight11 16 0 0 1.000000 1.000000
  (  200 -180   50 ) (  180 -180   50 ) (  200 -180   30 ) tlight11 16 0 0 1.000000 1.000000
  (  180 -180   50 ) (  180 -200   50 ) (  180 -180   30 ) tlight11 16 0 0 1.000000 1.000000
  (  180 -200   50 ) (  200 -200   50 ) (  180 -200   30 ) tlight11 16 0 0 1.000000 1.000000
  (  200 -200   50 ) (  200 -180   50 ) (  200 -200   30 ) tlight11 16 0 0 1.000000 1.000000
 }
}
{
 &quot;classname&quot;      &quot;func_button&quot;
 &quot;angle&quot;          &quot;0&quot;
 &quot;wait&quot;           &quot;-1&quot;
 &quot;target&quot;         &quot;door1&quot;
 {
  (  180 -10    50 ) (  180  10    50 ) (  200  10    50 ) +0basebtn 0 0 0 1.000000 1.000000
  (  180 -10    30 ) (  200 -10    30 ) (  200  10    30 ) +0basebtn 0 0 0 1.000000 1.000000
  (  200  10    50 ) (  180  10    50 ) (  200  10    30 ) +0basebtn 0 0 0 1.000000 1.000000
  (  180  10    50 ) (  180 -10    50 ) (  180  10    30 ) +0basebtn 0 0 0 1.000000 1.000000
  (  180 -10    50 ) (  200 -10    50 ) (  180 -10    30 ) +0basebtn 0 0 0 1.000000 1.000000
  (  200 -10    50 ) (  200  10    50 ) (  200 -10    30 ) +0basebtn 0 0 0 1.000000 1.000000
 }
}
{
 &quot;classname&quot;      &quot;func_button&quot;
 &quot;angle&quot;          &quot;0&quot;
 &quot;wait&quot;           &quot;-1&quot;
 &quot;target&quot;         &quot;door1&quot;
 {
  (  180  180   50 ) (  180  200   50 ) (  200  200   50 ) +0basebtn 0 0 0 1.000000 1.000000
  (  180  180   30 ) (  200  180   30 ) (  200  200   30 ) +0basebtn 0 0 0 1.000000 1.000000
  (  200  200   50 ) (  180  200   50 ) (  200  200   30 ) +0basebtn 0 0 0 1.000000 1.000000
  (  180  200   50 ) (  180  180   50 ) (  180  200   30 ) +0basebtn 0 0 0 1.000000 1.000000
  (  180  180   50 ) (  200  180   50 ) (  180  180   30 ) +0basebtn 0 0 0 1.000000 1.000000
  (  200  180   50 ) (  200  200   50 ) (  200  180   30 ) +0basebtn 0 0 0 1.000000 1.000000
 }
}
</font></pre>

<h3><a name="2.4.4"><font size="3">2.4.4 Teleporting Monsters:</font></a></h3>

<p><font size="3">Unlike in Doom-Engine games, you can precisely
teleport monsters into new locations in Quake. To do so, you must
first create a out of reach area for the monsters to reside in.
Give this area a <b>trigger_teleport</b> key and assign a <b>targetname</b>
key to it. Create a <b>teleport_destination</b> where you want
the monster to appear. Now, you must create a trigger whose <b>target</b>
property points to the <b>trigger_teleport</b>'s targetname. When this trigger
is activated, the monster in the room will teleport to the <b>teleport_destination</b>.
Make sure that there is only one monster per room and one room
per <b>teleport_destination</b>. Otherwise, when the teleport is
triggered, all the monsters will telefrag each other (like what happens
in E1M7 when you win).</font></p>

<h3><a name="2.4.5"><font size="3">2.4.5 Properties of Buttons:</font></a></h3>

<p><font size="3">The behavior of buttons can be altered in many
ways. By default, buttons are activated by pressing them (moving
near them). Buttons can be made shootable by giving them a <b>health</b>
key. Unless you want to have to shoot the button tons of times,
set the <b>health</b> key to &quot;1&quot;. If you want to have
the button flash when you shoot it, you must include all of the
button animation textures in the level. You can just put them on
brushes outside the level. On a shootable button, you should use one
of the special textures designed for shootable buttons that
changes appearance when the button is activated/deactivated.
These are the +?shoot textures, and both frames of the texture must
be present in the level for the texture on the button to change
when its state is changed.</font></p>

<h3><a name="2.4.6"><font size="3">2.4.6 Including predefined
models:</font></a></h3>

<p><font size="3">It is possible to substitute inclusion of
actual model definitions with a key that defines a model definiton
that has already been declared previously in the map file. This
is possible by using the <b>model</b> key. Usually, this key is used
only by QBSP in a compiled BSP file, but it can also be used in a map
file to directly include the model that belongs to a previously
defined entity. Here's the general syntax: <br>
<br>
{ &quot;classname&quot; <class> &quot;origin&quot; <offset> &quot;model&quot;
&quot;*#&quot; } <br>
<br>
where '#' is the number of the model being included<br>
<br>
The origin key in this instance acts as an offset to the model,
moving it from its original position to the position defined by
the origin key's value. The <b>model</b> key directly substitutes
for an inline model declaration. There are several limitations
with this approach, however. First, the model being included must
be precached. This means that either custom QuakeC progs are
required for the level to be usable within Quake, or the model being
included must have previously been defined within the map file.
The second limitiation is that the number of the models of
previously defined entities directly corresponds with their position
within the map file - for example, the first defined entity with
an inline model definition is model 0, the second entity with an
inline model declaration is model 1 and so on. This means that
any insertations of new models before a model that is used in a
non-inline declaration will change the numbering scheme and therefore
cause the level to not function as intended.</font></p>

<h2 align="center"><a name="CMFAL"><font size="3">Appendix A:
Useful Equations</font></a></h2>

<h3><a name="A.1.1"><font size="3">A.1.1 Introduction:</font></a></h3>

<pre><font size="3">

This section is actually accurate now.  At the time I had originally 
written it, I had only taken high school geometry.  After two more years 
of high school (and many more math books studied outside of school), I'm 
somewhat more competent now :).  If you're truly interested in creating 
a Quake map editor, I would reccomend reading Michael Abrash's 
<u>Graphics Programming Black Book Special Edition</u>.  It provides 
a much more detailed description of the concepts involved in 3d rendering 
than what I could describe here.  The equations provided here are useful
for little more than calculating vertices from brush data.  They will
not suffice for writing a program to graphically display a level.

</font></pre>

<pre><font size="3">
normal form:  ax + by + yz = n 
general form: ax + by + cz - n = 0
</font></pre>

<pre><font size="3">

I find the normal form to be the simplest representation of a plane, mostly 
because it's the form often used in solving linear systems.  The general form 
is presented only for your reference.

</font></pre>

<pre><font size="3">

Most of the original equations here were originally obtained from 
<u>Engineering Mathematics Handbook</u> by Jan J. Tuma, Ph.D.
</font></pre>

<h3><a name="2.4.6"><font size="3">A.2.1 Plane Passing through
Three Points:</font></a></h3>

<pre><font size="3">The following formula will give you the equation of a 
plane (in normal form) from three noncolinear points.  Here's the
equation in matrix form:
<br><br>
points: (xi, yi, zi) , (xj, yj, zj) , (xk, yk, zk)

</font></pre>

<pre><font size="3">
|yi zi 1|    |xi zi 1|    |xi yi 1|    |xi yi zi|
|yj zj 1|x + |xj zj 1|y + |xj yj 1|z = |xj yj zj|
|yk zk 1|    |xk zk 1|    |xk yk 1|    |xk yk zk|
</font></pre>

<pre><font size="3">

This equation is pretty straightforward.  It is provided here only for your
reference.  In case you're wondering, the |matrix| notation is used here
to denote the determinant of the matrix. 

</font></pre>

<h3><a name="2.4.6"><font size="3">A.2.2 Intersection of Three
Planes:</font></a></h3>

<pre><font size="3">The following formula will give you the point of 
intersection of three planes.  You may have seen this equation in other 
context referred to as Cramer's Rule.  It's often used to solve linear 
systems with three equations and three unknowns.
</font></pre>

<pre><font size="3">

let  xi + yi + zi = i
     xj + yj + zj = j
     xk + yk + zk = k

      |i  yi zi|
      |j  yj zj|
      |k  yk zk|
x =   ----------  
      |xi yi zi|
      |xj zj zj|
      |xk yk zk|

      |xi i  zi|
      |xj j  zj|
      |xk k  zk|
y =   ----------  
      |xi yi zi|
      |xj zj zj|
      |xk yk zk|

      |xi yi i |
      |xj yj j |
      |xk yk k |
z =   ----------  
      |xi yi zi|
      |xj zj zj|
      |xk yk zk|
</font></pre>
<div align="center"><center>

</center></div>

<h2 align="center"><a name="CMFGS"><font size="3">Glossary</font></a></h2>

<pre><font size="3">
<b>brush</b>       - a solid region defined by the intersection of planes
<b>entity</b>      - an object that defines the properties an object in Quake; defines the way in which the
                     object should be handled in the QuakeC code
<b>flag</b>        - a key that does not require a value and is automatically translated into a spawnflag
                     parameter by QBSP
<b>key</b>         - a field of an entity that contains a value that affects the entity's characteristics
<b>model</b>       - a set of brushes all defined in one block
<b>noncolinear</b> - not lying on the same line
<b>normal</b>      - a line perpendicular to a plane
<b>plane</b>       - the set of all points in a two-dimensional region
<b>point</b>       - a specific zero-dimensional position in space
<b>value</b>       - the data assigned to a key
</font></pre>

<hr size="5" noshade>

<p><font size="3">The Quake Map Specs are copyright 1998 by Nicholas J. Kain.
Quake is copyrighted by </font><a href="http://www.idsoftware.com/"><font
size="3"><b>id Software</b></font></a><font size="3">. Some information
about entities was obtained from the </font><a
href="http://www.gamers.org/dEngine/quake/spec/qspec-current.html"><font
size="3"><b>Unofficial Quake Specs</b></font></a><font size="3">,
a truly awesome reference guide to Quake editing (of which the QMS are a 
part).</font></p>

<p><font size="3"><b>Disclaimer:</b> This document is provided as
is and may not be perfect. I do not guarentee the validity of any
of the information in it. I will not be held liable or
responsible for any damages caused from use or misuse of the
information contained within this document.</font></p>
</body>
</html>
