# Generated automatically from Makefile.in by configure.
# MakeFile for QuakeTools

QLLIB = ./liblists.a
QLLIBP = ./liblists_p.a
QLLIBV = ./liblists_v.a
QLLIBB = ./liblists_b.a

#
# buildings
#
default: $(QLLIB)						# build the default useable library
profile: $(QLLIBP)						# build the library with later profiling capabilities
coverage: $(QLLIBV)						# build the library to analyse code-/execution-streams
branch: $(QLLIBB)						# rebuild the library after branches have been analysed
	-mv -f $(QLLIBB) $(QLLIB)
all: default profile coverage					# build the complete package

#
# cleanups
# 
clean:								# clean the default library
	-rm -f $(QLLIB) $(QLOBJ)
cleanprofile:							# clean the profile library
	-rm -f $(QLLIBP) $(QLOBJP)
cleancoverage:							# clean the analyse library
	-rm -f $(QLLIBV) $(QLOBJV) $(QLOBJBB)
cleanbranch:							# clean the post-analysed branch-optimized library
	-rm -f $(QLLIB) $(QLOBJ)
cleanall: clean cleancoverage cleanprofile cleanbranch		# clean everything

#
# dists
#
distclean: cleanall						# clean even the configured files
	-rm -f Makefile

backup: Makefile
	cp Makefile Makefile.bak
restore: Makefile.bak
	cp Makefile.bak Makefile
	rm Makefile.bak

#
# debugging/analysing
#
analyse:
	for i in $(QLSRC); do \
	  gcov -f -l -b $$i >$$i.branch; \
	done
analyseclean:
	-rm -f $(QLOBJDA) $(QLOBJBR) *.gcov

#
# rules
#
include	@top_srcdir@/src/Makefile-rules
#DEFS += -DNOASM
#ASFLAGS += -DNOASM

#
# sources/objects/libraries
#
QLSRC =	liblists.c

QLOBJ = $(QLSRC:.c=.o)
QLOBJP = $(QLSRC:.c=_p.o)
QLOBJV = $(QLSRC:.c=_v.o)
QLOBJB = $(QLSRC:.c=_b.o)
QLOBJDA = $(QLSRC:.c=.da)
QLOBJBR = $(QLSRC:.c=.branch)
QLOBJBB = $(QLSRC:.c=.b*)

./liblists.a: $(QLOBJ)
	$(AR) rcv $@ $?
	$(RAN) $@
./liblists_p.a: $(QLOBJP)
	$(AR) rcv $@ $?
	$(RAN) $@
./liblists_v.a: $(QLOBJV)
	$(AR) rcv $@ $?
	$(RAN) $@
./liblists_b.a: $(QLOBJB)
	$(AR) rcv $@ $?
	$(RAN) $@

#
# dependencies
#
depend:
	@MKD@ -m -o*.o $(INCL) $(QLSRC)

# DO NOT DELETE
