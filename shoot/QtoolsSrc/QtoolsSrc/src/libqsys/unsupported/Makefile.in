#
# buildings
#
default: $(SYSLIB) ./@target_os@/Makefile				# build the default useable library
	cd ./@target_os@; $(MAKE) -$(MAKEFLAGS) $@
profile: $(SYSLIBP) ./@target_os@/Makefile			# build the library with later profiling capabilities
	cd ./@target_os@; $(MAKE) -$(MAKEFLAGS) $@
coverage: $(SYSLIBV) ./@target_os@/Makefile			# build the library to analyse code-/execution-streams
	cd ./@target_os@; $(MAKE) -$(MAKEFLAGS) $@
branch: $(SYSLIBB) ./@target_os@/Makefile				# rebuild the library after branches have been analysed
	cd ./@target_os@; $(MAKE) -$(MAKEFLAGS) $@
	-mv -f $(SYSLIBB) $(SYSLIB)
all: lib profile coverage					# build the complete package

clean cleanall cleanprofile:
	cd ./@target_os@; $(MAKE) -$(MAKEFLAGS) $@

#
# dists
#
distclean: cleanall						# clean even the configured files
	-rm -f Makefile

backup: Makefile
	cp Makefile Makefile.bak
	cd ./@target_os@; $(MAKE) -$(MAKEFLAGS) $@
restore: Makefile.bak
	cp Makefile.bak Makefile
	rm Makefile.bak
	cd ./@target_os@; $(MAKE) -$(MAKEFLAGS) $@
