# Generated automatically from Makefile.in by configure.
# MakeFile for QuakeTools

OSLIB = @top_srcdir@/lib/libqsys.a
OSLIBP = @top_srcdir@/lib/libqsys_p.a
OSLIBV = @top_srcdir@/lib/libqsys_v.a
OSLIBB = @top_srcdir@/lib/libqsys_b.a

#
# buildings
#
default: $(OSLIB)						# build the default useable library
profile: $(OSLIBP)						# build the library with later profiling capabilities
coverage: $(OSLIBV)						# build the library to analyse code-/execution-streams
branch: $(OSLIBB)						# rebuild the library after branches have been analysed
	-mv -f $(OSLIBB) $(OSLIB)
all: lib profile coverage					# build the complete package

#
# cleanups
# 
clean:								# clean the default library
	-rm -f $(OSLIB) $(OSOBJ)
cleanprofile:							# clean the profile library
	-rm -f $(OSLIBP) $(OSOBJP)
cleancoverage:							# clean the analyse library
	-rm -f $(OSLIBV) $(OSOBJV) $(OSOBJBB)
cleanbranch:							# clean the post-analysed branch-optimized library
	-rm -f $(OSLIB) $(OSOBJ)
cleanall: clean cleancoverage cleanprofile cleanbranch		# clean everything

#
# dists
#
distclean: cleanall						# clean even the configured files
	-rm -f Makefile

#
# debugging/analysing
#
analyse:
	for i in $(OSSRC); do \
	  gcov -f -l -b $$i >$$i.branch; \
	done
analyseclean:
	-rm -f $(OSOBJDA) $(OSOBJBR) *.gcov

backup: Makefile
	cp Makefile Makefile.bak
restore: Makefile.bak
	cp Makefile.bak Makefile
	rm Makefile.bak

#
# rules
#
include	@top_srcdir@/src/Makefile-rules
INCL += -I@top_srcdir@/src/include

#
# sources/objects/libraries
#
OSSRC = amigaos.c

OSOBJ = $(OSSRC:.c=.o)
OSOBJP = $(OSSRC:.c=_p.o)
OSOBJV = $(OSSRC:.c=_v.o)
OSOBJB = $(OSSRC:.c=_b.o)
OSOBJDA = $(OSSRC:.c=.da)
OSOBJBR = $(OSSRC:.c=.branch)
OSOBJBB = $(OSSRC:.c=.b*)

@top_srcdir@/lib/libqsys.a: $(OSOBJ)
	$(AR) rcv $@ $?
	$(RAN) $@
@top_srcdir@/lib/libqsys_p.a: $(OSOBJP)
	$(AR) rcv $@ $?
	$(RAN) $@
@top_srcdir@/lib/libqsys_v.a: $(OSOBJV)
	$(AR) rcv $@ $?
	$(RAN) $@
@top_srcdir@/lib/libqsys_b.a: $(OSOBJB)
	$(AR) rcv $@ $?
	$(RAN) $@

#
# dependencies
#
depend:
	@MKD@ -m -o*.o $(INCL) $(OSSRC)

# DO NOT DELETE
