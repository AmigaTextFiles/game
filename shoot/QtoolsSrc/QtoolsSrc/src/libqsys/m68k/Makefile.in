# Generated automatically from Makefile.in by configure.
# MakeFile for QuakeTools

SYSLIB = @top_srcdir@/lib/libqsys.a
SYSLIBP = @top_srcdir@/lib/libqsys_p.a
SYSLIBV = @top_srcdir@/lib/libqsys_v.a
SYSLIBB = @top_srcdir@/lib/libqsys_b.a

#
# buildings
#
default: $(SYSLIB) ./@target_os@/Makefile				# build the default useable library
	cd ./@target_os@; $(MAKE) -$(MAKEFLAGS) $@
profile: $(SYSLIBP) ./@target_os@/Makefile			# build the library with later profiling capabilities
	cd ./@target_os@; $(MAKE) -$(MAKEFLAGS) $@
coverage: $(SYSLIBV) ./@target_os@/Makefile			# build the library to analyse code-/execution-streams
	cd ./@target_os@; $(MAKE) -$(MAKEFLAGS) $@
branch: $(SYSLIBB) ./@target_os@/Makefile				# rebuild the library after branches have been analysed
	cd ./@target_os@; $(MAKE) -$(MAKEFLAGS) $@
	-mv -f $(SYSLIBB) $(SYSLIB)
all: lib profile coverage					# build the complete package

#
# cleanups
# 
clean: ./@target_os@/Makefile					# clean the default library
	-rm -f $(SYSLIB) $(SYSOBJ)
	cd ./@target_os@; $(MAKE) -$(MAKEFLAGS) $@
cleanprofile: ./@target_os@/Makefile				# clean the profile library
	-rm -f $(SYSLIBP) $(SYSOBJP)
	cd ./@target_os@; $(MAKE) -$(MAKEFLAGS) $@
cleancoverage: ./@target_os@/Makefile				# clean the analyse library
	-rm -f $(SYSLIBV) $(SYSOBJV) $(SYSOBJBB)
	cd ./@target_os@; $(MAKE) -$(MAKEFLAGS) $@
cleanbranch: ./@target_os@/Makefile				# clean the post-analysed branch-optimized library
	-rm -f $(SYSLIB) $(SYSOBJ)
	cd ./@target_os@; $(MAKE) -$(MAKEFLAGS) $@
cleanall: clean cleancoverage cleanprofile cleanbranch		# clean everything

#
# dists
#
distclean: cleanall						# clean even the configured files
	-rm -f Makefile

backup: Makefile
	cp Makefile Makefile.bak
	cd ./@target_os@; $(MAKE) -$(MAKEFLAGS) $@
restore: Makefile.bak
	cp Makefile.bak Makefile
	rm Makefile.bak
	cd ./@target_os@; $(MAKE) -$(MAKEFLAGS) $@

#
# debugging/analysing
#
analyse:
	for i in $(SYSSRC); do \
	  gcov -f -l -b $$i >$$i.branch; \
	done
analyseclean:
	-rm -f $(SYSOBJDA) $(SYSOBJBR) *.gcov

#
# rules
#
include	@top_srcdir@/src/Makefile-rules
INCL += @top_srcdir@/src/include

#
# sources/objects/libraries
#
SYSSRC = 

SYSOBJ = $(SYSSRC:.c=.o) Match.o LZW5b.o
SYSOBJP = $(SYSSRC:.c=_p.o) LZW5b.o
SYSOBJV = $(SYSSRC:.c=_v.o) Match.o LZW5b.o
SYSOBJB = $(SYSSRC:.c=_b.o) Match.o LZW5b.o
SYSOBJDA = $(SYSSRC:.c=.da)
SYSOBJBR = $(SYSSRC:.c=.branch)
SYSOBJBB = $(SYSSRC:.c=.b*)

@top_srcdir@/lib/libqsys.a: $(SYSOBJ)
	$(AR) rcv $@ $?
	$(RAN) $@
@top_srcdir@/lib/libqsys_p.a: $(SYSOBJP)
	$(AR) rcv $@ $?
	$(RAN) $@
@top_srcdir@/lib/libqsys_v.a: $(SYSOBJV)
	$(AR) rcv $@ $?
	$(RAN) $@
@top_srcdir@/lib/libqsys_b.a: $(SYSOBJB)
	$(AR) rcv $@ $?
	$(RAN) $@

#
# dependencies
#
depend:
	@MKD@ -m -o*.o $(INCL) $(SYSSRC)

# DO NOT DELETE
