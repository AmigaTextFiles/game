FuhQuake Homepage : http://www.fuhquake.net/
FuhQuake Autor    : A Nourai aka 'fuh' (#fuhquake na Quakenet irc)
FuhQuake Forum    : http://www.fuhquake.net/forum/


----------
INTRODUÇÃO
----------
Esse arquivo explica as ferramentas de gravação do FuhQuake. Um sumário é visto abaixo.

*) Gravação automática de demos (em servers compatíveis).
*) Gravação automática do log do console.
*) Screenshot automática no final do jogo mostrando o scoreboard.
*) Customização dos nomes de todos os arquivos descritos abaixo.


-------------------------------------
SEÇÃO 1. GRAVAÇÃO AUTOMÁTICA DE DEMOS
-------------------------------------

1A. SERVERS COMPATÍVEIS
-----------------------
O sistema de gravação automática do FuhQuake funciona apenas em servers compatíveis.
KTeams, and ktpro servers são totalmente compatíveis. OZTF (v1.45 ou mais recente)
também são compatíveis quando em clan mode.



1B. VARIÁVEIS
-------------

match_auto_record (Padrão: "0")
-------------------------------
Descrição : Quando com os valores 1 e 2, um demo temporário será gravado
            assim que o jogo começar (normalmente quando o countdown começa).
            'match_auto_record 2' salva automáticamente o demo assim que o jogo
            acaba. 'match_auto_record 1' requer salvamento manual (veja o comando
            "match_save" abaixo).


match_auto_minlength (Padrão: "30")
---------------------------------
Descrição : Quando estiver usando 'match_auto_record 2', o demo não será
            salvo se for menor que o número de segundos setado nessa variável.
            Se o demo for muito curto você ainda pode salvá-lo usando "match_save".


match_auto_spectating (Padrão: "0")
-----------------------------------
Descrição : Quando com o valor 1 a gravação será feita mesmo em modo spectator.


demo_dir (Padrão: "")
---------------------
Descrição: Essa variável define o local onde os demos feitos com easyrecord ou
           com o sistema de gravação serão salvos. Isso é relativo ao seu gamedir.
           Se essa variável ficar com o valor "" então os demos serão salvos no
           seu gamedir (comportamento normal do qw). É recomendado usar algo como
           "qw/demos/recording" para que seus demos sejam salvos em
           c:\quake\qw\demos\recording . Note que isso só afeta 'easyrecord' demos
           e demos do sistema de gravação. Isso não afeta demos feitos com 'record'
           que serão salvos no seu gamedir.



1C. COMANDOS
------------

match_save
----------
Descrição : Se você usa 'match_auto_record 1' então um demo temporário
            será salvo em c:\quake\fuhquake\temp\_!_temp_!_.qwd toda vez
            que o mapa começa. Esse demo será sobreescrevido quando um novo
            mapa começar. Se você quiser salvar o demo, você precisará
            usar esse comando, 'match_save', isso vai mover o demo para
            o mesmo lugar que o easyrecord teria feito.


match_forcestart
----------------
Descrição : Esse comando limula o começo do jogo (para que o sistema de
            gravação etc seja ativado). Isso é útil se você entrar em um server
            de ktpro depois do começo do countdown, ou se o modo de jogo não tenha
            countdown (ex. race mode).

            O mais importante é para server de TF, já que você pode usar um
            msg_trigger para executar  match_forcestart no "MATCH BEGINS NOW".



1E.  PARÂMETROS PARA A LINHA DE COMANDO
---------------------------------------

-democache <tamanho em KB>
--------------------------
Descrição : Se você usar esse comando na linha de comando, então o FuhQuake
            vai gravar os demos na memória em vez de gravar no HD.
            Quando a gravação terminar o FuhQuake vai transferir o demo
            da memória para o disco. Isso pode reduzir o uso do HD e pode
            resultar num jogo mais suave para muitas pessoas, mas não para
            todas. Não use isso se você não tem problemas.

            Você deve especificar um -democache um pouco maior do que o tamanho
            normal dos demos que você grava. Ex, se a maioria dos demos qwd que
            você grava tem 15mb, use "-democache 20000". Não use um democache muito
            grande, a não ser que você tenha RAM suficiente pra isso.

            Importante: Se o tamanho do democache for excedido (por seu demo ser
            maior que o especificado), vai causar um grande lag enquanto o
            FuhQuake esvazia algum espaço na memória (mandando parte do demo gravado
            para o disco).

            Importante: Quando usando -democache e o demo termina de ser gravado
            pode haver uma grande pausa enquanto o FuhQuake copia o demo para o
            disco. Quanto maior o demo, maior a pausa.


1E. NOTAS IMPORTANTES
---------------------
A gravação automática começa sempre que a chave "status" do serverinfo
muda de "standby" para qualquer outra coisa diferente de "standby".
Em servers de KT isso ocorre no começo do countdown.

A gravação automática para nas seguintes situações:
*) A chave "status" do serverinfo muda para alguam coisa diferente de "standby"
para "standby" (ex. alguem vota 'break' durante o countdown".
*) 4 segundos depois que o o scoreboard final é mostrado.
*) Você digita "stop" para parar a gravação.
*) Você diconecta, "disconnect", do server (isso inclui conectar em outro server,
começar a ver um demo, etc).
*) Um novo mapa comça no server.

Se você estiver usando "match_auto_record 1" depois que a gravação automática
for concluída (FuhQuake vai dizer a você), você pode salvar o demo usando
"match_save". O demo será salvo no mesmo local que o comando "easyrecord" teria
feito (você pode customizar o nome dos demos..veja a seção MATCH NAME abaixo).

Se você utilizar "match_auto_record 2", os demos serão salvos automaticamente
a menos que eles sejam menores que o número de segundos presente na variável
match_auto_minlength. Se eles forem muito pequenos para serem salvos, FuhQuake
vai dizer "Autorecording cancelled." mas você ainda pode salvar esse demo
usando o comando "match_save".


----------------------------------------------
SEÇÃO 2. GRAVAÇÃO AUTOMÁTICA DO LOG DO CONSOLE
----------------------------------------------

2A. VARIÁVEIS
-------------

match_auto_logconsole (Padrão: "0")
-----------------------------------
Descrição : Quando com os valores 1 ou 2, um log temporário será criado
            automaticamente assim que o jogo começar (normalmente quando o
            countdown começar).
            match_auto_logconsole 2 salva automaticamente o log do console
            ao final do jogo. 'match_auto_logconsole 1' requer salvamento manual
            (usando o comando "match_save" listado acima).


1B. NOTAS IMPORTANTES
---------------------

O FuhQuake pode fazer um .log automaticamente quando o jogo começa.
Isso é útil se você tem um programa de stats que gera o stats atravéz do log.
Essa função funciona exatamente como a gravação de demos, só que você usa
"match_auto_logconsole" no lugar de "match_auto_logconsole" e "log_dir" no lugar de
"demo_dir". "match_save", "match_auto_minlenght" e "match_auto_spectating" funcionam
do mesmo jeito.

Se você usa 'match_auto_logconsole 1' e 'match_auto_record 1' então "match_save" vai
salvar ambos, o log e o demo do jogo.

Se você usa 'match_auto_logconsole 1' e 'match_auto_record 2' então "match_save" vai
salvar apenas o log do jogo, e o demo vai ser salvo automaticamente.

Note, a variável "log_readable" pode ser útil aqui. Usando 1 nessa variável
fará com que todos os caracteres não conpreensívies sejam convertidos em
caracteres compreensíveis.


--------------------------------------
SEÇÃO 3. AUTO SCREENSHOT DO SCOREBOARD
--------------------------------------

3A. VARIÁVEIS
-------------

match_auto_sshot (Padrão: "0")
------------------------------
Descrição : Usando o valor 1 faz com que o FuhQuake tire uma screenshot
            do scoreboard final de cada jogo. Se o seu console estiver
            abaixado ou você está nos menus o FuhQuake vai remover o
            console/menu por 1 frame para que a screenshot seja perfeita.

scr_sshot_dir (Padrão: "")
--------------------------
Descrição: Essa variável define o diretório onde as screenshots sarão salvas.
           Isso é relativo ao seu gamedir. Se essa variável ficar com o valor
           "" então as screenshots serão salvas no seu gamedir (comportamento
           normal do qw). É recomendado usar algo como "qw/sshots" para que suas
           screenshots sejam salvas em c:\quake\qw\sshots . Note que isso afeta
           todas as screenshots, aquelas tiradas com o comando "screenshot" e
           as tiradas automaticamente com 'match_auto_sshot 1'.

scr_sshot_type (Padrão: "tga" para GL, "pcx" para software)
-----------------------------------------------------------
Descrição: Essa variável define o formato da imagem das screenshots.
           FuhQuake software suporta apenas "pcx". OpenGL pode usar os formatos
           "tga", "png" ou "jpg" (recomendado). Note que se você especificar
           o formato no nome do arquivo ele vai usar o formato que você definiu.
           Ex. "screenshot blah.jpg", vai tirar uma screenshot no formato "jpg"
           mesmo que no 'scr_sshot_type' tenha outro padrão. Mas se vocÊ utilizar
           "screenshot blah" o FuhQuake vai salvar no formta indicado em 'scr_sshot_type'.

scr_sshot_apply_palette (Padrão: "1")
-------------------------------------
Descrição: Se com o valor 1 suas configurações de gamma/contraste serão aplicadas
           em todas as screenshots.


3B. NOTAS IMPORTANTES
---------------------

O FuhQuake pode tirar automaticamente um screenshot do scoreboard final de
cada jogo. Para isso basta usar 'match_auto_sshot 1'. Diferente da gravação de
demos e logs, não há como tirar uma screenshot temporária e salvaer separadamente.
As fotos tiradas serão sempre salvas.

O nome das screenshots tiradas com 'match_auto_sshot 1' é o mesmo que o
comando easyrecord usaria para o demo (mas com a extensão apropriada ex. ".tga",
".pcx" etc). Você pode customizar os nomes das screenshots (veja a seção
MATCH NAME abaixo).

Ex. Se você usa "sshot_dir qw/sshots" então uma screenshot de um jogo 4on4
será posta em
"c:/quake/qw/sshots/4on4/[clan]quaker - [4on4_myclan_vs_someclan] - [dm3].tga"
presumindo que o seu quakedir é c:\quake e você não customizou a variável
'match_format_4on4' (veja a seção 4 abaixo).


---------------------------
SEÇÃO 4. NOMES DOS ARQUIVOS
---------------------------

Cada tipo de jogo tem um nome customizável que é usado para easyrecord,
pelo sistema de gravação, screenshots automáticas, log automáticos e assim
por diante. Há também uma macro chamada $matchname que você pode usar para
ver o nome do jogo manualmente (echo $matchname).

Por exemplo, um jogo pode ser,
"[clan]quaker - [4on4_meuclan_vs_algumclan] - [dm3]" ou outra coisa.


4A. TIPOS DE JOGO
-----------------
O jogos são classificados em diferentes categorias. A lista a seguir
mostra as categorias suportadas pelo FuhQuake. Se você acha que deveria
haver mais por favor, noticie isso no forum.

O critério para cada categoria está mostrada junto com as mesmas.

*) duel : (gamedir = "qw", 2 jogadores)
*) ffa  : (gamedir = "qw", mais de 2 jogadores, teamplay off)
*) race : (gamedir = qw, chave de serverinfo "race" ativa e igual ao nome do mapa)

*) 2on2 : (gamedir = "qw", 2 times com pelo menos 1 time tendo 2 jogadores)
*) 3on3 : (gamedir = "qw", 2 times com pelo menos 1 time tendo 3 jogadores)
*) 4on4 : (gamedir = "qw", 2 times com pelo menos 1 time tendo 4 jogadores)
*) tdm  : (gamedir = "qw", 2 times, 1 time tendo pelo menos 5 jogadores)
*) multiteam  : (gamedir = "qw", 3 ou mais times)

*) arena : (gamedir = "arena")
*) carena : (gamedir = "carena")

*) tf_duel : (gamedir = "fortress", 2 jogadores)
*) tf_clanwar : (gamedir = "fortress", pelo menos 2 times)

*) solo : (qualquer gamedir, 1 jogador no server, exceto em modo race)
*) coop : (gamedir = "qw", pelo menos 2 jogadores, deathmatch off)

Notes:
*) A categoria race é basicamente para o modo race do ktpro.


4B. CUSTOMIZANDO OS NOMES DOS JOGOS
-----------------------------------
Cada categoria de jogo tem um nome com uma variável associada a ele.
Essa variável é chamada match_format_<categoria> .

Por exemplo: match_format_duel, match_format_2on2, etc, etc.

Todas essa variáveis contém macros que se caracterizam de acordo com a lista
abaixo. Você pode usar "match_format_macrolist" dentro do FuhQuake para ver
a lista completa das macros e seus significados.


4C. MACROS
----------
O que estiver entre colchetes [] se plica em modo spectator.

Note que o seu nick é o mesmo do seu name, a menos que você o altere
usando match_nama_nick. Isso é útil se você joga com nomes diferentes
e quer que os demos fiquem todos com o mesmo nick.

Você pode usar "match_format_macrolist" dentro do jogo para ver a lista abaixo.

%n - seu nick [seu nick seguido de "(SPEC)"]

%p - seu name [nome do player 1]
%t - seu time [nome do time 1]
%e - nome do seu inimigo em duels, nome do time inimigo em tp [player2/team2]

%k - nomes dos jogadores do seu time [team1]    (separados por match_name_and)
%l - nomes dos jogadores do time inimigo [team2](separados por match_name_and)

%O - número de jogadores do seu time [número de jogadores do team1]
%E - número de jogadores do time inimigo [número de jogadores do team2]
%C - número de jogadores no server

%a - quantidade se jogadores separado por match_name_on (ex 4on3on4)
%b - nomes dos times separados por match_name_versus (ex sr _vs_ cmf _vs_ fs)

%v - atalho para o que estiver em match_name_versus

%T - timelimit do server server
%F - fraglimit n do server
%N - teamplay setado no server
%D - deathmatch mode ativo no server

%M - nome do mapa
%G - gamedir (ex. qw, fortress, arena, etc)

%d - dia
%m - mês
%y - ano


4D. COMANDOS
------------

match_format_macrolist
----------------------
Descrição: Mostra a lista completa das macro e seu significado. Útil se você
           esqueceu para que serve uma certa macro durante  jogo e não quer
           se incomodar e abrir a documentação.


4E. VARIÁVIES
-------------

match_name_and (Padrão: "_&_")
-------------------------------
Descrição: Usada para separar nomes em %k e %l .

match_name_versus (Padrão: "_vs_")
-----------------------------------
Descrição: Usada para separar nomes em %b .

match_name_on (Padrão: "on")
-----------------------------
Descrição: Usada para separar os números em %a .

match_name_nick (Padrão: "")
-------------------------------
Descrição: %n usa isso se não estiver vazio "", senão usa o seu name no jogo.

match_name_spec (Padrão: "(SPEC)")
-----------------------------------
Descrição: Isso é colocado após o seu nick quando usando %n e você está em modo
           spectator. Ex. se você usa "match_name_nick fuh" e dexa match_name_spec
           com o valor padrão, então %n será "fuh(SPEC)" em modo spectator e "fuh"
           em modo normal.


match_format_solo       (Padrão: "solo/%n - [%M]")
match_format_coop       (Padrão: "coop/%n - [%C_player_coop] - [%M]")

match_format_duel       (Padrão: "duel/%n - %p%v%e - [dmm%D] - [%M]")
match_format_ffa        (Padrão: "ffa/%n - [%C_player_ffa] - [%M]")
match_format_race       (Padrão: "race/%n - [race] - [%M]")

match_format_2on2       (Padrão: "2on2/%n - [%k%v%l] - [%M]")
match_format_3on3       (Padrão: "tdm/%n - [%Oon%E_%t%v%e] - [%M]")
match_format_4on4       (Padrão: "tdm/%n - [%Oon%E_%t%v%e] - [%M]")
match_format_tdm        (Padrão: "tdm/%n - [%Oon%E_%t%v%e] - [%M]")
match_format_multiteam  (Padrão: "tdm/%n - [%a_%b] - [%M]")

match_format_arena      (Padrão: "arena/%n - %p%v%e - [%F_frags] - [%M]")
match_format_carena     (Padrão: "carena/%n - [%a_%b] - [%M]")

match_format_tf_duel    (Padrão: "tfduel/%n - %p%v%e [%M]")
match_format_tf_clanwar (Padrão: "tfwar/%n - [%Oon%E_%t%v%e] - [%M]")


4F. MACROS
----------
$matchname
----------
Descrição: funciona como "match_format_<bleh>" com todas as macros expandidas.
<bleh> sendo a categoria do jogo.


------------
SEÇÃO 5. FAQ
------------

Q1. Porque meu auto recording/logging/screenshots não funciona em modo spectator?
A1. Você precisa usar "match_auto_spectating 1" apra que eles funcionem em spectator.

Q2. É possível gravar automaticamente jogos em 4on4 e não gravar os duels (etc) ?
A2. Na verdade não. A única solução é gravar um demo temporário e salvar manualmente
    os jogos 4on4 com o comando match_save.

Q3. Como eu gravo automaticamente em teamfortress?
A3. Se você estiver jogando teamfortress 2.9 ou anterior (incluindo MTF CuTF que
    são baseados no tf 2.5) então você precisa usar 'match_auto_record 1'
    e os seguintes msg_triggers:

            alias tfstart "match_forcestart"
            msg_trigger tfstart "MATCH BEGINS NOW"

    O msg_trigger acima funciona também em todas as versões do OZTF. No entando
    o OZTF 1.45 em diante, você não *precisa* dos msg_triggers já que o FuhQuake
    vai começar a gravação quando o countdown do OZTF começar (quando em clan mode).
    Mas é claro que você precisa do 'match_auto_record 1' para isso.

    Se você usar o msg_trigger acima no OZTF 1.45, um demo vai começar a ser gravado
    quando o countdown começar, e recomeçar quando o countdown terminar e "MATCH
    BEGINS NOW" é mostrado. Vai funcionar, mas você pode simplismente não usar o
    msg_trigger.

Q4. Qual a diferença entre 'match_auto_sshot 1' e
    "alias f_mapend screenshot $matchname" ?
A4. A diferença básica é que se você estiver com o console baixo ou nos
    menus quando o jogo acabar, o FuhQuake vai retirar isso da frente por
    1 frame para que a screenhot seja tirada com perfeição.

    Outra coisa, quando você usa o comando screenshot no alias f_mapend
    (que é executado automáticamente quando o jogo acaba), é importante
    que você use um wait antes, ex alias f_mapend "wait; screenshot <name>".
    Sem o wait a sceenshot provevelmente não mostrará o scroeboard quando jogando
    em OpenGL fullscreen. Você não precisa se preocupar com isso se você estiver
    usando 'match_auto_sshot 1' .

Q5. É possível comprimir meus demos automaticamente?
A5. Não houve tempo para adicionar isso no FuhQuake v0.30. No entando,
    em versões futuras você poderá comprimir seus demos para .qwz (quando
    usando o qizmo) e/ou .zip . Terá tembém uma opção para converter seus
    demos para o formato .mvd .

    Terá também a opção de comprimir seus demos e screenshots juntas no mesmo
    arquivo .zip . Eu (fuh :D) planejo m menu onde você poderá ver os demos
    dentro dos .zip's e um thumnail da screenshot do scoreboard perto de cada
    demo.

Traduzido por:
// © jediknight © \\