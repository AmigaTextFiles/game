@database rtgmaster.guide
@$VER:rtgmaster.guide V 10.0
@wordwrap

@node Main "AmiHeretic"

@{b} AmiHeretic - The 3D Game for PowerPC@{ub}

Part A: @{"Introduction         " link intro}
Part B: @{"Installation         " link install}
Part C: @{"Configuration        " link config}
Part D: @{"Possible problems    " link prob}
Part E: @{"Speed                " link speed}
Part F: @{"History and Future   " link future}
Part G: @{"Authors              " link copy}
Part H: @{"Networking           " link net}
Part I: @{"Hires                " link hires}

@endnode

@node hires "AmiHeretic"

@{b} AmiHeretic - The 3D Game for PowerPC@{ub}

@{b} Hires @{ub}

This is the first Amiga Heretic Port supporting
Hires Graphics !!!

New options:

-width <width>
-height <height>
-dbuf
-gosure
-mmu
-bat

WarpHeretic -width 800 -height 600 for example starts
Heretic in a resolution of 800x600. You have to experiment
a bit with the parameters -dbuf, -mmu and -bat, which produce
the best result. -mmu and -bat should only be used on PowerPC
Systems. Especially in 640x480 resolution this might speed
up a bit.

Instead of setting the resolution by parameters you can just
forget about this, and when you select the screenmode, the
correct choice is being done.

This archive contains both Lowres and resolution-independent
version (in case there are still bugs in the resolution-independent
one :) )

Note that the menu-chooser is currently invisible in the
Hires-Version. This is a bug which will be fixed soon, hopefully.

@endnode

@node net "AmiHeretic"

@{b} AmiHeretic - The 3D Game for PowerPC@{ub}

@{b} Networking @{ub}

To use TCP/IP:

-net <number of players>

To use IPX:

-netipx <number of players>

(you need amipx.library installed)

If problems appear, and IPX does not run, try if:

-reverseipx -netipx <number of players>

works. (new feature in V1.2)

-netserial <number of players> <devicename.device> <unit> <speed>

To network with a PC you should also add:

-pcchecksum

Note, that Heretic on PC does not support TCP/IP !!!

If you get problems with it, please contact me !!!

@endnode

@node intro "AmiHeretic"

@{b} AmiHeretic - The 3D Game for PowerPC@{ub}

@{b} Introduction @{ub}

Heretic is one of the "Classics" on the 3D market, the fantasy
game from Ravensoft, which came after Doom. Ravensoft recently
released the Source Code. This is a port of the Game to the
WarpUP PowerPC Kernel. It is currently a basic port, but will
enhance much in the following. I want to make it the best
Heretic Port out there. An 68k version probably will also
be added later.

AmiHeretic supports:

- WarpUP :)
- Both playing in a screen and in a workbench window
- Keyboard, Joystick, mouse
- TCP/IP, AmIPX and Serial Link Support
- Which this port ALL Heretic cheats work :)
- PowerPC Assembler Optimization (since V1.1) (4 functions)
- Background Music (needs MIDI_Instruments and doomsound.library)
- Sound (Well, sometimes some jerks, still... will be fixed later)
- Version 1.8 now also works fine with the Shareware version of
  the WAD

More things soon, in new versions.

AmiHeretic uses a simple GUI which also handles the stack correctly.
A more advanced GUI will come later.

Some more parameters:

-music : to activate music
-nosfx : To deactive music and sound
-dbuf  : To enable Doublebuffering (Probably slightly slower on most
         Hardware, but less flicker for AGA...)
-ambient: add ambient sound which sometimes sounds a bit disturbed.
          Better leave this out for now... later... different story :)

If you get an error saying something like E2M9 not found, then add
the parameter -gosure !!!

@endnode

@node install "AmiHeretic"

@{b} AmiHeretic - The 3D Game for PowerPC@{ub}

@{b} Installation @{ub}

Currently you need to own a PPC Board to use AmiHeretic. This
will probably change in the future, when both PPC and 68k versions
of AmiHeretic will be available.

Software you need:

- WarpUP PowerPC Software

This is the new PowerPC standard, replacing the ppc.library. On new
PowerPC Boards like the Brainstormer only WarpUP programs will run,
but not ppc.library programs. AmiHeretic of course will support
the Brainstormer G3 Board !!!

It does not work with V7, as i need to get the Busclock of the Board,
and the function to do so needs powerpc.library V10 at least. If you
need WarpUP and ppc.library both, i recommend using WarpUP V14 and
the ppc.library emulation for WarpUP of Frank Wille together. There
won't be a future for ppc.library, so it is a bad idea relying on it...
new PPC Boards are WarpUP-only, but 2-2.5x faster than current Boards,
due to a more modern PPC called G3 (Info: www.escena.de)

- rtgmaster.library

Get it from Aminet gfx/board/rtgmaster_user.lha

- locale.library

Not required, but if you want to play with a joystick...

- Heretic WAD File

You can get this from ftp.cdrom.com (Shareware Version). For full
version, contact Ravensoft. AmiHeretic supports all sorts of
Heretic WAD Files. No "special" WAD required.

- MIDI_Instruments and doomsound.library

A game like this is only best if played with SOUND :) The MIDI_Instruments
is available on Aminet (it was used for Doom before).

@endnode

@node config "AmiHeretic"

@{b} AmiHeretic - The 3D Game for PowerPC@{ub}

@{b} Configuration @{ub}

By using the Heretic.CFG you can configure the Keyboard and some other
things. In the future a GUI will help here. You have to use RAWKEY codes
to specify your own settings. I think the default ones are quite good.
If you do not like them: Change them.

The default settings:

Turn Right:      Right Arrow
Turn Left:       Left Arrow
Forward:         Up Arrow
Backward:        Down Arrow
Strafe left:     ,
Strafe right:    .
Fly Up:          Numberblock 9
Fly Down:        Numberblock 3
Fly Center:      Numberblock 6
Look Up:         Numberblock 7
Look Down:       Numberblock 1
Look Center:     Numberblock 4
Inventory left:  [
Inventory right: ]
Use Artifact:    RETURN
Fire:            CONTROL
Force Strafe:    SHIFT
Speed:           ALT
Use:             Blank
Gamma:           HELP
Pause:           DEL
Automap:         TAB
Help Screen:     F1

(Rest like written on the help screen)

Asides from the keys (do not try to use Amiga-keys... you would not
be able to use Amiga-Keys and Arrow-Keys at the same time) you can
specify:

- usegamma: The default gamma value
- chatmacro's: Set chatmacro's
- screenblocks: Set Screenblocks
- use_fps: Use fps counter

To turn off the experimental sound support, use the -nosfx parameter.

@endnode

@node prob "AmiHeretic"

@{b} AmiHeretic - The 3D Game for PowerPC@{ub}

@{b} Possible Problems @{ub}

1: Termination problems

If the game crashes on start, or during termination, this is not
WarpUP's fault. In fact there is "Anti-WarpUP-Code" in the FlashROM
of the A1200 PPC and in the ppc.library.

To get rid of this "Anti-WarpUP-Code", do ONCE in a shell (it is saved
to your HD then):

echo >env:powerpc/TERMINATOR "2"
echo >envarc:powerpc/TERMINATOR "2"

Then reboot. If you have a very old FlashROM use "1" instead of "2". One
of the two works. Note, that this might not work, if you have ppc.library
apps installed in the background (Maybe you should consider installing
Frank Wille's ppc.library Emulation ?).

Do NOT install:

- CGX PPC (doesn't do a speedup anyways, only does Memory Allocation with
  ppc.library to disable WarpUP, else the same like CGX 68k)
- ppc.library based Datatypes
- RC5-PPC
- Printer-Spooler of Turboprint PPC
- PPCInstall
- ElfLoadSeg

Remember, on future PPC Boards *only* WarpUP will run. Best you adapt now
already. I don't have a SINGLE ppc.library app on my system...

If you get crashes after quit or if you get a black screen this is a
termination problem. Or if it crashes after the termination requester.

I am really sorry about these things, but they are not my fault, nor the
fault of H&P. It will be good when the new Boards appear, where no ppc.library
which tries to mess around exists...

2: rtgmaster crashes (but it is no problem with WarpUP)

Then put

c:MCPramlibpatch >nil:

to your startup-sequence. This tool is in the rtgmaster package. The reason
for these problems is an incompatibility of the 68k part of rtgmaster with
certain tools like MCP. The ramlibpatch fixes this.

3: CV/PPC or BV/PPC problem

do:

echo >env:powerpc/force "1"
echo >envarc:powerpc/force "1"
echo >env:powerpc/gfxaddr "$e0000000"
echo >envarc:powerpc/gfxaddr "$e0000000"

and reboot. And now it works. Go sure you use powerpc.library V14 or higher.

4: Stackproblems

Use the GUI or set the cache manually. If you use the GUI stack is handled
automatically. Note: For some systems it seems the RunCommand function
of dos.library does not work (an "evil system patch" active ?) They should
raise the stack manually

5: Problems when Miami is running

Miami seems to have with certain settings problems with AmiHeretic. With
AmiTCP it works fine, though. And if the settings are correct, also with
Miami. It is appearently important, that in TCP/IP the "dynamic" checkmark
is set. If the configuration is done right, it also runs with Miami.

@endnode

@node speed "AmiHeretic"

@{b} AmiHeretic - The 3D Game for PowerPC@{ub}

@{b} Speed @{ub}

On my 150 MHz PPC 604e (yeah, the slowest Cyberstorm PPC existing...).
Data is given for the old (100% C) and the new (PPC ASM Optimization)
version, left the old, right the new version :)

GFX Board: 37 fps/42 fps
AGA:       32 fps/37 fps
WB Window: -/17 fps

Note: fps-Counter did not work in the old version, and the estimation
of >20 fps was actually wrong, the old version ran slower than 17 fps
in the WB Window. It might be faster on a 8 Bit Workbench, though...

@endnode

@node future "AmiHeretic"

@{b} AmiHeretic - The 3D Game for PowerPC@{ub}

History

V1.0    -   Initial release
V1.1    -   Now also works without a TCP/IP Stack running
            Bugfixed TCP/IP Code
            Added AmIPX and Serial Link Code
            Added PowerPC ASM Optimization
            Bugfixed timedemo (did not work for Workbench Window Mode)
V1.2    -   Added -reverseipx like in ZhaDoom and ADoom PPC
            Made Mousepointer invisible
            One more PPC ASM Optimized function
        -   1.2 had some crashbugs. Fixed this. (Bug in PPC ASM
            Optimization was this)
            Compiled with latest StormC Version, gave a speedup,
            now it runs 2 fps faster
V1.4    -   Crashbugs from 1.3 fixed !!! :)
        -   Experimental Sound Support (-nosfx to disable it)
V1.5    -   With 1.4 i released by mistake a 1.3 executable (my
            train to work went 5 minutes after i released it :) )
        -   Sound Support fully implemented. You need doomsound.library
            which is enclosed.
V1.6    - Saving/Loading works again (of course you can load
          files which you saved in older versions !!!)
        - AmiHeretic/WarpHeretic is now the first Amiga Heretic
          port with working BACKGROUND MUSIC !!! To enable it
          use -music or use the GUI. You need doomsound.library
          and the MIDI_Instruments file of Doom (It will play
          the Heretic Music, though :) )
        - Optional Doublebuffering for AGA Users (Note: Due to
          Contextswitches, this will probably cause a small
          slowdown)
        - Note: AGA version only works in 320x200 resolution !!!
V1.7    - worked with Shareware WAD, but needed -shareware
          parameter. V1.8 autorecognizes the WAD and does not
          need this parameter anymore :)
V1.8    - Does not crash anymore if no WAD-File found
        - Works again with Shareware WAD (1.6 did not work
          with it). -shareware parameter of 1.7 is not needed
          anymore, it auto-recognizes which WAD is used.
        - Note: "Addon-WADs" from 3rd-party level-designers
          require the full version of the WAD
        - Music-Code enhanced, should now run without quirks,
          end should loop correctly (i hope so :) ), sound
          effects still have some quirks
        - Enhanced Joypad Code, hopefully now it works
          correctly also with "not original Commodore Pads"
V2.0    - completely restructured the source
        - added Hires Support
        - Some bugfixes
        - gosure added
        - Added 68k version (unoptimized)
V2.2    - Music bugfix, now the correct music is played always
V2.3    - MESSED THINGS UP BIGTIME BY MISTAKE !!!
V2.4    - Corrected the garbage i did with 2.3
        - Now sound works fine. No noise anymore. Ambients disappeared
          though. They appear again if you do -ambient, but then you
          will get a little noise still (not much, though). Will be
          fixed later, but now i first will do Hicolor and Truecolor
          versions :) And Hexen-Sound...
V2.5    - Fixed Mousemove bug in hires versions, removed 68k Opt. of
          68k versions to make 68k versions run again, will fix
          the 68k opt. later when i feel better (i was ill...)

Future

- Better Sound
- More PPC ASM Optimization (Maybe)
- A nicer GUI
- Probably many things more :)

@endnode

@node copy "AmiHeretic"

@{b} AmiHeretic - The 3D Game for PowerPC@{ub}

@{b} Authors @{ub}

Heretic is copyright by Ravensoft and Activision. You can get more information
about the nice games of Ravensoft at www.ravensoft.com.

The Amiga adaption was done by me, Steffen Haeuser, with some
small help from Thomas Frieden. (And i am giving him some small
help on his current project, the Hexen port).

If you want to tell me things, contact me at:

MagicSN@Birdland.es.bawue.de

or

Steffen Haeuser
Limburgstr. 127
73265 Dettingen/Teck

or

Birdland BBS
telnet 194.123.83.1
User MagicSN

And to make it 100% clear once more:

This game underlies the original copyright by Ravensoft.
The executable can be freely copied, but the datafile
from Ravensoft is NOT to be freely copied, you need
to buy it or get the Shareware version from ftp.cdrom.com.

@endnode
