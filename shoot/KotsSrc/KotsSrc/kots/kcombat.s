	.file	"kcombat.cpp"
gcc2_compiled.:
	.section	".text"
	.align 2
	.type	 TeamDamage__FP7edict_sT0i,@function
TeamDamage__FP7edict_sT0i:
	stwu 1,-64(1)
	mflr 0
	stmw 22,24(1)
	stw 0,68(1)
	mr 25,3
	mr 24,4
	addi 3,1,8
	mr 29,5
	mr 26,3
	li 4,0
	li 5,8
	bl memset
	lwz 0,84(25)
	cmpwi 0,0,0
	bc 12,2,.L4
	lwz 0,84(24)
	cmpwi 0,0,0
	bc 4,2,.L3
.L4:
	mr 3,29
	b .L15
.L3:
	lis 9,game@ha
	li 30,0
	la 9,game@l(9)
	lwz 0,1544(9)
	cmpw 0,30,0
	bc 4,0,.L6
	mr 22,9
	lis 23,g_edicts@ha
	mr 27,26
	li 28,976
.L8:
	lwz 0,g_edicts@l(23)
	add 31,0,28
	lwz 9,88(31)
	cmpwi 0,9,0
	bc 12,2,.L7
	mr 3,31
	bl KOTSGetUser__FP7edict_s
	mr. 3,3
	bc 12,2,.L7
	lwz 9,84(31)
	lwz 0,3580(9)
	cmpwi 0,0,0
	bc 12,2,.L7
	li 4,0
	bl Level__5CUserPl
	lwz 9,84(31)
	lwz 11,3584(9)
	slwi 11,11,2
	lwzx 0,11,27
	add 0,0,3
	stwx 0,11,27
.L7:
	lwz 0,1544(22)
	addi 30,30,1
	addi 28,28,976
	cmpw 0,30,0
	bc 12,0,.L8
.L6:
	lwz 11,84(25)
	lwz 10,84(24)
	lwz 0,3584(11)
	lwz 9,3584(10)
	slwi 0,0,2
	lwz 11,8(1)
	lwzx 8,26,0
	slwi 9,9,2
	lwz 0,4(26)
	lwzx 10,9,26
	subf 11,0,11
	srawi 0,11,31
	cmpw 7,8,10
	xor 9,0,11
	subf 9,0,9
	cror 31,30,28
	mfcr 0
	rlwinm 0,0,0,1
	add 9,29,9
	neg 0,0
	andc 9,9,0
	and 0,29,0
	or 29,0,9
	srawi 3,29,31
	subf 3,29,3
	srawi 3,3,31
	addi 0,3,1
	and 3,29,3
	or 3,3,0
.L15:
	lwz 0,68(1)
	mtlr 0
	lmw 22,24(1)
	la 1,64(1)
	blr
.Lfe1:
	.size	 TeamDamage__FP7edict_sT0i,.Lfe1-TeamDamage__FP7edict_sT0i
	.section	".rodata"
	.align 2
.LC0:
	.string	"player"
	.align 2
.LC1:
	.string	"Head damage\n"
	.align 2
.LC2:
	.string	"You hit %s in the head\n"
	.align 2
.LC3:
	.string	"makron/brain1.wav"
	.align 2
.LC4:
	.long 0x0
	.align 2
.LC5:
	.long 0x40e00000
	.align 2
.LC6:
	.long 0x41000000
	.align 3
.LC7:
	.long 0x40400000
	.long 0x0
	.align 2
.LC8:
	.long 0x41800000
	.align 3
.LC9:
	.long 0x40300000
	.long 0x0
	.align 3
.LC10:
	.long 0x43300000
	.long 0x80000000
	.align 3
.LC11:
	.long 0x40200000
	.long 0x0
	.align 2
.LC12:
	.long 0x3f800000
	.section	".text"
	.align 2
	.globl KOTSHeadShot
	.type	 KOTSHeadShot,@function
KOTSHeadShot:
	stwu 1,-112(1)
	mflr 0
	stfd 31,104(1)
	stmw 24,72(1)
	stw 0,116(1)
	mr. 30,7
	mr 27,3
	mr 31,4
	mr 25,5
	mr 28,6
	mr 26,8
	li 24,0
	li 3,0
	bc 4,1,.L55
	lwz 3,280(27)
	lis 29,.LC0@ha
	la 4,.LC0@l(29)
	bl strcmp
	cmpwi 0,3,0
	bc 4,2,.L52
	lwz 3,280(31)
	la 4,.LC0@l(29)
	bl strcmp
	cmpwi 0,3,0
	bc 4,2,.L52
	lwz 10,84(31)
	cmpwi 0,10,0
	bc 12,2,.L52
	lwz 0,480(31)
	cmpwi 0,0,0
	bc 4,1,.L52
	lwz 0,1840(10)
	cmpwi 0,0,0
	bc 4,2,.L52
	lwz 8,84(27)
	lwz 0,1840(8)
	cmpwi 0,0,0
	bc 4,2,.L52
	lis 9,.LC4@ha
	lis 11,kots_teamplay@ha
	la 9,.LC4@l(9)
	lfs 13,0(9)
	lwz 9,kots_teamplay@l(11)
	lfs 0,20(9)
	fcmpu 0,0,13
	bc 12,2,.L31
	lwz 9,3584(10)
	lwz 0,3584(8)
	cmpw 0,9,0
	bc 12,2,.L52
.L31:
	addi 8,26,-1
	cmplwi 0,8,14
	bc 12,1,.L52
	lis 11,.L42@ha
	slwi 10,8,2
	la 11,.L42@l(11)
	lis 9,.L42@ha
	lwzx 0,10,11
	la 9,.L42@l(9)
	add 0,0,9
	mtctr 0
	bctr
	.align 2
	.align 2
.L42:
	.long .L32-.L42
	.long .L52-.L42
	.long .L52-.L42
	.long .L32-.L42
	.long .L52-.L42
	.long .L32-.L42
	.long .L52-.L42
	.long .L32-.L42
	.long .L52-.L42
	.long .L32-.L42
	.long .L32-.L42
	.long .L32-.L42
	.long .L52-.L42
	.long .L52-.L42
	.long .L32-.L42
.L32:
	lis 8,.LC5@ha
	mr 3,31
	la 8,.LC5@l(8)
	lfs 31,0(8)
	bl IsFemale
	cmpwi 0,3,0
	bc 12,2,.L43
	lis 8,.LC6@ha
	la 8,.LC6@l(8)
	lfs 31,0(8)
.L43:
	lfs 13,8(28)
	lis 9,.LC7@ha
	lfs 12,12(31)
	la 9,.LC7@l(9)
	lfs 0,208(31)
	lfd 11,0(9)
	fsubs 13,13,12
	fsubs 0,0,13
	fcmpu 0,0,11
	bc 4,0,.L45
	addi 4,1,24
	mr 3,25
	bl VectorNormalize2
	lis 8,.LC8@ha
	addi 29,1,8
	la 8,.LC8@l(8)
	addi 3,1,24
	lfs 1,0(8)
	addi 4,1,40
	bl VectorScale
	lfs 0,0(28)
	lfs 11,40(1)
	lfs 13,4(28)
	lfs 10,44(1)
	fadds 0,0,11
	lfs 12,8(28)
	lfs 9,4(31)
	fadds 13,13,10
	stfs 0,8(1)
	lfs 10,8(31)
	stfs 13,4(29)
	lfs 0,48(1)
	lfs 11,12(31)
	lwz 9,84(31)
	fadds 12,12,0
	stfs 12,8(29)
	lfs 0,8(1)
	lfs 13,12(1)
	lfs 12,16(1)
	fsubs 0,0,9
	fsubs 13,13,10
	fsubs 12,12,11
	stfs 0,8(1)
	stfs 13,12(1)
	stfs 12,16(1)
	lbz 0,16(9)
	andi. 8,0,1
	bc 12,2,.L47
	lis 9,.LC5@ha
	lfs 12,208(31)
	la 9,.LC5@l(9)
	lfs 0,0(9)
	fsubs 11,12,0
	b .L48
.L47:
	lis 8,.LC5@ha
	lfs 13,208(31)
	la 8,.LC5@l(8)
	lfs 0,0(8)
	fsubs 12,13,31
	fadds 0,31,0
	fsubs 11,13,0
.L48:
	lfs 0,16(1)
	lis 9,.LC4@ha
	la 9,.LC4@l(9)
	lfs 10,0(9)
	fsubs 13,12,0
	fcmpu 0,13,10
	bc 12,0,.L52
	fsubs 0,11,0
	fcmpu 0,0,10
	bc 12,1,.L52
	lis 8,.LC9@ha
	la 8,.LC9@l(8)
	lfd 0,0(8)
	fcmpu 0,13,0
	bc 4,0,.L45
	lfs 0,12(1)
	lis 8,.LC10@ha
	la 8,.LC10@l(8)
	mr 11,9
	lfd 11,0(8)
	lis 10,0x4330
	lis 8,.LC11@ha
	la 8,.LC11@l(8)
	lfd 12,0(8)
	fctiwz 13,0
	stfd 13,64(1)
	lwz 9,68(1)
	srawi 8,9,31
	xor 0,8,9
	subf 0,8,0
	xoris 0,0,0x8000
	stw 0,68(1)
	stw 10,64(1)
	lfd 0,64(1)
	fsub 0,0,11
	fcmpu 0,0,12
	bc 4,0,.L45
	lfs 0,8(1)
	mr 11,9
	fctiwz 13,0
	stfd 13,64(1)
	lwz 9,68(1)
	srawi 8,9,31
	xor 0,8,9
	subf 0,8,0
	xoris 0,0,0x8000
	stw 0,68(1)
	stw 10,64(1)
	lfd 0,64(1)
	fsub 0,0,11
	fcmpu 0,0,12
	bc 4,0,.L45
	li 24,1
.L45:
	cmpwi 0,24,0
	bc 12,2,.L52
	lwz 0,932(27)
	add 9,30,30
	addi 30,9,1
	cmpwi 0,0,0
	bc 12,1,.L53
	lis 9,gi+8@ha
	lis 5,.LC1@ha
	lwz 0,gi+8@l(9)
	la 5,.LC1@l(5)
	mr 3,31
	li 4,2
	mtlr 0
	crxor 6,6,6
	blrl
.L53:
	lwz 0,84(27)
	cmpwi 0,0,0
	bc 12,2,.L54
	lwz 0,932(27)
	cmpwi 0,0,0
	bc 12,1,.L54
	lis 29,gi@ha
	lwz 6,84(31)
	lis 5,.LC2@ha
	la 29,gi@l(29)
	la 5,.LC2@l(5)
	lwz 9,8(29)
	mr 3,27
	li 4,2
	addi 6,6,700
	mtlr 9
	crxor 6,6,6
	blrl
	lwz 9,36(29)
	lis 3,.LC3@ha
	la 3,.LC3@l(3)
	mtlr 9
	blrl
	lis 8,.LC12@ha
	lwz 0,16(29)
	lis 9,.LC12@ha
	la 8,.LC12@l(8)
	mr 5,3
	lfs 1,0(8)
	la 9,.LC12@l(9)
	li 4,2
	mtlr 0
	lis 8,.LC4@ha
	mr 3,31
	lfs 2,0(9)
	la 8,.LC4@l(8)
	lfs 3,0(8)
	blrl
.L54:
	li 0,35
	stw 0,968(31)
.L52:
	mr 3,30
.L55:
	lwz 0,116(1)
	mtlr 0
	lmw 24,72(1)
	lfd 31,104(1)
	la 1,112(1)
	blr
.Lfe2:
	.size	 KOTSHeadShot,.Lfe2-KOTSHeadShot
	.section	".rodata"
	.align 2
.LC13:
	.string	"resist"
	.align 2
.LC15:
	.string	"items/protect3.wav"
	.align 2
.LC16:
	.string	"Damage Amp"
	.align 3
.LC14:
	.long 0x3fe245a1
	.long 0xcac08312
	.align 3
.LC17:
	.long 0x43300000
	.long 0x80000000
	.align 2
.LC18:
	.long 0x3f800000
	.align 2
.LC19:
	.long 0x0
	.align 2
.LC20:
	.long 0x40000000
	.align 3
.LC21:
	.long 0x3ffc0000
	.long 0x0
	.section	".text"
	.align 2
	.globl KOTSRunes
	.type	 KOTSRunes,@function
KOTSRunes:
	stwu 1,-64(1)
	mflr 0
	stfd 31,56(1)
	stmw 27,36(1)
	stw 0,68(1)
	mr 27,4
	mr 30,3
	lwz 3,280(30)
	lis 4,.LC0@ha
	mr 31,5
	la 4,.LC0@l(4)
	bl strcmp
	cmpwi 0,3,0
	bc 4,2,.L57
	lis 3,.LC13@ha
	lwz 29,84(30)
	la 3,.LC13@l(3)
	bl FindItem
	lis 9,itemlist@ha
	lis 0,0x286b
	la 9,itemlist@l(9)
	ori 0,0,51739
	subf 3,9,3
	addi 29,29,740
	mullw 3,3,0
	rlwinm 3,3,0,0,29
	lwzx 0,29,3
	cmpwi 0,0,0
	bc 4,1,.L57
	xoris 9,31,0x8000
	lfs 9,464(30)
	stw 9,28(1)
	lis 0,0x4330
	lis 10,.LC14@ha
	lis 9,.LC17@ha
	stw 0,24(1)
	la 9,.LC17@l(9)
	lfd 0,24(1)
	lfd 10,0(9)
	lfd 13,.LC14@l(10)
	lis 9,level@ha
	la 28,level@l(9)
	fsub 0,0,10
	lfs 12,4(28)
	fmul 0,0,13
	fcmpu 0,9,12
	fctiwz 11,0
	stfd 11,24(1)
	lwz 31,28(1)
	srawi 11,31,31
	xor 9,11,31
	subf 9,9,11
	srawi 9,9,31
	addi 0,9,1
	and 9,31,9
	or 31,9,0
	bc 4,0,.L57
	lis 29,gi@ha
	lis 3,.LC15@ha
	la 29,gi@l(29)
	la 3,.LC15@l(3)
	lwz 9,36(29)
	mtlr 9
	blrl
	lis 9,.LC18@ha
	lwz 0,16(29)
	lis 11,.LC18@ha
	la 9,.LC18@l(9)
	mr 5,3
	lfs 1,0(9)
	la 11,.LC18@l(11)
	li 4,3
	mtlr 0
	lis 9,.LC19@ha
	mr 3,30
	lfs 2,0(11)
	la 9,.LC19@l(9)
	lfs 3,0(9)
	blrl
	lis 9,.LC20@ha
	lfs 0,4(28)
	la 9,.LC20@l(9)
	lfs 13,0(9)
	fadds 0,0,13
	stfs 0,464(30)
.L57:
	lwz 3,280(27)
	lis 4,.LC0@ha
	la 4,.LC0@l(4)
	bl strcmp
	cmpwi 0,3,0
	bc 4,2,.L61
	lis 11,level@ha
	lwz 30,84(27)
	lwz 0,level@l(11)
	lis 29,0x4330
	lis 11,.LC17@ha
	lfs 13,3832(30)
	xoris 0,0,0x8000
	la 11,.LC17@l(11)
	stw 0,28(1)
	stw 29,24(1)
	lfd 31,0(11)
	lfd 0,24(1)
	fsub 0,0,31
	frsp 0,0
	fcmpu 0,13,0
	cror 3,2,0
	bc 4,3,.L61
	lis 3,.LC16@ha
	la 3,.LC16@l(3)
	bl FindItem
	lis 9,itemlist@ha
	lis 0,0x286b
	la 9,itemlist@l(9)
	ori 0,0,51739
	subf 3,9,3
	addi 11,30,740
	mullw 3,3,0
	rlwinm 3,3,0,0,29
	lwzx 0,11,3
	cmpwi 0,0,0
	bc 4,1,.L61
	xoris 0,31,0x8000
	stw 0,28(1)
	lis 11,.LC21@ha
	stw 29,24(1)
	la 11,.LC21@l(11)
	lfd 0,24(1)
	lfd 12,0(11)
	mr 11,9
	fsub 0,0,31
	fmul 0,0,12
	fctiwz 13,0
	stfd 13,24(1)
	lwz 31,28(1)
	srawi 0,31,31
	xor 9,0,31
	subf 9,9,0
	srawi 9,9,31
	addi 0,9,1
	and 9,31,9
	or 31,9,0
.L61:
	mr 3,31
	lwz 0,68(1)
	mtlr 0
	lmw 27,36(1)
	lfd 31,56(1)
	la 1,64(1)
	blr
.Lfe3:
	.size	 KOTSRunes,.Lfe3-KOTSRunes
	.section	".rodata"
	.align 2
.LC22:
	.string	"grenade"
	.align 2
.LC24:
	.string	"hgrenade"
	.align 2
.LC25:
	.long 0x0
	.section	".text"
	.align 2
	.globl KOTSWeirdRules
	.type	 KOTSWeirdRules,@function
KOTSWeirdRules:
	stwu 1,-32(1)
	mflr 0
	stmw 29,20(1)
	stw 0,36(1)
	mr 31,3
	mr 30,4
	cmpw 0,31,30
	mr 29,5
	bc 12,2,.L17
	lis 9,.LC25@ha
	lis 11,kots_teamplay@ha
	la 9,.LC25@l(9)
	lfs 13,0(9)
	lwz 9,kots_teamplay@l(11)
	lfs 0,20(9)
	fcmpu 0,0,13
	bc 12,2,.L17
	bl OnSameTeam
	cmpwi 0,3,0
	bc 12,2,.L18
	li 29,0
	b .L17
.L18:
	mr 5,29
	mr 3,31
	mr 4,30
	bl TeamDamage__FP7edict_sT0i
	mr 29,3
.L17:
	lis 9,level+304@ha
	xor 11,31,30
	lwz 10,level+304@l(9)
	addic 0,11,-1
	subfe 8,0,11
	addic 9,10,-1
	subfe 0,9,10
	and. 9,0,8
	bc 12,2,.L20
	lwz 3,84(31)
	cmpwi 0,3,0
	bc 12,2,.L20
	lwz 4,84(30)
	cmpwi 0,4,0
	bc 12,2,.L20
	lwz 0,1860(4)
	cmpwi 0,0,24
	bc 12,1,.L20
	lwz 0,1860(3)
	cmpwi 7,0,24
	mfcr 9
	rlwinm 9,9,30,1
	neg 9,9
	and 29,29,9
.L20:
	mr 3,29
	lwz 0,36(1)
	mtlr 0
	lmw 29,20(1)
	la 1,32(1)
	blr
.Lfe4:
	.size	 KOTSWeirdRules,.Lfe4-KOTSWeirdRules
	.align 2
	.globl VerifyHeadShot__FPfT0fT0
	.type	 VerifyHeadShot__FPfT0fT0,@function
VerifyHeadShot__FPfT0fT0:
	stwu 1,-64(1)
	mflr 0
	stfd 31,56(1)
	stmw 28,40(1)
	stw 0,68(1)
	mr 29,3
	fmr 31,1
	mr 28,5
	mr 3,4
	addi 4,1,8
	bl VectorNormalize2
	fmr 1,31
	addi 3,1,8
	addi 4,1,24
	bl VectorScale
	lfs 13,0(29)
	lfs 0,24(1)
	lfs 12,28(1)
	lfs 11,32(1)
	fadds 13,13,0
	stfs 13,0(28)
	lfs 0,4(29)
	fadds 0,0,12
	stfs 0,4(28)
	lfs 13,8(29)
	fadds 13,13,11
	stfs 13,8(28)
	lwz 0,68(1)
	mtlr 0
	lmw 28,40(1)
	lfd 31,56(1)
	la 1,64(1)
	blr
.Lfe5:
	.size	 VerifyHeadShot__FPfT0fT0,.Lfe5-VerifyHeadShot__FPfT0fT0
	.section	".rodata"
	.align 3
.LC26:
	.long 0x3febd70a
	.long 0x3d70a3d7
	.align 3
.LC27:
	.long 0x43300000
	.long 0x80000000
	.section	".text"
	.align 2
	.globl KOTSHits
	.type	 KOTSHits,@function
KOTSHits:
	stwu 1,-64(1)
	mflr 0
	stmw 25,36(1)
	stw 0,68(1)
	mr. 29,6
	mr 31,3
	mr 30,4
	mr 28,5
	mr 26,7
	mr 27,8
	mcrf 7,0
	bc 4,29,.L65
	li 0,1
	stw 0,932(31)
.L65:
	srawi 0,29,31
	xori 9,26,8
	subfic 8,9,0
	adde 9,8,9
	mr 25,0
	subf 0,29,0
	srwi 0,0,31
	and. 10,0,9
	bc 4,2,.L73
	bc 4,29,.L70
	lwz 3,280(30)
	lis 4,.LC22@ha
	la 4,.LC22@l(4)
	bl strcmp
	cmpwi 0,3,0
	bc 4,2,.L68
	cmpw 0,28,31
	bc 12,2,.L68
	xoris 0,27,0x8000
	lwz 10,516(30)
	lis 7,0x4330
	stw 0,28(1)
	mr 9,11
	stw 7,24(1)
	xoris 10,10,0x8000
	lis 8,.LC27@ha
	lfd 12,24(1)
	la 8,.LC27@l(8)
	stw 10,28(1)
	stw 7,24(1)
	lfd 11,0(8)
	lfd 0,24(1)
	lis 8,.LC26@ha
	lfd 13,.LC26@l(8)
	fsub 12,12,11
	fsub 0,0,11
	fmul 0,0,13
	fcmpu 0,12,0
	bc 12,1,.L73
.L68:
	cmpwi 0,29,0
	bc 4,1,.L70
	lwz 3,280(30)
	lis 4,.LC24@ha
	la 4,.LC24@l(4)
	bl strcmp
	cmpwi 0,3,0
	bc 4,2,.L70
	cmpw 0,28,31
	bc 12,2,.L70
	xoris 11,27,0x8000
	lwz 0,516(30)
	stw 11,28(1)
	lis 8,0x4330
	lis 10,.LC27@ha
	stw 8,24(1)
	mr 11,9
	xoris 0,0,0x8000
	lfd 12,24(1)
	la 10,.LC27@l(10)
	stw 0,28(1)
	stw 8,24(1)
	lfd 11,0(10)
	lfd 0,24(1)
	lis 10,.LC26@ha
	lfd 13,.LC26@l(10)
	fsub 12,12,11
	fsub 0,0,11
	fmul 0,0,13
	fcmpu 0,12,0
	bc 12,1,.L73
.L70:
	subf 0,29,25
	xori 9,26,10
	subfic 11,9,0
	adde 9,11,9
	srwi 0,0,31
	and. 8,0,9
	bc 12,2,.L67
.L73:
	lwz 9,924(31)
	addi 9,9,1
	stw 9,924(31)
.L67:
	lwz 0,68(1)
	mtlr 0
	lmw 25,36(1)
	la 1,64(1)
	blr
.Lfe6:
	.size	 KOTSHits,.Lfe6-KOTSHits
	.ident	"GCC: (GNU) 2.95.2 19991024 (release)"
