
; check free space

Failat 20
checkspace >nil:
if WARN
  requestchoice "MorphOS Freespace2 Installer" "You need approximately 1.8GB of free space on disk to install Freespace2" "OK"
  quit 5
endif
Failat 5

; directories

failat 20
makedir data
makedir data/movies
makedir data/players
makedir data/players/single
failat 5

; cd1

requestchoice >env:fs2choice "MorphOS Freespace2 Installer" "Please insert the Freespace2 CD1 into CD-Drive*NPress Next when done." "Next|Abort"
if val "$fs2choice" eq "0"
  unsetenv fs2choice
  quit 5
endif
unsetenv fs2choice

; extrack base .cab

unshield -j -g "Data Directory Files" x /Freespace2_1/DATA1.CAB
unshield -j -g "Intel Anims" x /Freespace2_1/DATA1.CAB
unshield -j -g "Music Compressed" x /Freespace2_1/DATA1.CAB
unshield -j -g "Hud Config Files" x /Freespace2_1/DATA1.CAB
unshield -j -g "Basic Install Files" x /Freespace2_1/DATA1.CAB

; move files into right places

copy Basic_Install_Files/#? data/ ALL MOVE QUIET
copy Hud_Config_Files/#? data/players/ ALL MOVE QUIET
copy Intel_Anims/#? data/ ALL MOVE QUIET
copy Music_Compressed/#? data/ ALL MOVE QUIET
copy Data_Directory_Files/#? data/ ALL MOVE QUIET

; cleanup

delete Basic_Install_Files QUIET
delete Hud_Config_Files QUIET
delete Intel_Anims QUIET
delete Music_Compressed QUIET
delete Data_Directory_Files QUIET

; cd2

requestchoice >env:fs2choice "MorphOS Freespace2 Installer" "Please insert the Freespace2 CD2 into CD-Drive*NPress Next when done." "Next|Abort"
if val "$fs2choice" eq "0"
  unsetenv fs2choice
  Echo "Installation is not complete!"
  quit 5
endif
unsetenv fs2choice

copy Freespace2_2:#?.vp data/ ALL
copy Freespace2_2:#?.mve data/movies ALL

; cd2

requestchoice >env:fs2choice "MorphOS Freespace2 Installer" "Please insert the Freespace2 CD3 into CD-Drive*NPress Next when done." "Next|Abort"
if val "$fs2choice" eq "0"
  unsetenv fs2choice
  Echo "Installation is not complete!"
  quit 5
endif
unsetenv fs2choice

copy Freespace2_3:#?.vp data/ ALL
copy Freespace2_3:#?.mve data/movies ALL

requestchoice "MorphOS Freespace2 Installer" "Installation complete!" "OK"
Wait 5


