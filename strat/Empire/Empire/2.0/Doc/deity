	    Amiga Empire by Chris Gray - Being an Empire Deity


A deity in Empire has considerable power. He (I'll use 'he' to avoid having
to type 'he/she' all the time) can examine and alter any country, sector or
ship, and can change dozens of parameters which affect the play of the
game. Ideally, a deity would be the person on whose machine Empire is
running. He would use EmpCre to create the world, look it over to make sure
it doesn't have any problems, perhaps fix up some problems, or go with an
entirely new world, and then would supervise the running of the world,
being ready to fix up anything that might need it. In practice, everybody
wants to have a country, so no unbiased individual is available to be a
deity. I've gone to some trouble to try to make EmpCre always create a
playable world, and hopefully Empire doesn't have any bugs that would
require fixup by a deity, so most games can proceed without one. For your
first one or two Empire games, you can probably play without a deity, so
you do not need to read this writeup.

The presence of an active deity can change the nature of the game, so you
should be sure that all of the players want an active deity before becoming
one. For example, the original Peter Langston documentation suggests that
prayers, in the form of telegrams to a deity, can often result in sector
improvements, terrain rearrangement, etc. in return for offerings of gold,
ships, efficiency, etc. This sort of thing may be just what your group
wants (especially if you are becoming bored with "standard" Empire), but it
might ruin the game as far as others are concerned.

A deity can also change many parameters which affect the progress of an
Empire game. For example, the production costs of shells, guns, planes,
bars of gold, and ships can all be changed. Doing so before the game gets
under way, with the full knowledge of the players, can result in a game
with a different flavour. Doing so without the knowledge of the players can
result in an adventure-like touch - the players will have to try various
things to see how they go. These changes can also be made during the course
of the game, (perhaps as a result of "inventions", "strikes", or whatever),
forcing the players to re-evaluate their strategies.

There are also some parameters that can be changed during the creation of a
world with EmpCre. These affect such things as terrain distribution, iron
and gold deposits, etc. These can, of course, only be done before the game
is underway.

Several Empire commands have special code to handle a deity. A deity can
see all ships and sectors (sunk ships show up with an asterisk). He can
also designate any sector (including mountains and sea) to be anything else
(including mountain and sea). The 'telegram' command accepts a '*' as the
country name, which means to send the telegram to all active or deity
countries. More special case code could be added, but so far there has been
no need for it.

There are a few Empire commands that are available only to a deity. These
are: edit, examine, translate, untranslate, flush and tickle. The dump
command also produces slightly more information when used by a deity - see
the command description for more details. The new commands are described in
detail here:

    translate <country> <sector>
	translates a sector given in the coordinate scheme of <country> to
	the universal coordinate scheme (which deitys use). This allows
	a deity to locate a sector described by another player.

    untranslate <country> <sector>
	translates a sector given in the universal coordinate scheme into
	the coordinate scheme of the given country. Allows a deity to talk
	about sectors in terms the country understands.

    examine
	displays information about the requested item, usually in a not
	very readable format. In particular, the various forms display:
    examine country <country>
	- origin (absolute coordinates of capital)
	- technology and research levels
	- sectors owned, money held, btu's left, last play time
	- minutes left, country status, name
	- value of all 4 realms
	- telegram pointers
	- relations to all other countries (Neutral/Allied/at War)
	- fleet numbers of any active fleets
    examine sector <sector>
	- designation, row, column, last update time
	- iron and gold deposits, checkpoint code, number of ships there
	- production units, mobility, efficiency, plague stage and time
	- defender code, contract price
	- unscaled quantities, delivery direction and delivery thesholds
    examine ship <ship>
	- last update time, owner, price per ton if for sale
	- which fleet it is in (relative to the country which owns it)
	- its position in absolute coordinates
	- efficiency, mobility, and the stuff it is carrying
    examine fleet <fleet-number>
	- shows the ships that are in the fleet
    examine loan <loan>
	- who it is from and who it is to
	- date of last payment and the due date
	- current amount, amount paid, duration (half hours), interest rate
	- current state - offered, declined, outstanding, paid-up
    examine world
	- number of rows and columns in the world
	- number of countries active and allowed in the world
	- current maximum connect time in half-hours
	- country creation password
	- number of loans, treaties, offers and ships currently existing
	- weather factors - speed, position and value of the high and low

    edit
	allows a deity to change all sorts of things. Most things will be
	numeric, and will be displayed after a description of it, followed
	by the description again as a prompt. If you just hit RETURN, the
	value will be unchanged. If you enter something that is invalid or
	out of range, the prompting will continue. Several random factors
	in Empire are determined from two values. One is the base value,
	which represents the minimum, the other is the random value, which
	represents the maximum amount that will be added to the minimum.
	I.e. they are used as	  value := random(rand) + base
	The following descriptions will often have notes about the effect
	of changing a given value:
    edit country <country>
	- name - change the country's name. You should only need to do this
	    when creating a visitor country.
	- status - country status. The assigned codes are:
	    0 - deity - if you create additional deitys, make sure their
		origin is 0,0.
	    1 - active - the normal status
	    2 - dead - no sectors left
	    3 - quit - the country has dissolved
	    4 - idle - no one has claimed the country yet. In a pinch you
		can un-claim the last claimed country by setting its status
		back to this, decrementing the number of active countries
		(edit world), and undoing any changes that the player made.
	    5 - visitor
	- sectorCount - the number of sectors that the country owns. This
	    is used to tell when a country has become dead. It is updated
	    whenever the country gains or loses a sector. In case I missed
	    one or two, it is also recomputed when a 'power force' is done.
	    If the 'force' is done be a deity, the deity is informed of any
	    discrepancy between the new count and the count stored with the
	    country. In such cases, it is wise to edit the country and fix
	    the sector count. Be sure to update these values if you change
	    the ownership of a sector. If for example, you decide to build
	    a river between an overzealous aggressor and a weak neighbour,
	    decrement the count of whoever used to own the sectors (and
	    change the owner field of the sectors).
	- technology and research levels, money in the bank
	- BTU's remaining - additional BTU's are probably the least radical
	    gift that can be given to a country in trouble. Don't try to go
	    over the maximum allowed by the world, however.
	- timer - minutes of connect time left today. These are reset to
	    the maximum (see edit world) the first time the country logs in
	    after midnight. Gifts of additional time can also be useful for
	    countries with problems.
	- coordinates of capital - you could change these to move a new
	    country that is in a poor position. Remember to change the
	    ownership, etc. of any relevant sectors.
	- password - the old password is not displayed, but any non-null
	    reply will set that as the new password for the country.
	    Entering a null string leaves the password unchanged.
    edit sector <sector>
	- owner - change the ownership of the sector - remember to change
	    the sectorCounts of the relevant countries.
	- iron - iron ore deposit richness
	- gold - gold ore deposit richness
	- checkPoint - why would you want to change this?
	- shipCount - each sector contains the count of how many ships
	    Empire thinks are there. This is used to speed up flying -
	    Empire doesn't have to check for anti-aircraft fire from sea
	    sectors that have no ships. Nothing TOO serious would go wrong
	    if this count was wrong, but you should fix them up when you
	    move ships around anyway. If you find a case where it gets
	    wrong, please let me know. Note that sunk ships don't count.
	- production, mobility, efficiency - straightforward
	- plague stage - see the pseudocode for sector updates in the
	    'update' file for details on the various stages
	- plague time - time remaining in the current stage (ETUs)
	- contract price - in nickels - a nonzero here is how Empire knows
	    that the sector is contracted.
	- item (commodity) quantities - these ARE scaled, so if you want to
	    put 1270 guns into a warehouse, enter 1270
    edit ship <ship>
	- owner - country number of the owner
	- price - sale price per ton of the ship (0 => ship not for sale)
	- efficiency
	- mobility - can go negative for ships (see torpedo command)
	- row, column - in absolute (deity) coordinates. If you move the
	    ship, remember to change the shipCount of the relevant sectors.
	- techLevel
	- crew, shells, guns, planes, ore, bars - straightforward
    edit world
	- maximum number of users - you could decrement this to get rid of
	    a country that no-one has taken, to prevent anyone from taking
	    it. It is conceivable that you could create a new country, but
	    I haven't tried it - you would have to increment this number,
	    find a place for the sanctuaries, build them, change their
	    ownerships, totally initialize the new country, etc. "edit
	    country" does not let you edit all of the values in the
	    Country_t structure, but the full array of them is initialized
	    by EmpCre, so you'll probably be OK.
	- current number of users - you could decrement this to wipe out
	    the last country created - see "edit country"
	- maximum connect time in minutes - range is 1 to 1440. If you want
	    the change to immediately affect all of the countries, you'll
	    have to go edit them appropriately.
	- maximum BTUs help by one country - increasing this value lets
	    players save up more stuff for sudden attacks, etc.
	- creation password - the current password is displayed, and can
	    be changed to any non-null string. (Entering a null string
	    leaves the password unchanged.)
	- next loan, treaty, offer, ship, fleet - changing these can undo a
	    slipup, but be careful, and backup before you do it.
    edit weather
	Empire weather is based on a pair of pressure centers - one high
	and one low. The strength of the two centers, combined with the
	distance of a sector from them, yields the weather in that sector.
	The two centers move in a semi-random walk. The row and column
	increments (range -4 to +4) are the speed in quarter sectors per
	half hour that the centers move. The current positions (row and
	columns) are also in quarter sectors, thus they range from 0 to the
	size of the world * 4 - 1. The given pressure values should range
	between the relevant minimum and maximum. Bad weather is the only
	important kind. To make more bad weather, decrease the values of
	loMin and loMax (and perhaps of hiMin and hiMax). You can move the
	systems directly, but its more realistic to guide them to the
	desired places over time.
	- hiRowInc, hiColInc - speed of the hi pressure center
	- loRowInc, loColInc - speed of the lo pressure center
	- hiRow, hiCol - position of the hi pressure center
	- loRow, loCol - position of the lo pressure center
	- hiMin, hiMax - range of the hi pressure
	- loMin, loMax - range of the lo pressure
	- hiPressure, loPressure - values of the centers
    edit production, mobilities, plague, costs, scales, updates, fighting,
	sea, air, miscellaneous, naval, flags -
	these are the factors that the players can see with the 'info'
	command. They are edited in exactly the same format. See the
	'factors' document for details.
    edit file xxx
	xxx is the file to edit using the mini-editor and is one of:
	conmess - ('empire.conMess') - the file printed on connect
	logmess - ('empire.logMess') - the file printed on login
	hangmess - ('empire.hangMess') - the file printed on logout
	bulletin - ('empire.bulletin') - the file printed on 'news'
	temp - ('empire.temp') - whatever, not used directly

    flush - this command instructs the server to write out and close all
	data files, then open and read them again. This is also done when
	any country leaves the game. It is most useful for games with small
	Empire Time Units, where none of the players ever leave.

    tickle - In a game with small Empire Time Units, leaving the game for
	a few hours to sleep is like leaving a regular game for a month or
	two. This is undesireable. The program stores the time at which the
	last player left the game. The 'tickle' command goes through all
	sectors and ships in the world, and brings forward (WITHOUT
	updating them) their update time by a fixed amount which is the
	difference between the current time and the saved last play time
	when the 'tickle' starts. Thus, if you are hosting a small ETU
	game, and have shut it down for a while and want to bring it up
	again, log in as a deity before anyone else does, and issue the
	'tickle' command. Do NOT log in and out before doing the 'tickle'
	as that will modify the last used time.
