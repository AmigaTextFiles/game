\ Load HAMmmm support files.
exists? includes
.if    getmodule includes
.then

include? ..! ju:c_struct
include? screen ji:intuition/intuition.j
include? HAM ji:graphics/view.j

include? newwindow.setup ju:amiga_graph
include? ?closebox ju:amiga_events
include? newscreen.setup ju:screen_support
include? choose ju:random
include? { ju:locals
include? ezmenu ju:amiga_menus
include? allocraster() ju:graph_support

\ Load HMSL sound or stubs.
.NEED SYS.INIT
: SYS.INIT ;
: SYS.TERM ;
: SYS.RESET ;
.THEN

exists? da.init not
.IF cr ." Loading local sound or stubs."
    cr ." Do you own HMSL?" y/n
.ELSE false
.THEN
.IF ." Make sure HMSL assigns have been executed.!" cr
    include? da.init h:amiga_sound
.ELSE  include? da.init sound_stubs
.THEN

\
\ Load specific HAMmmm files
include? task-mmm_screen mmm_screen
include? task-mmm_menu mmm_menu
include? task-mmm_draw mmm_draw
include? task-mmm_sound mmm_sound
include? task-mmm_control mmm_control
