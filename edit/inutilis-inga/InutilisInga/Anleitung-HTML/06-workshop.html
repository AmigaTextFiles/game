<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<TITLE>Inutilis Inga Anleitung</TITLE>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<DIV ALIGN="RIGHT">
<A HREF="05-zumhandbuch.html">letztes Kapitel<IMG SRC="bilder/zurück.png" BORDER="0"></A>
<A HREF="inhalt.html">Inhalt</A>
<A HREF="07-entwicklerprogramme.html"><IMG SRC="bilder/weiter.png" BORDER="0">nächstes Kapitel</A>
</DIV>
<H1>Workshop</H1>

<P>Ziel dieses Workshops ist die Erstellung eines Mini-Adventures mit zwei Orten aus bereits fertigen Grafiken. Folgende Möglichkeiten sollen darin gezeigt werden:</P>
<UL>
<LI>Wechseln zwischen den Orten</LI>
<LI>ein Gegenstand zum Nehmen und Benutzen</LI>
</UL>

<IMG SRC="bilder/spiel.jpg">

<P>Es werden hierfür alle Programme des Entwicklerpakets benutzt, so dass man mit dem gewonnenen Wissen schon fast einfache Spiele selbst schreiben kann. Lediglich zusätzliche Personen werden noch nicht erklärt, da dies zu aufwändig für einen Workshop wäre (siehe Quelltexte der Ermentrud-Demo).</P>

<A NAME="A"><H2>1. Grafiken konvertieren</H2></A>

<P>Sämtliche Grafiken für ein Inga-Adventure müssen als IFF-ILBM-Datei gespeichert werden, jedoch werden sie nicht in diesem Format von der Engine benutzt. Zum Konvertieren in das benötigte ibm-Format (InutilisBitMap) benutzt man das Programm InutilisGraphics. Öffne also dieses!</P>

<IMG SRC="bilder/inutilisgfx.png">

<H3>1.1. Hintergrundbilder</H3>
<P>Zuerst sollen die beiden Hintergrundbilder konvertiert werden. Klicke auf das "?", um das Bild "Garten" im Verzeichnis "Workshop/Grafik-IFF-ILBM/" zu laden. Es öffnet sich ein neuer Bildschirm, auf dem das Bild zu sehen ist, allerdings im Hintergrund. Man muss also mit <L.AMIGA> und <M> den Bildschirm wechseln.</P>
<P>Hintergrundbilder müssen mit der Farbpalette gespeichert werden. Aktiviere also "Palette speichern"! Stelle sicher, dass "Animation speichern" NICHT aktiviert ist!</P>
<P>Klicke nun auf "als ibm speichern" und speichere das Bild im Verzeichnis "Workshop/BitMaps/" als "Garten.ibm"! Die Endung ".ibm" ist sehr wichtig und muss immer angegeben werden.</P>
<P>Alle Grafiken für ein Inga-Spiel müssen sich im "BitMaps/"-Verzeichnis befinden und die Endung ".ibm" haben!</P>
<P>Wenn ein Hintergrundbild einen Vordergrund besitzt (wie z.B. die vorderen Bäume in "Garten"), so muss dafür noch eine Maske konvertiert werden. Dabei handelt es sich um ein zweifarbiges IFF-ILBM-Bild (mit Tiefe 1).</P>
<P>Öffne über "?" nun das Bild "GartenMaske"! Klicke dann auf "als imp speichern" (InutilisMaskPlane) und speichere die Maske als "Garten.imp"!</P>
<P>Alle Masken müssen ebenfalls im Verzeichnis "BitMaps/" sein und den selben Namen, wie das Bild haben (nur eben mit der Endung ".imp")!</P>
<P>Mache nun das Gleiche mit den IFF-Dateien "Haus" und "HausMaske", so dass dann eine "Haus.ibm"- und eine "Haus.imp"-Datei vorhanden ist!</P>

<H3>1.2. Personenanimationen</H3>
<P>Mit Animationen sind nun keine Vollbild-Mega-Spielfilme gemeint, sondern lediglich Objekte, wie z.B. die Laufanimationen der Hauptperson oder kleine Hintergrundanimationen.</P>
<P>Wähle nun per "?" die IFF-ILBM-Datei "Person laufen hinten"! Dies ist ein Bilderstreifen, auf dem alle Einzelbilder einer Animation nebeneinander oder übereinander dargestellt sind. Die Farbe Null wird bei Personen im Spiel dann automatisch transparent gezeigt. Es werden also keine zusätzlichen Maskendateien benötigt.</P>
<P>Aktiviere nun "Animation speichern" und stelle sicher, dass "Palette speichern" NICHT aktiviert ist! Nun werden zusätzliche Gadgets aktiviert, mit denen man Angaben zur Animation machen muss.</P>
<P>Stelle bei "Frames" die Anzahl der Einzelbilder ein, was in diesem Fall 6 ist!</P>
<P>Stelle bei "Richtung" ein, ob die Einzelbilder nebeneinander liegen (horizontal) oder übereinander (vertikal)! In diesem Fall ist "Horizontal" richtig.</P>
<P>Klicke nun auf "Größe"! Das Bild wird sichtbar und ein Fadenkreuz erscheint beim Mauspfeil. Klicke nun auf die rechte, untere Ecke vom ersten Einzelbild und beachte, dass das Fadenkreuz genau auf den Linien des (halben) Rechtecks liegt!</P>
<P>Klicke dann auf "Greifpunkt", woraufhin wieder das Bild mit dem Fadenkreuz erscheint! Wähle dann aber den Greifpunkt des Objektes, also zwischen den Füßen. Auch hier wird auf dem ersten Einzelbild gewählt!</P>
<P>Die letzte Einstellung ist "Pausen". Damit wird die Abspielgeschwindigkeit der Animation festgelegt. Null bedeutet keine Pausen, also so schnell wie möglich. Bei Eins wird jedes Einzelbild doppelt gezeigt, also hat die Animation dann halbe Geschwindigkeit, usw. Stelle den Wert in diesem Fall auf Null!</P>
<P>Auch Animationen werden als ibm-Datei ins Verzeichnis "BitMaps/" gespeichert, also speichere diese Animation unter "PersonLaufenHinten.ibm"!</P>
<P>Konvertiere auch die IFF-ILBM-Dateien "Person laufen links" und "Person reden vorne" nach dem selben Schema!</P>
<P>Alle weiteren Personenanimationen sind bereits fertig konvertiert, also geht es nun weiter.</P>

<H3>1.3. Hintergrundanimationen</H3>
<P>Hintergrundanimationen werden eigentlich genauso wie Personenanimationen konvertiert, jedoch muss der Greifpunkt immer links oben (0, 0) sein. Außerdem wird eine Hintergrundanimation OHNE eine transparente Farbe gezeigt. Das Hintergrundbild muss also im Bilderstreifen integriert sein.</P>
<P>Konvertiere die IFF-ILBM-Dateien "Vögel" und "Schlüssel" (vorsicht vertikal!), mit dem Wert 3 bzw. 5 für "Pausen", und speichere sie als "Vögel.ibm" und "Schlüssel.ibm"!</P>

<P>Das war's mit dem Konvertieren, denn die restlichen Bilder sind bereits im ibm-Format vorhanden. InutilisGraphics kann nun geschlossen werden!</P>

<A NAME="B"><H2>2. Personendateien erstellen</H2></A>

<P>Bisher sind alle Animationen, die zur Hauptperson gehören noch nicht gebunden, wodurch sie unbrauchbar für das System sind. Sie müssen erst in einer Personendatei (ipe) strukturiert werden. In dieser Datei sind einfach nur alle ibm-Dateien aufgelistet, die zur Person gehören, und durch eine Animationsnummer (ianNum) und eine Richtung gekennzeichnet.</P>
<P>Bei der Hauptperson sind ianNum 1 für die Stehanimationen und ianNum 2 für die Laufanimationen reserviert. In der Skriptsprache wird dann später "gesagt", dass z.B. ianNum 5 ausgeführt werden soll und es wird automatisch die Animation mit der richtigen Richtung genommen (z.B. von vorne).  Gibt es von einer Animtion etwa nur die Seitenansichten (links und rechts), aber die Figur ist von vorne zu sehen, so wird die passendste Alternative genommen.</P>
<P>Öffne das Programm "PersonenEditor"! Man sieht nun eine Liste, in der die Einzelanimationen aufgeführt werden (ist natürlich noch leer).</P>

<IMG SRC="bilder/personened.png">

<P>Wähle den ersten Listeneintrag an und stelle "ianNum" auf 1, so dass auch eine "1" in der Liste erscheint! Dahinter gibt ein "L" an, dass diese Animation die Richtung Links zeigt.</P>
<P>Klicke nun auf "ibm wählen" und wähle die Datei "PersonStehenLinks.ibm" aus dem Verzeichnis "Workshop/BitMaps/"! Der Listeneintrag wird ausgefüllt. Nun wird automatisch der nächste Eintrag ausgewählt und mit der nächsten Richtung "R" (rechts) markiert. Man muss also nur immer wieder "ibm wählen" anklicken, um die Liste zu füllen.</P>
<P>Tu dies mit den Dateien "PersonStehenRechts.ibm", "PersonStehenVorne.ibm", "PersonStehenHinten.ibm"! Nun sind alle Richtungen der Stehanimationen eingetragen, weshalb die "ianNum" nun auf 2 springt. Trage nun alle Laufanimationen ein und achte auf die richtigen Richtungen! Wenn man die automatische Reihenfolge nicht beachten will, kann man natürlich die "ianNum" und die "Richtung" entsprechend mit den gleichnamigen Knöpfen anpassen.</P>
<P>Trage außerdem alle Redenanimationen (mit ianNum 3) und die Hebenanimationen (mit ianNum 4) ein! Bei letzteren ist zu beachten, dass es sie nur von links und rechts gibt.</P>
<P>Der letzte automatisch erzeugte Eintrag "4 V -kein Eintrag-" muss auf jeden Fall wieder gelöscht werden! Wähle ihn an und klicke auf "-"!</P>
<P>Damit ist diese Personendatei fertig und muss mit "ipe speichern" als "Hauptperson.ipe" im Verzeichnis "Dats/" gesichert werden!</P>
<P>Nun haben wir fast alle nötigen Dateien und können uns der Programmierung widmen.</P>

<A NAME="C"><H2>3. Skriptprogrammierung</H2></A>

<P>Mit den bisherigen Dateien kann die Engine natürlich noch nichts anfangen, da sie ja nicht weiß, was sie damit machen soll. Die nötige Steuerung wird über ein Skript erledigt, wobei dieses natürlich erst einmal geschrieben werden muss. Zur besseren Übersicht kann man für jeden Ort im Spiel eine eigene Skriptdatei erstellen, so dass man nicht einen einzigen Text mit mehreren tausend Zeilen hat.</P>

<H3>3.1. Ein neues Projekt erstellen</H3>
<P>Zur Verwaltung der Skriptdateien dient das Programm "SkriptShell", also öffne dieses! Die Liste zeigt alle Skriptdateien an, die zum aktuellen Projekt gehören (also noch keine). Wir wollen nun ein neues Projekt anlegen.</P>

<IMG SRC="bilder/skriptshell.png">

<P>Klicke auf "Projekt/neu", woraufhin ein Einstellungsfenster erscheint!</P>
<P>Klicke auf "Verzeichnis für Skripte" und wähle "Workshop/Skripte/"! In dieses Verzeichnis werden dann später alle Skripte gespeichert.</P>
<P>Klicke auf "Kompilierverzeichnis" um das Verzeichnis zu wählen, in dem die übersetzten Inga-Dateien "story.inga" und "story.itxt" gespeichert werden! Dies ist in unserem Fall "Workshop/Dats/".</P>
<P>Das Inga-Entwicklerpaket hat leider keinen integrierten Texteditor, mit dem man die Skripte schreiben kann. Daher muss man einen externen Editor mit dem Knopf "Texteditor" auswählen. Als Voreinstellung wird hier "EditPad" von der Workbench 3.5 benutzt, wobei man dies natürlich nach eigenen Wünschen ändern kann.</P>
<P>Das Einstellungsfenster muss nun geschlossen werden.</P>

<H3>3.2. Neue Skriptdatei für einen Ort</H3>
<P>Für jeden Ort soll eine eigene Skriptdatei erstellt werden. Zuerst kümmern wir uns um den Garten, also klicke "Skript/neu" an! Nenne die Datei "Garten.isf" und wechsle dabei auf keinen Fall das Verzeichnis, da es sonst mit dem einheitlichen Skriptverzeichnis Probleme gibt!</P>
<P>Wähle dann den Listeneintrag an und klicke auf "Skript/bearbeiten"! Sollte der Texteditor nicht gestartet werden können, so sind vermutlich die Angaben im Einstellungsfenster nicht korrekt und müssen geändert werden. Ansonsten kann man nun das Skript im Editor bearbeiten.</P>
<P>Die erste Zeile des Skripts enthält bereits den Dateinamen. Dies ist nur ein Kommentar (dafür steht das Semikolon am Anfang) und wird nicht vom Compiler beachtet. Nun muss erst einmal das Aussehen (die Einrichtung) des Ortes definiert werden. Dies könnte man per Hand programmieren, aber das muss nicht sein. Statt dessen benutzen wir das Programm "OrtEditor, welches nebenher geöffnet sein muss.</P>

<H3>3.3. Ort einrichten mit dem OrtEditor</H3>
<P>Mit dem "OrtEditor" kann man komfortabel die Skriptteile erstellen, die für die Einrichtungen nötig sind. Wenn mann in diesem Programm etwas mit der Maus gestaltet, so wird der entsprechende Skriptbefehl in einen Puffer kopiert. Von dort aus kann man in ins Clipboard kopieren und in die Skriptdatei über den Texteditor einfügen.</P>
<P>Öffne den "OrtEditor"! Dieser begrüßt einen erst einmal mit einem leeren Bildschirm, was nun geändert werden soll.</P>
<P>Wähle im Pull-Down-Menü "Hintergrund/Bild laden" und lade das Bild "Workshop/BitMaps/Garten.ibm"! Der "OrtEditor" kann übrigens keine IFF-ILBM-Dateien öffnen, sondern nur ibm.</P>
<P>Wähle dann "Einrichtung/Kopf hinzufügen" und gebe als Orts-ID-Nummer 1 an (Jeder Ort muss eine einmalige ID haben!). Die "CD"-Nummer gibt an, welches Lied von einer Musik-CD bei diesem Ort gespielt werden soll. Wenn keines gespielt werden soll, dann stelle 0 ein! Klicke anschließend auf "OK"! Damit wurde der Skriptbefehl "Einrichtung" mit den nötigen Parametern in den Puffer eingefügt.</P>

<IMG SRC="bilder/ortedfenster.png">

<P>Nun soll ein einfaches Feld für die Tür des Hauses definiert werden. Wähle "Einrichtung/Feld hinzufügen" und mache folgende Eingaben:</P>
<UL>
<LI>ID: 1</LI>
<LI>Bez(eichnung): Tür</LI>
<LI>sofort sichtbar: Aktiviert</LI>
</UL>
<P>Klicke auf "OK", woraufhin ein Fadenkreuz eingeblendet wird. Ziehe nun in üblicher Lassotechnik einen Kasten über die Tür! Nach dem loslassen der Maustaste erscheint wieder ein Fadenkreuz, mit dem der Punkt auf dem Boden ausgewählt werden muss, zu dem die Hauptperson gehen soll, wenn man auf das Feld klickt. Klicke also unter der Tür auf den Boden! Dadurch wurde nun der Skriptbefehl "Feld" zum Puffer hinzugefügt.</P>
<P>Definiere auch ein Feld auf dem See (links im Bild) mit den Werten ID=2, Bez=See und "sofort sichtbar"=aktiv! Der Laufzielpunkt soll diesmal rechts neben dem See sein.</P>
<P>Als nächstes soll eine Zierde hinzugefügt werden. Dabei handelt es sich um eine ibm-Animation, welche ohne Funktion eingeblendet wird. Wähle "Einrichtung/Zierde hinzufügen"! Lade die Datei "Vögel.ibm" (Ohne Doppelklick! Bitte mit "Ok" bestätigen, da sonst bei der Positionierung ein Fehler auftritt!) und stelle danach folgende Werte ein: ID=3, "sofort sichtbar"=aktiv! Nachdem man "OK" anklickt, erscheint das ausgewählte Bild der Vögel am Mauspfeil, welches man durch einen Klick positionieren kann. Packe die Vögel irgendwo in den Himmel!</P>
<P>Nun kommt ein Objekt. Dies ist ebenfalls eine ibm-Animation (oder Bild), welche jedoch im Spiel eine Funktion hat. Wähle "Einrichtung/Objekt hinzufügen" und lade "Schlüssel.ibm" (bitte wieder ohne Doppelklick)! Stelle Folgendes ein: ID=4, Bez="Türschlüssel", "sofort sichtbar"=aktiv! Klicke dann auf "OK" auf platziere den Schlüssel auf dem Boden! Wie beim Feld muss noch der Punkt gewählt werden, zu dem die Person beim Anklicken geht, also neben, unter oder über dem Schlüssel.</P>
<P>Als Gegenstück zu dem "Kopf hinzufügen" muss nun der "Schwanz" hinzugefügt werden. Wähle also "Einrichtung/Schwanz hinzufügen! Damit ist die Einrichtung dieses Ortes fertig und kann nun ins Skript. Wähle "Einrichtung/Puffer ins Clipboard kopieren" und bringe mit <R.AMIGA> + <M> den Texteditor wieder in den Vordergrund. Füge nun das Ergebnis mit "Bearbeiten/Einfügen" (oder ähnlich) in das Skript ein! Sieht doch schon sehr professionell aus, oder?</P>

<H3>3.4. Laufkarte erstellen mit dem OrtEditor</H3>
<P>Der OrtEditor hat noch eine andere Aufgabe: Mit ihm wird der Bereich eines Ortes definiert, der von einer Person im Spiel begehbar ist. Diese Definition wird dann als eine Laufkartendatei (ilk) abgespeichert. Für jeden Ort gibt es jeweils eine ilk-Datei.</P>
<P>Wähle im Menü "Hintergrund/Laufkarte einstellen/oberer Rand", woraufhin zwei horizontale Linien eingeblendet werden. Wenn man nun mit der linken Maustaste gedrückt über den Bildschirm fährt, so wird die obere Linie verändert. Sie muss dann der oberen Laufgrenze des Bildes angepasst werden. Dabei wird auffallen, dass die Begrenzung nicht beliebig formbar ist, sondern immer irgendwie horizontal bleibt. Dies ist eine Einschränkung der ersten Inga-Version, welche auch leider noch eine Weile bleiben wird.</P>
<P>Wenn die obere Linie fertig ist, dann wähle "Hintergrund/Laufkarte einstellen/unterer Rand" und bearbeite die untere Linie in der gleichen Weise, wie die obere. Diesmal soll natürlich die untere Grenze definiert werden.</P>
<P>Anschließend speichere die Laufkartendatei mit dem Menüpunkt "Hintergrund/Laufkarte speichern" im Verzeichnis "Workshop/Dats/". Der Dateiname muss dem des Hintergrundbildes entsprechen, jedoch mit der Endung ".ilk", also in diesem Fall "Garten.ilk". Beende nun den OrtEditor, da er nicht mehr gebraucht wird ("Programm/beenden")!</P>

<H3>3.5. Skript schreiben</H3>
<P>Den Anfang des Skripts haben wir ja schon vom OrtEditor machen lassen, doch nun sind eigene Künste erforderlich. Beachte immer, dass der Compiler zwischen Groß- und Kleinschreibung unterscheidet. Tippe also immer alles exakt ab! Unter "EinrichtungEnde" müssen nun einige neue Zeilen:</P>
<CODE>
Liste<BR>
Stopp<BR>
</CODE>
<P>Nun muss noch zwischen ";---Garten.isf---" und "Einrichtung..." eine Sprungmarke (Doppelpunkt beachten!), die angibt, wo das Spiel anfängt:</P>
<CODE>
:Start<BR>
</CODE>
<P>Das sieht alles noch nicht so spektakulär aus und es ist es auch nicht! Aber dieses Skript hat alles, was mindestens erforderlich ist, um das Spiel zu starten. Man wird bisher aber nur herumlaufen können.</P>
<P>Speichere das Skript mit dem Texteditor (z.B. im Menü "Projekt/Speichern")! Nun soll auch das gesamte Projekt in der SkriptShell gespeichert werden. Klicke dazu auf "Projekt/speichern" und gebe einen beliebigen Namen ein. In der Projektdatei werden alle Einstellungen und die Skriptliste gesichert, allerdings nicht die Skripte an sich, da diese ja schon im Verzeichnis "Skripte/" sind.</P>

<H3>3.6. Der erste Versuch</H3>
<P>Klicke jetzt auf "KOMPILIEREN"! Wenn alles geklappt hat, dann wird nun das Projekt erfolgreich übersetzt. Wenn Fehler auftreten, dann hast du vermutlich etwas falsch gemacht. In beiden Fällen muss das Fenster mit "Ende" geschlossen werden. Traten keine Fehler auf, dann starte nun das Programm "Inga.exe" im "Workshop/"-Verzeichnis! Mit etwas Glück hast du jetzt schon (sehr, sehr fast) ein kleines Spiel... Naja, noch ein wenig dürftig vielleicht??? Wenn du genug probiert hast, dann beende das Spiel wieder ("Menü" in der Inventarleiste anklicken, dann "Spiel beenden").</P>

<H3>3.7. Der zweite Ort im OrtEditor</H3>
<P>Nun soll man auch das Innere des Hauses erkunden können, wofür wieder der OrtEditor gebraucht wird. Da ja die Bedienung bekannt sein sollte, kommen jetzt nur noch einige grobe Anweisungen.</P>
<P>Lade als Hintergrundbild "Workshop/BitMaps/Haus.ibm" und erstelle eine Laufkartendatei mit dem Namen "Haus.ilk" im Verzeichnis "Workshop/Dats/"!</P>
<P>Füge den obligatorischen Kopf dem Puffer zu, diesmal mit der ID-Nummer 2. An der Einrichtung wird diesmal gespart. Nur die Tür soll als ein Feld definiert werden, und zwar mit ID=1, Bez="Ausgang" und "sofort sichtbar"=aktiviert! Nun noch schnell den "Schwanz" hinzufügen und ab damit ins Clipboard!</P>
<P>Den OrtEditor brauchen wir noch zweimal, also beende ihn nicht, sondern bringe nur die Workbench in den Vordergrund (<L.AMIGA> + <N>)!</P>

<H3>3.8. Das Skript des zweiten Ortes</H3>
<P>Klicke in der SkriptShell wieder auf "Skript/Neu" und gebe der neuen Datei den Namen "Haus.isf"!</P>
<P>Wähle den neuen Eintrag aus und klicke auf "Skript/bearbeiten", so dass der Texteditor wieder erscheint. Trage folgende Sprungmarke unter den Kommentar ein:</P>
<CODE>
:Haus<BR>
</CODE>
<P>Füge dann den aktuellen Clipboardinhalt in das Skript ein! Darunter kommen wieder die bekannten Zeilen:</P>
<CODE>
Liste<BR>
Stopp<BR>
</CODE>
<P>Nun soll auch endlich das Geheimnis dieser Zeilen gelüftet werden. Der Befehl "Liste" verursacht, dass die Engine hier erst einmal stoppt und den Spieler ans Werk lässt. Das heißt, dass man nun - nachdem der Ort aufgebaut wurde - frei herumlaufen kann. Wenn man jedoch etwas anklickt (z.B. ein Feld oder Objekt), so wird wieder das Skript gelesen, und zwar ab "Liste" bis zum nächsten "Stopp". Bei "Stopp" wird das Skript erst einmal wieder beendet und man kann weiter frei herumlaufen.</P>
<P>Wenn also etwas passieren soll, so muss es zwischen "Liste" und "Stopp" programmiert werden, und das geht so: Wenn man im Haus auf die Tür klickt, so soll man in den Garten zurückkehren. Anklicken heißt so viel wie benutzen, und die Tür hat als ID-Nummer 1. Und das machen wir daraus:</P>
<CODE>
Liste<BR>
WennBenutzt 1<BR>
&nbsp;&nbsp;&nbsp;SpringeOrt Start,<BR>
Abschluss<BR>
Stopp<BR>
</CODE>
<P>Wenn nun ID 1 benutzt wird, dann wird das Skript zwischen der "Wenn"-Frage und dem "Abschluss" ausgeführt. "SpringeOrt" ist eine erweiterte Sprunganweisung, welche gleichzeitig den Standort der Hauptperson ändert. "Start" ist die Sprungmarke vom Garten, doch nun fehlen noch die Koordinaten. Diese könnte man natürlich einfach eintippen, aber man muss sie natürlich erst kennen.</P>
<P>Hier hilft mal wieder der OrtEditor! Lade als Hintergrundbild "Garten.ibm" und wähle im Menü "Einrichtung/Position ins Clipboard kopieren"! Klicke mit dem Fadenkreuz unter die Tür, denn dort soll die Hauptperson stehen, wenn sie aus dem Haus kommt!</P>
<P>Zurück zum Skript! Setze den Textcursor hinter das Komma und füge das Clipboard ein ("Bearbeiten/Einfügen")! Dahinter kommt noch eine Richtungszahl für Links=0, Rechts=1, Vorne=2 oder Hinten=3. Die Zeile sollte dann ungefähr so aussehen:</P>
<CODE>
SpringeOrt Start, 520, 310, 2<BR>
</CODE>
<P>Die Koordinaten können natürlich etwas abweichen. Dieser Ort ist damit fertig programmiert, also speichere das Skript!</P>

<H3>3.9 Das Skript vom ersten Ort</H3>
<P>Um das Haus zu verlassen, muss man es natürlich noch betreten können. Also muss das Skript vom Garten noch erweitert werden. Öffne die Datei "Garten.isf" im Texteditor! Wie man erahnen kann, muss auch hier zwischen "Liste" und "Stopp" etwas eingefügt werden, also los:</P>
<CODE>
WennBenutzt 1<BR>
&nbsp;&nbsp;&nbsp;SpringeOrt Haus, 440, 305, 2<BR>
Abschluss<BR>
</CODE>
<P>Die Koordinaten (440, 305) kann man bei Interesse noch einmal selbst mit dem OrtEditor ermitteln. Danach kann dieses Programm aber auch wirklich beendet werden.</P>
<P>Wenn wir schon mal an dem Garten-Skript herumbasteln, dann kann gleich noch etwas anderes erledigt werden. Wenn man im Spiel den See anklickt, dann soll die Hauptperson etwas sagen. Der See hat die ID-Nummer 2, also kommt noch folgendes dazu (zwischen "Abschluss" und "Stopp"):</P>
<CODE>
WennBenutzt 2<BR>
&nbsp;&nbsp;&nbsp;Rede 0, 3, "Ich möchte jetzt nicht schwimmen gehen!", ""<BR>
&nbsp;&nbsp;&nbsp;Stopp<BR>
Abschluss<BR>
</CODE>
<P>Das "Stopp" innerhalb der Abfrage ist sinnvoll, da das Ausführen des Skripts ja nach dem Reden sofort beendet werden kann. So müssen nicht auch noch alle weiteren Abfragen (sofern vorhanden)  geprüft werden.</P>
<P>Nun soll auch noch etwas passieren, wenn man den See nur anguckt (mit rechter Maustaste anklickt). Das funktioniert so ähnlich:</P>
<CODE>
WennAngesehen 2<BR>
&nbsp;&nbsp;&nbsp;Rede 0, 3, "Der See sieht toll aus.", ""<BR>
&nbsp;&nbsp;&nbsp;Stopp<BR>
Abschluss<BR>
</CODE>
<P>Der Spruch kann natürlich beliebig geändert werden. Wenn mehr erzählt werden soll, müssen einfach mehrere "Rede"-Befehle untereinander stehen, also z.B.:</P>
<CODE>
WennAngesehen 2<BR>
&nbsp;&nbsp;&nbsp;Rede 0, 3, "Ein schöner See...", ""<BR>
&nbsp;&nbsp;&nbsp;Rede 0, 3, "...ich würde gerne darin baden gehen.", ""<BR>
&nbsp;&nbsp;&nbsp;Rede 0, 3, "Leider habe ich meine Badehose vergessen!", ""<BR>
&nbsp;&nbsp;&nbsp;Stopp<BR>
Abschluss<BR>
</CODE>
<P>Speichere zum Schluss das Skript!</P>

<H3>3.10. Der zweite Versuch</H3>
<P>Klicke in der SkriptShell noch einmal auf "KOMPILIEREN" und starte daraufhin wieder das Programm "Inga.exe" im "Workshop/"-Verzeichnis! Nun kannst du alle Neuerungen ausprobieren (ins Haus gehen, den See angucken usw.) Schon nicht schlecht, oder? Naja, zu einem Adventure gehören irgendwie noch Rätsel. Die Tür könnte z.B. verschlossen sein und man müsste erst den Schlüssel nehmen, um damit die Tür aufschließen. Hört sich gut an, also ran ans Werk! Verlasse das Spiel wieder!</P>

<H3>3.11 Das Skript vom Garten erweitern</H3>
<P>Öffne das "Garten.isf"-Skript im Texteditor. Zuerst soll der Schlüssel aufhebbar werden, was bei Inga in gleicher Weise wie das Benutzen abgefragt wird. Füge folgende Zeilen ein:</P>
<CODE>
WennBenutzt 4<BR>
&nbsp;&nbsp;&nbsp;AnimNehmen 0, 4, 4, 2<BR>
&nbsp;&nbsp;&nbsp;InventarNehmen 256, "Schlüssel", "GegSchlüssel"<BR>
&nbsp;&nbsp;&nbsp;WarteAuf 0<BR>
&nbsp;&nbsp;&nbsp;Stopp<BR>
Abschluss<BR>
</CODE>
<P>Der "AnimNehmen"-Befehl lässt die Hauptperson sich bücken und den Schlüssel verschwinden. Mit dem "InventarNehmen" wird der Schlüssel mit der ID-Nummer 256 und der Bezeichnung "Schlüssel" in das Inventar aufgenommen. Das "GegSchlüssel" ist die ibm-Datei (Bild oder Animation), welche für das Symbol benutzt wird. Die ID-Nummern von Inventargegenständen fangen übrigens bei 256 an, da es ab dort keine Konflikte mit anderen Objekten usw. vom Ort geben kann.</P>
<P>Nun soll man den Schlüssel mit der Tür benutzen können. Die Abfrage dazu lautet:</P>
<CODE>
WennBenutztMit 1, 256<BR>
Abschluss<BR>
</CODE>
<P>Wenn also der Schlüssel (ID 256) mit der Tür benutzt wird, wird das Skript bis "Abschluss" ausgeführt. Dieser Bereich muss natürlich noch gefüllt werden. Der Zustand der Tür soll in einer Variable gehalten werden (0=geschlossen, 1=geöffnet).</P>
<P>Variablen haben bei Inga keinen Namen, sondern eine Nummer, mit der man auf die Variable zugreifen kann.</P>
<P>Füge zwischen "WennBenutztMit" und "Abschluss" folgendes ein:</P>
<CODE>
WennGleich #1, 0<BR>
&nbsp;&nbsp;&nbsp;Rede 0, 3, "Die Tür ist aufgeschlossen.", ""<BR>
&nbsp;&nbsp;&nbsp;SetzeVariable 1, 1<BR>
&nbsp;&nbsp;&nbsp;Stopp<BR>
Abschluss<BR>
Rede 0, 3, "Ich habe sie wieder abgeschlossen.", ""<BR>
SetzeVariable 1, 0<BR>
Stopp<BR>
</CODE>
<P>Um den Wert einer Variable zu benutzen, schreibt man anstelle einer konstanten Zahl ein Doppelkreuz (#) und die Variablennummer. Wenn jedoch, wie bei "SetzeVariable", explizit eine Variablennummer gefragt ist, dann darf kein Doppelkreuz benutzt werden.</P>
<P>Nun fehlt noch die Bearbeitung der Türabfrage. Bisher sieht diese so aus:</P>
<CODE>
WennBenutzt 1<BR>
&nbsp;&nbsp;&nbsp;SpringeOrt Haus, 440, 305, 2<BR>
Abschluss<BR>
</CODE>
<P>Es wird also noch nicht geprüft, ob die Tür abgeschlossen ist. Ändere den Teil in:</P>
<CODE>
WennBenutzt 1<BR>
&nbsp;&nbsp;&nbsp;WennGleich #1, 0<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rede 0, 3, "Die Tür ist abgeschlossen.", ""<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stopp<BR>
&nbsp;&nbsp;&nbsp;Abschluss<BR>
&nbsp;&nbsp;&nbsp;SpringeOrt Haus, 440, 305, 2<BR>
Abschluss<BR>
</CODE>
<P>Dies bewirkt, dass wenn die Variable 1 auf Null steht (die Tür also abgeschlossen ist), die Hauptperson etwas sagt und das Skript gestoppt wird. Wenn die Variable nicht Null ist, dann wird die innere Abfrage übersprungen und der "SpringeOrt"-Befehl wird ausgeführt.</P>
<P>Speichere das Skript!</P>

<H3>3.12. Vollendung</H3>
<P>Nun kann das Projekt neu kompiliert werden und das Ergebnis bestaunt werden ("Inga.exe" starten)! Falls irgendetwas nicht geklappt hat (Fehler im Skript), dann kommen hier noch einmal die kompletten Skripte zum Vergleichen. Beachte, dass Koordinaten natürlich abweichen können und dürfen! Auch die Reihenfolge der verschiedenen Abfragen ("Wenn...") darf sich unterscheiden.</P>

<CODE>
; ---Garten.isf---<BR>
<BR>
:Start<BR>
Einrichtung 1, "Garten", 0<BR>
&nbsp;&nbsp;&nbsp;Feld 1, "Tür", 496, 151, 551, 302, 519, 314, 1<BR>
&nbsp;&nbsp;&nbsp;Feld 2, "See", 1, 268, 72, 325, 129, 310, 1<BR>
&nbsp;&nbsp;&nbsp;Zierde 3, "Vögel", 364, 77, 1<BR>
&nbsp;&nbsp;&nbsp;Objekt 4, "Türschlüssel", "Schlüssel", 146, 308, 150, 320, 1<BR>
EinrichtungEnde<BR>
<BR>
Liste<BR>
WennBenutzt 1<BR>
&nbsp;&nbsp;&nbsp;WennGleich #1, 0<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rede 0, 3, "Die Tür ist abgeschlossen.", ""<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stopp<BR>
&nbsp;&nbsp;&nbsp;Abschluss<BR>
&nbsp;&nbsp;&nbsp;SpringeOrt Haus, 440, 305, 2<BR>
Abschluss<BR>
WennBenutztMit 1, 256<BR>
&nbsp;&nbsp;&nbsp;WennGleich #1, 0<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rede 0, 3, "Die Tür ist nun aufgeschlossen.", ""<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SetzeVariable 1, 1<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stopp<BR>
&nbsp;&nbsp;&nbsp;Abschluss<BR>
&nbsp;&nbsp;&nbsp;Rede 0, 3, "Ich habe sie wieder abgeschlossen.", ""<BR>
&nbsp;&nbsp;&nbsp;SetzeVariable 1, 0<BR>
&nbsp;&nbsp;&nbsp;Stopp<BR>
Abschluss<BR>
WennBenutzt 2<BR>
&nbsp;&nbsp;&nbsp;Rede 0, 3, "Ich möchte jetzt nicht schwimmen gehen!", ""<BR>
&nbsp;&nbsp;&nbsp;Stopp<BR>
Abschluss<BR>
WennAngesehen 2<BR>
&nbsp;&nbsp;&nbsp;Rede 0, 3, "Ein schöner See...", ""<BR>
&nbsp;&nbsp;&nbsp;Rede 0, 3, "...ich würde gerne darin baden gehen.", ""<BR>
&nbsp;&nbsp;&nbsp;Rede 0, 3, "Leider habe ich meine Badehose vergessen!", ""<BR>
&nbsp;&nbsp;&nbsp;Stopp<BR>
Abschluss<BR>
WennBenutzt 4<BR>
&nbsp;&nbsp;&nbsp;AnimNehmen 0, 4, 4, 2<BR>
&nbsp;&nbsp;&nbsp;InventarNehmen 256, "Schlüssel", "GegSchlüssel"<BR>
&nbsp;&nbsp;&nbsp;WarteAuf 0<BR>
&nbsp;&nbsp;&nbsp;Stopp<BR>
Abschluss<BR>
Stopp<BR>
<BR>
<BR>
; ---Haus.isf---<BR>
<BR>
:Haus<BR>
Einrichtung 1, "Haus", 0<BR>
&nbsp;&nbsp;&nbsp;Feld 1, "Ausgang", 412, 163, 483, 299, 444, 304, 1<BR>
EinrichtungEnde<BR>
<BR>
Liste<BR>
WennBenutzt 1<BR>
&nbsp;&nbsp;&nbsp;SpringeOrt Start, 520, 310, 2<BR>
Abschluss<BR>
Stopp<BR>
</CODE>
</BODY>
</HTML>
