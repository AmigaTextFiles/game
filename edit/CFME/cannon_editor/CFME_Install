(
 ;prompt strings
 (set #hello "CFME installation utility\nPlease read help before doing any choice")
 (set #what1 "What do you wish to install?")
 (set #where1 "Where do you want to have CFME installed?\nA dir will be created here")
 (set #copy1 "Copying CFME, guide and config files")
 (set #copy2 "Copying DATA/ files")
 (set #copy3 "Copying Utilities file")
 (set #ctlog1 "Where do you want to have catalogs file installed?")
 (set #ctlog2 "What of these file should be copied - english is the default")
 (set #map1 "Where do you want to install maps?")
 (set #map2 "Which maps should be installed")
 (set #exe1 "Now we're about to install exe file")
 (set #exe6 "Copying older exe file")
 (set #exe7 "Copying new exe file")
 (set #exe3 "Choose the dir where is the older exe file")
 (set #exe4 "Chose the dir where you want to copy the older exe file")
 (set #exe5 "Chose the dir where you want to copy NEW fodder file")
 ;help strings
 (set #h1str1
   "I'm asking you want you want to be installed.\nYou may choose (or not) to install CFME\n"
 )
 (set #h1str2 ;20
   "You may select to not to install CFME if you \nalready unpacked CFME archive in the right directory\n"
 )
 (set #h1str3
   "I included two example mission, named map1 and map2\nDo you want to have them installed ?\n"
 )
 (set #h1str4
   "Fodder executable is necessary if you want to change\nobjectives and difficult levels\n"
 )
 (set #h1str5
   "CFME will work without new executable too\nBut you won't be able to edits objectives."
 )
 ;options
 (set #i1  "CFME")
 (set #i2  "Example missions")
 (set #i3  "Fodder executable")
 (set #loc1 "LOCALE:Catalogs/")
 (set #loc2 "data/catalogs/")
 (set #omap1 "mapm1.map")
 (set #omap2 "mapm2.map")
 (message #hello)
 (set #ch
   (askoptions
     (choices #i1 #i2 #i3)
     (prompt #what1)
     (help (cat #h1str1 #h1str2 #h1str3 #h1str4 #h1str5))
     (default %111)
   )             ;47
 )
 (if (= (BITAND #ch %001) %001)
   (  ;then
     (set #cfmedir
       (askdir
         (help @askdir-help)
         (prompt #where1)
         (default "Ram:")
         (disk)
       )
     )
     (set #cfmedir (tackon #cfmedir "Cannon_Editor") )
     (makedir #cfmedir (infos))
     (copyfiles
       (prompt #copy1)
       (source (pathonly @icon) )
       (help @copyfiles-help)
       (dest #cfmedir)
       (files)
       (all)
       ;(confirm)
     )              ;69
     (makedir (tackon #cfmedir "Data/"))
     (complete 15)
     (copyfiles
       (prompt #copy2)
       (source (tackon (pathonly @icon) "Data/" ))
       (help @copyfiles-help)
       (dest (tackon #cfmedir "Data/"))
       (files)
       (all)
       ;(confirm)
     )
     (makedir (tackon #cfmedir "Utilities/"))
     (complete 50)
     (copyfiles
       (prompt #copy3)
       (source (tackon (pathonly @icon) "Utilities/" ))
       (help @copyfiles-help)
       (dest (tackon #cfmedir "Utilities/"))
       (files)
       (all)
       ;(confirm)
     )
     (complete 55)     ;80
     (set #ch2
       (askchoice
         (choices #loc1 #loc2)
         (prompt #ctlog1)
         (help @askchoice-help)
       )
     )
     (set #dest
       (select #ch2 "LOCALE:Catalogs/" (tackon #cfmedir "data/Catalog"))
     )
     (makedir #dest)
     (copyfiles
       (prompt #ctlog2)
       (source (tackon (pathonly @icon) "Data/Catalogs"))
       (help @copyfiles-help)
       (dest #dest)
       ;(files)
       (all)
       (confirm)
     )
     (complete 60)        ;100
   );end of then statement
 ); endif
 (if (= (BITAND #ch %010) %010)
   ( ;then copy maps
     (set #dest
       (askdir
         (help @askdir-help)
         (prompt #map1)
         (default "RAM:")
         (disk)
       )
     )
     (complete 65)
     (copyfiles
       (prompt #map2)
       (source (tackon (pathonly @icon) "Examples/"))
       (help @copyfiles-help)
       (dest #dest)
       (files)
       (all)
       (confirm)
     )
     (complete 70)
   ) ;end of then statement
 );end if
 (if (= (BITAND #ch %100) %100)
   ( ;then copy maps
     (message #exe1)
     (set #dest
       (askdir
         (help @askdir-help)
         (prompt #exe3)
         (default "RAM:")
         (disk)
       )
     )
     (complete 75)   ;138
     (set #dest2
       (askfile
         (help @askfile-help)
         (prompt #exe4)
         (default (cat #dest ".old"))
       )
     )
     (complete 80)
     (copyfiles
       (prompt #exe6)
       (source (tackon #dest "fodder"))
       (help @copyfiles-help)
       (dest #dest2)
       (files)
       (confirm)
     )
     (complete 85)
     (set #dest
       (askdir
         (help @askdir-help)
         (prompt #exe5)
         (default #dest)
         (disk)
       )
     )
     (complete 90)
     (copyfiles
       (prompt #exe7)
       (source (tackon (pathonly @icon) "Exe/fodder"))
       (help @copyfiles-help)
       (dest (tackon #dest "fodder"))
       (files)
       (all)
       (confirm)
     )
  ) ;end of then statement
 );end if

(complete 100)
(message "Fine!")
)

