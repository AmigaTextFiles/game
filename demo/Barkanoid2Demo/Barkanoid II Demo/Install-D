;
; $VER: Install Barkanoid2 Demo (15.05.2005)
; This Install-script is part of Barkanoid2 ©2005 MagnusSoft
; MorphOS Version ©2005 RuneSoft ®
; installscript by Michael Garlich
; English Installation
;**************************************************************************
; Deutsche Installation

(if (= @language "english")
	(
		(set default-lang 2)
		
		(set #welcome
			(cat
				"\n\n\nWillkommen zur Installation von Barkanoid2 Demo\n\n"
				"Barkanoid2 ©2005 MagnusSoft ®.\n"
                "MorphOS Version ©2005 RuneSoft ®."
		))
        (set #where-Barkanoid
            (cat
	         "Wo möchten Sie Barkanoid2 installieren?\n Ein Verzeichnis 'Barkanoid2 Demo' wird automatisch erstellt."
        ))
		(set #copy "Kopiere %s nach %s...")
        (set #MOSreboot
            (cat
                "Damit Barkanoid2 erfolgreich laufen kann,\n"
                "muß Ihre Rechner neu gestartet werden!\n\n"
                "Wollen Sie jetzt neu starten?\n\n"

        ))
		(set #help "Keine Hilfe verfügbar...")
        (set #barka-drawer "Barkanoid2 Demo")
        (set #drawericon "Barkanoid2 Demo.Info")
		(set #old "Bereits installierte Version: ")
		(set #new "Zu installierende Version: ")
		(set #overwritelib "Die Library ist bereits installiert.\nMöchten Sie sie überschreiben?")
		(set #yes "Ja")
		(set #no "Nein")
        (set #usenewer "Leider ist Ihre MorphOS Version veraltet,\nbitte installieren Sie mindestens 1.42")
        (set #newSDL "Installation PowerSDL Library Version 11")
	)
)

;**************************************************************************
; the installaion script
(effect 'center' 'horizontal' $436A9A $6EB0FC)
(showmedia 'Logo' 'pic/b2_1main.jpg' 'upper_center' 'none' 0)
(showmedia 'shot1' 'pic/sc1_small.jpg' 'lower_left' 'none' 0)
(showmedia 'shot1' 'pic/sc2_small.jpg' 'lower_right' 'none' 0)
(set syssettings "ENVARC:")
(set @default-dest "")

; Check Kickstart version. Exit if not at least 3.0
(if (< (/ (getversion) 65536) 50)
        (abort #usenewer)
)

;Check CPU. Exit if >= 60040
;(if (NOT (PATMATCH "(68040|68060)" (DATABASE "cpu")))
;        (abort #bad-cpu)
;)

(message #welcome)

(welcome)
    (set Barka-where
		(askdir
			(prompt  #where-Barkanoid)
			(help    @askdir-help)
			(default "sys:")
		)
 	 )
     (makedir
         ((tackon Barka-where #Barka-Drawer))
     )
     (copyfiles
            (source "Icons/FolderIcon.info")
            (dest Barka-where)
            (newname #drawericon)
     )
     (set Barka-Dest (tackon Barka-where #Barka-Drawer))
     (makedir (tackon Barka-Dest "Data"))
     (copyfiles
            (all)
			(prompt "Kopiere BarkanoidII Datenfiles")
			(help #help)
			(source "data")
			(dest (tackon Barka-Dest "Data"))
			(confirm)
	 )
     (copyfiles
			(prompt "Kopiere BarkanoidII Hauptprogramm")
			(help #help)
			(source "BarkanoidII")
			(dest Barka-dest)
			(confirm)
	 )                
     (copyfiles
            (source "Icons/ProgramIcon.info")
            (dest Barka-Dest)
            (newname "BarkanoidII.info")
     )
     (copyfiles
            (prompt "Kopiere Readme-Datei")
			(help #help)
			(source "ReadMe.html")
			(dest Barka-dest)
			(confirm)
	 )
     (makedir (tackon Barka-Dest "Pic"))
     (copyfiles
            (all)
			(prompt "copying readme picfolder")
			(help #help)
			(source "pic")
			(dest (tackon Barka-Dest "Pic"))
			(confirm)
	 )
     (copyfiles
            (source "Icons/ReadMeIcon.info")
            (dest Barka-Dest)
            (newname "ReadMe.html.info")
     )
     (copylib
			(prompt #newSDL)
			(help #help)
			(source "libs/powersdl.library")
			(dest "MOSSYS:Libs")
			(confirm)
	 )
     (copylib
			(prompt "Installation der PowerSDL-gfx.library" )
			(help #help)
			(source "libs/powersdl_gfx.library")
			(dest "MOSSYS:Libs")
			(confirm)
	 )
     (copylib
			(prompt "Installation der PowerSDL-image.library")
			(help #help)
			(source "libs/powersdl_image.library")
			(dest "MOSSYS:Libs")
			(confirm)
	 )
     (copylib
			(prompt "Installation der PowerSDL-mixer.library")
			(help #help)
			(source "libs/powersdl_mixer.library")
			(dest "MOSSYS:Libs")
			(confirm)
	 )
     (copylib
			(prompt "Installation der PowerSDL-net.library")
			(help #help)
			(source "libs/powersdl_net.library")
			(dest "MOSSYS:Libs")
			(confirm)
	 )
     (copylib
			(prompt "Installation der PowerSDL-ttf.library")
			(help #help)
			(source "libs/powersdl_ttf.library")
			(dest "MOSSYS:Libs")
			(confirm)
	 )
     (copylib
			(prompt "Kopiere SDL Default-Icon")
			(help #help)
			(source "env-archive/Sys/def_SDL.info")
			(dest "ENVARC:Sys")
			(confirm)
	 )

	(set amireboot
		(askbool
			(prompt  #MOSreboot)
			(help    #help)
			(default 0)
		)
	)

(if amireboot
  (
    (copyfiles
        (source "Reboot")
        (dest   "RAM:")
    )
    (run "RAM:Reboot")

  )
)
(complete 100)
(exit)


