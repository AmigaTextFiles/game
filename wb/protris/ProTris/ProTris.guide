@database "ProTris"

@author "Protec/Mirage"
@(c) "Copyright © 1994 Protec/Mirage"
@$VER: ProTris.guide V1.1 (21/6/94)
@width 77

****************************************************************************
@node Main "ProTris" 
@toc "Contents
@{b}
                 ProTris V1.1 ©1993-1994 by Protec/Mirage
                         archived on 21 June 1994
@{ub}
                            @{"Shareware notice " Link "shareware"}
                            @{"Copyrights       " Link "copyrights"}
                            @{"Introduction     " Link "Introduction"}
                            @{"Requirements     " Link "Requirements"}
                            @{"Installation     " Link "InstallWB"}
                            @{"Usage            " Link "Usage"}
                            @{"History          " Link "History"}
@EndNode

****************************************************************************
@node shareware
@{b}
                              Shareware notice
@{ub}
ProTris  is shareware which means you should send me some amount of money if
you  like this program.  You can also send something you programmed yourself
which  I  will  accept  as  the  payment for ProTris.  ProTris may be freely
distributed as long as the archive is left intact and no changes are made to
the  contents of any file.  It is not allowed to sell ProTris (for more than
the  usual amount of money asked for a PD disk) unless there is an agreement
with me.

Send money/bug reports/suggestions to:

	Protec/Mirage
	Transvaalplein 37
	5021 TD  Tilburg
	The Netherlands
@EndNode

****************************************************************************
@node copyrights
@{b}
                         ProTris Copyright Notices
@{ub}

                                ProTris V1.1
              Copyright © 1994 by Protec/Mirage (E.v.Berkel).

                 ProTris makes use of the Reqtools.library,
            This library is copyright 1991-94 by Nico François.

                                 Thanks to:

                                 BLO/Mirage
                                JACK/Mirage
                                RETEP/Mirage
                               TOMCAT/Mirage
                                JAKE/Mirage
                              D-STAR/Anaconda

                         for ß-testing and sampling
@endnode

****************************************************************************
@Node "Introduction"
@{b}
                                Introduction
@{ub}
ProTris  is  a  Tetris clone to use on the Workbench screen of the Amiga.  I
decided  to  make  it as a learning project to understand more of the Amiga-
operating system and to enjoy myself while backuping or other boring duties.

At this moment there is one sampleset available of Beavis and Butthead.  The
sample-archives  will  be spread on the Bulletin Boards.  All the samples in
the archive are less than 128 kilobytes.

@EndNode

****************************************************************************
@Node "Requirements"
@{b}
                                Requirements
@{ub}
To  run  ProTris  you need:
- Kickstart V2.04 or greater.
- reqtools.library    (copyrighted by Nico François)
- iffparse.library
- amigaguide.library  (only for online help-system)
@EndNode

****************************************************************************
@Node "InstallWB"
@{b}
                      Installation using the Workbench
@{ub}
ProTris.lha should contain the following files:

Install
Install.info
ProTris
ProTris.info
ProTris.guide
ProTris.guide.info
ProTrisSamples.info
c/Installer
libs/reqtools.library
ProTrisSamples/Double.iff
ProTrisSamples/Drop.iff
ProTrisSamples/GameOver.iff
ProTrisSamples/NewGame.iff
ProTrisSamples/Quad.iff
ProTrisSamples/Rotate.iff
ProTrisSamples/Single.iff
ProTrisSamples/Triple.iff

To  use  the  install-script you need the installer which is copyrighted by
Commodore  and  is included in this archive.  Double click the install-icon
to  install  ProTris.   You will now be asked to select a drawer to install
ProTris  to.   In  the  selected  drawer, a subdrawer will be created named
ProTris   and   all   needed  files  are  copied  into  that  drawer.   The
reqtools.library will automatically be installed if no version is installed
yet.  If everything goes right ProTris is now ready to play.

Since ProTris v1.1 there's also a Magic-WB icon included.  This icon can be
used  instead  of  the  normal icon.  It is possible that the colors of the
icon  are  not correct for you if you use more than 16 colors.  You can use
IE or a similar program to swap the colors of the icon.
@EndNode

****************************************************************************
@Node "Usage"
@{b}
                                   Usage
@{ub}
Doubleclick the ProTris-icon to start ProTris.  A window will appear on your
workbench screen.  This is the mainwindow and contains the following items:

@{b}
                                  Gadgets
@{ub}
                         @{"Pause/Play Cycle gadget" link "PausePlay"}
                         @{"New game gadget        " link "New game"}

@{b}
                                   Boxes
@{ub}
                         @{"Next block box         " link "Next block box"}
                         @{"Status box             " link "Status box"}

@{b}
                               Pulldown menus
@{ub}
@{fg highlight}            Project                Window                Settings@{fg text}
     @{"New Game            " link "New game" }  @{"HighScores...       " link "HighScores"  }  @{"Sample Settings...  " link "sampset"        }
     @{"Pause Game          " link "PausePlay"}  @{"Statistics...       " link "Statistics"  }  @{"Edit Block Colors..." link "EditBlockColors"}
     @{"About...            " link "About"    }  @{"Size to aspect      " link "SizeToAspect"}  @{"Disable Sound       " link "DisableSound"   }
     @{"Quit                " link "Quit"     }  @{}                     @{                  }  @{"Save Settings       " link "SaveSettings"   }

Most  menu-items  have a shortcut key connected to it so they can be pressed
if you want to perform the specific action.
@{b}
                                  Controls
@{ub}
ProTris can be controlled by joystick or keyboard.

Joystick controls:		Keyboard controls (cursor keys):

Left:   Move block left		Left:   Move block left
Right:  Move block right	Right:  Move block right
Down:   Drop block down		Down:   Drop block down
Button: Rotate block		Up:     Rotate block

Press  <HELP>  if  you want to get some information about the current active
window.   Actually  amigaguide  will  be  called  and  shows the appropriate
section  of  this  document.   Be  sure  you  have this document in the same
directory as ProTris itself.  Close amigaguide to continue the game.

If  you  activate  another  window  as  the  ProTris-mainwindow ProTris will
automatically  switch to the paused-state.  To continue the game you'll have
to select the @{"Pause/Play cycle gadget" link "PausePlay"} or press the joystick-button.

The  size  of  the  main-window  can be changed using the size-gadget in the
lower-right  corner.  Protris will then be adjusted to fit in the window, so
you  can  make the window full-screen with large blocks or small-window with
very tiny blocks.
@EndNode

****************************************************************************
@Node "PausePlay"
@{b}
                                 Pause/Play
@{ub}
Select  if you want to pause the game.  Select again to play.  The status of
the  game will be displayed in a cycle-gadget in the main window of ProTris.
If  the  game is paused it is also possible to continue the game by pressing
the joystick-button.
@EndNode

****************************************************************************
@Node "New game"
@{b}
                                  New game
@{ub}
Select  to  (re)start the game.  The statistics window will be reset and the
newgame-sample will be played.
@EndNode

****************************************************************************
@Node "Next block box"
@{b}
                               Next block box
@{ub}
This box shows the next block that will fall down.
@EndNode

****************************************************************************
@Node "Status box"
@{b}
                                 Status box
@{ub}
This box has the following contents:

@{fg highlight}Score:@{fg text} you can earn points in several ways:
       - For  each  block  you  drop  down you get the amount of the current
         level
       - If  you  have  a  single  full  line you will get the amount of the
         current level multiplied by 10
       - If  you  have  a  double  full  line you will get the amount of the
         current level multiplied by 20
       - Etc.

@{fg highlight}Lines:@{fg text} The number of lines you have wiped out.

@{fg highlight}Level:@{fg text} For every ten lines you will go one level upwards.
@EndNode

****************************************************************************
@node "About"
@{b}
                                   About
@{ub}
This function shows some very important information.
@EndNode

****************************************************************************
@node "Quit"
@{b}
                                    Quit
@{ub}
When you select this, you will immediately leave ProTris.
@EndNode

****************************************************************************
@node "HighScores"

@{b}                                High scores
@{ub}
The  highscores-window  can  be  opened  by  selecting  it's menu-item in de
window-menu  or  by pressing the shortcut-key RIGHT-AMIGA + H.  It shows the
top  ten  scores of ProTris.  The last name which was added to the list will
be  highlightwd.   The highscores will be saved automatically when you enter
the  top  ten  list.   The  highscores  are  saved in a seperate file called
ProTris.highscores, in the same directory as where ProTris is located.

@EndNode

****************************************************************************
@node "Statistics"
@{b}
                                 Statistics
@{ub}
The  statistics-window  can  be  opened  by  selecting  it's menu-item in de
window-menu  or  by  pressing  the shortcut-key RIGHT-AMIGA + S.  It shows a
diagram  with  seven  bars.   Each bar represents the total number of blocks
which  fell down of the each color.  You can change the window-size with the
size-gadget  in  the  lower-right bottom.  The bars will then be adjusted to
the new window-size.
@EndNode

****************************************************************************
@node "SizeToAspect"
@{b}
                              Size To Aspect
@{ub}
This  option  sizes the main window, so the blocks are drawn as sqaures.  To
do  this  ProTris takes the current height of the window and uses the aspect
ratio  of  the  screen to calculate the width of the window.  It is possible
that the blocks are not 100% square, because of your monitor adjustments.
@EndNode

****************************************************************************
@node "SampSet"
@{b}
                              Sample Settings
@{ub}
The  sample  settings  can  be  opened  by  selecting  it's  menu-item in de
settings-menu  or  by  pressing  the  shortcut-key  RIGHT-AMIGA  +  E.   The
sample-settings window contains the following gadgets:

                 @{fg highlight}Select sample for@{fg text} @{"@|       Single        " link "SampSetCycle"}
                 @{fg highlight}      Sample name@{fg text} @{"Sample.iff           " link "SampSetString"}@{"«" link "SampSetFile"}
                 @{fg highlight}                 @{fg text} @{"    Test Sample        " link "SampSetTest"}

                 @{"    Save    " link "SaveSettings"} @{"    Use     " link "SampSetUse"} @{"   Cancel    " link "SampSetCancel"}

                  Select a button to get more information.
@EndNode

****************************************************************************
@node "SampSetCycle"
@{b}
                        Sample settings cycle-gadget
@{ub}
Select  the  action  you want another sample for.  You can select one of the
following actions:

- Single:    You filled one line.
- Double:    Two lines fall down at the same time.
- Tripple:   You blew up three lines at once.
- Quad:      Four lines are gone.
- Drop:      Your block hits the floor.
- Rotate:    You rotated the block.
- New Game:  You selected the 'New Game'-option.
- Game Over: You reached the top of the stack and no more blocks will fit.
- HighScore: You entered the highscores.
@EndNode

****************************************************************************
@node "SampSetString"
@{b}
                       Sample settings string-gadget
@{ub}
Enter  the  name  and  path  for the sample you want to play at the selected
action  (e.g.   HD1:Games/ProTris/ProTrisSamples/Single.iff).  The file must
be in IFF-8SVX format and may not be larger than 128 Kbytes.
@EndNode

****************************************************************************
@node "SampSetFile"
@{b}
                        Sample settings file-gadget
@{ub}
Instead of typing the filename you can select this button.  It will bring up
a file-requester where you can select the samplename.
@EndNode

****************************************************************************
@node "SampSetTest"
@{b}
                     Sample settings test sample gadget
@{ub}
This button tries to play the currently selected sample.
@EndNode

****************************************************************************
@node "EditBlockColors"
@{b}
                               Color Settings
@{ub}
The  color-settings  window  can be opened by selecting it's menu-item in de
settings-menu  or  by  pressing  the  shortcut-key  RIGHT-AMIGA  +  C.   The
color-settings window contains the following gadgets:

                 @{fg highlight}   Edit Colors for   @{fg text}
                 @{         }@{"@|     L block       " link "ColorSetBlock"} @{" Color Preview " link "ColorPreview"}
                 @{         }@{" Color selector 1 " link "ColorSel1"} @{" Color selector 2 " link "ColorSel1"}
                 
                 @{"   Save    " link "SaveSettings"} @{"    Use    " link "ColorSetUse"} @{"   Cancel   " link "ColorSetCancel"}

                  Select a button to get more information.

@EndNode

****************************************************************************
@node "ColorSetBlock"
@{b}
                        Color Settigns Cycle Gadget
@{ub}
With  this  cyclegadget you can select the block of which you want to change
the color from.

All the blocks are represented by an letter:
@{fg highlight}
L block    L'block    Z block    Z'block    O block    I block    T block@{fg text}

  _           _                                           _
 |_|         |_|       _ _          _ _       _ _        |_|       _ _ _
 |_|_       _|_|      |_|_|_      _|_|_|     |_|_|       |_|      |_|_|_|
 |_|_|     |_|_|        |_|_|    |_|_|       |_|_|       |_|        |_|
                                                         |_|
@endnode

****************************************************************************
@node "ColorPreview"
@{b}
                               Color Preview
@{ub}
This area shows the currently selected block with it's current colors.
@endnode

****************************************************************************
@node "ColorSel1"
@{b}
                               Color selectors
@{ub}
All the blocks are filled with a raster.  This raster consists of two colors
which  you  can  select with the two color selectors in this window.  If you
want a solid color, you just select the same color in both selectors.
@endnode

****************************************************************************
@node "ColorSetUse"
@{b}
                         Color settings use gadget
@{ub}
Use the current color settings but don't save them to disk.
@endnode

****************************************************************************
@node "ColorSetCancel"
@{b}
                        Color settings cancel gadget
@{ub}
This  button  has  the  same affect as the close gadget of the window so the
changes to the color-settings or not used.
@EndNode

****************************************************************************
@node "SaveSettings"
@{b}
                               Save settings
@{ub}
Save  the current settings to ProTris' icon.  All settings will be stored as
tooltypes  in  ProTris'  icon.   Those  tooltypes  will  be loaded each time
ProTris is started.

Recognised tooltypes are:

MainX=<value>
MainY=<value>
MainWidth=<value>
MainHeight=<value>
SampleSettingsX=<value>
SampleSettingsY=<value>
ColorSettingsX=<value>
ColorSettingsY=<value>
StatsX=<value>
StatsY=<value>
StatsWidth=<value>
StatsHeight=<value>
HighScoreX=<value>
HighScoreY=<value>
SampleSingle=<string>
SampleDouble=<string>
SampleTriple=<string>
SampleQuad=<string>
SampleDrop=<string>
SampleRotate=<string>
SampleNewGame=<string>
SampleGameOver=<string>
SampleHighScore=<string>
StatsWindow=<boolean>
HighScoreWindow=<boolean>
Sound=<boolean>
Block1Colors=<value>|<value>
Block2Colors=<value>|<value>
Block3Colors=<value>|<value>
Block4Colors=<value>|<value>
Block5Colors=<value>|<value>
Block6Colors=<value>|<value>
Block7Colors=<value>|<value>


Al  the  X-values  represent the amount of pixels which a window is position
relative  to  the  left  edge  of the screen.  Al the Y-values represent the
amount  of pixels which a window is position relative to the top edge of the
screen.   The  Width-values  represent the amount of pixels a window is wide
and The Height-values represent the amount of pixels a window is heigh.  The
strings must contain a complete path and name to each sample.

Boolean types are "yes" or "no".

Although  it  is  possible to edit al those tooltypes via the Workbench with
the  menu-option  Icons-Information,  it  is  more convenient to let ProTris
handle them for you.
@EndNode

****************************************************************************
@node "SampSetUse"
@{b}
                         Sample settings use gadget
@{ub}
Use the current sample settings but don't save them to disk.
@EndNode

****************************************************************************
@node "SampSetCancel"
@{b}
                       Sample settings cancel gadget
@{ub}
This  button  has  the  same affect as the close gadget of the window so the
changes to the sample-settings or not used.
@EndNode

****************************************************************************
@node "DisableSound"
@{b}
                              Dis/Enable sound
@{ub}
This   function  frees  all  memory  used  by  the  samples  and  frees  the
audio-channels.  When selected again, the audio-channels are allocated again
and the samples are reloaded.
@endnode

****************************************************************************
@Node "History"
@{b}
                                  History
@{ub}
   ----------------------------------------------------------------------
@{fg highlight}   ProTris v1.1@{fg text}
   ----------------------------------------------------------------------
   TO DO:

   - Add use of public screens.
   - Add option: Show next block on/off
   - Add dual player mode.
   - Add iconify option.
   - Add mode with different levels with starting blocks (like real tetris).

   KNOWN BUGS:

   - When using screen blanker-commodity the screen goes blank while playing
     (only when using joystick).
   - When using a very large screenfont, the windows can be incorrect
     (text overwrites the borders).
   - Names which are to large to fit in highscore-window don't appear.

Changes:

   15 Jan 94: FIX - Testbutton in samplesettings crashed when no IFF-8SVX.
   16 Jan 94: NEW - Color settings window to adjust block-colors.
	      NEW - Added the following tooltypes:
		  · ColorSettingsX  = XPos Color settings window
		  · ColorSettingsY  = YPos Color settings window
		  · StatsWindow     = Boolean to open stats-window
		  · HighScoreWindow = Boolean to open highscore-window
		  · Block1Colors    = Contains 1 or 2 colors for block 1
		  · Block2Colors    = Contains 1 or 2 colors for block 2
		  · Block3Colors    = Contains 1 or 2 colors for block 3
		  · Block4Colors    = Contains 1 or 2 colors for block 4
		  · Block5Colors    = Contains 1 or 2 colors for block 5
		  · Block6Colors    = Contains 1 or 2 colors for block 6
		  · Block7Colors    = Contains 1 or 2 colors for block 7
   17 Jan 94: NEW - Added keyboard support:
		  · Cursor up    -> rotate      (same as joystick button)
		  · Cursor left  -> move left
		  · Cursor right -> move right
		  · Cursor down  -> drop block
   17 Jan 94: FIX - Highscore-bug fixed.
   1  Feb 94: FIX - Bug fixed when colors-window canceled.
   1  Feb 94: FIX - Sample player couldn't find rasterline when in Euro36.
   9  Feb 94: NEW - Added option in window menu to size window so the blocks
   		    will have a correct aspect ratio.
   11 Feb 94: CHG - Now uses two audio-channels to play the single, double,
		    triple and quad samples. (Drop and rotate now use the
		    same channel).
   14 Feb 94: FIX - Score display was calculated to small for some fonts.
   15 Feb 94: FIX - Only main window was locked when entering hirgscorename.
   17 Feb 94: FIX - Samples over 128K are now truncated correctly.
   17 Feb 94: FIX - When samplesettings was canceled the testsample was not
		    turned off, which could result in some trashed sound.
   17 Feb 94: FIX - Text in highscore window was not centered correctly.
   17 Feb 94: FIX - New highscore was rendered in hardcoded color 2 instead
		    of HIGHLIGHTTEXTPEN.
   17 Feb 94: FIX - Raster in window is now drawn in SHINEPEN instead of
		    always color 2.
   17 Feb 94: FIX - Textlength calculation did also count underscores which
		    aren't actually displayed in the string.
   17 Feb 94: CHG - The color-settings window now shows the block which is
		    being edited.
   17 Feb 94: FIX - When starting a new game some blocks were not positioned
		    at the top of the view.
   19 Feb 94: FIX - When there was not enough memory to open a settings-window
   		    all windows kept it's disabled state, so the complete
   		    program was locked.
   19 Feb 94: NEW - Added 'dis/enable sound' option in settings menu. This
   		    option frees all samples and the audiochannels.
   28 Feb 94: FIX - MAJOR BUG FIX: ProTris didn't seem to work on Kickstart 2.0
   		    at all. This was caused by a call to ScrollRasterBF, which
   		    is not available at kick 2.0. I now replaced it with the
   		    ScrollRaster function.
   		    (Thanx to B. Scheltema for reporting this bug)
   2  Mar 94: FIX - When started from CLI the CLI was locked after quit. This
                    happened because I changed the Current directory and didn't
                    change it back.
   5  Mar 94: NEW - Added a new tooltype:
		  · Sound           = Boolean to enable sound at startup.
   5  Mar 94: CHG - Optimized code. Saved approx. 2000 bytes.
                    
   ----------------------------------------------------------------------
@{fg highlight}  ProTris v1.0    (First version released to the public)@{fg text}
   ----------------------------------------------------------------------
   TO DO:

   - Keyboard control.

   KNOWN BUGS:

   - When using screen blanker-commodity the screen goes blank while playing
   - Samples over 128Kbyte are not handled correctly
   - When entering the highscores at the last position something goes wrong.
@EndNode
