; Install script for ProTris

(set old_level @user-level)

(set reqtoolslib "libs/reqtools.library")

;=============================================================================
; English strings

(set default_lang 4)

(set #bad-kick
(cat "You must be using Kickstart 2.04 to install using this script!"
))

(set #copying-reqtools     "Copying reqtools.library to Libs:...")

(set #where-prog (cat "In which drawer should ProTris V1.1 be installed ?\n"
                      "a directory 'ProTris' will be created!"))

(set #install-msg
(cat "\nProTris V1.1 installation script.\n"
	"This script installs ProTris V1.1 on your Amiga.\n\n"
	"Read the documentation for more information\n"
	"on the distribution of ProTris.\n\n"
	"ProTris © 1993-1994 Protec/Mirage\n"
	"All rights reserved.\n\n"
	"Thanx to Nico François for:\n"
	"his excelent reqtools.library\n"
	"and for his install-script example."
))

;=============================================================================
; make sure we are running under a 2.04 ROM

(if (< (/ (getversion) 65536) 37)
(
    (abort #bad-kick)
))

;=============================================================================

(message #install-msg)

(copylib
	(prompt "\n" #copying-reqtools)
	(help @copylib-help)
	(source reqtoolslib)
	(dest "Libs:")
	(confirm)
)

(set progdir
	(askdir
		(prompt #where-prog)
		(help @askdir-help)
		(default @default-dest)
	)
)

(makedir (tackon progdir "ProTris") (infos))

(set @default-dest (tackon progdir "ProTris"))

(copyfiles
	(source "ProTris")
	(dest @default-dest)
	(infos)
)

(copyfiles
	(source "ProTris.guide")
	(dest @default-dest)
	(infos)
)

(copyfiles
	(source "ProTrisSamples")
	(dest (tackon @default-dest "ProTrisSamples"))
	(infos)
	(all)
)
