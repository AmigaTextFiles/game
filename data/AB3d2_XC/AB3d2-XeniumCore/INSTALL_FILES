
echo " ** Xenium Core Alien Breed 3d2 Installation Script ** "
echo ""
echo "This script copies the necessary files from the original AB3d2 game into"
echo "the archive directory."
echo ""
echo "The required files may be copied from an existing HD installation of AB3d2"
echo "or from the original floppy disks. Only the necessary files will be copied."
echo ""
echo "Please choose which to use. If you choose to copy the files from an existing"
echo "HD installation, you will also have to select the directory containing that"
echo "installation."
echo ""
echo "Please note: this script will also copy Aki Laukkanen's TKGPatch, if it finds"
echo "it. If you do not have this patch it is available on Aminet. Please note that"
echo "using the ENGINE option spoils some of the textures in later levels of this game."
echo "It causes a blank line at the joins of graphic tiles preventing them blending"
echo "smoothly together. I don't know why. The ENGINE option is not on by default,"
echo "I recommend you leave it off."
echo ""

Assign MKG: ""
Assign TKG1:
Assign TKG2:
Assign SFX:

if exists MKG:TKG
	requestchoice >ENV:inchoice "INSTALL ALERT" "! Do you really want to recopy all the files?*n(The TKG executable is already in this directory)" "Continue" "Quit"
	if $inchoice eq 0
		quit
	endif
endif
requestchoice >ENV:inchoice "File source" "Many of the original AB3d2 files are required for this game.*nWhere do you want to get them from?" "Existing HD installation of the original game" "Original floppy disks" "Cancel"  
if $inchoice eq 0
	quit
endif
if $inchoice eq 1
	requestfile >ENV:TKGHOMEMIKE SYS: TITLE="Please select the directory containing the original game" DRAWERSONLY 
	assign TKG1: $TKGHOMEMIKE
	if not exists TKG1:TKG >NIL:
		echo "ERROR! TKG executable not in this directory! (Exiting script..)"
		wait 5
		quit
	endif
	assign TKG2: TKG1:
	assign SFX: TKG1:
endif
if $inchoice eq 2
	echo "Copying files from floppy disks."
	echo "Please insert original TKG disks when requested."
	echo ""
endif

copy SFX:Samples MKG:Samples
; whole dir copied over existing one, samples already in it not overwritten

copy TKG1:hqn MKG:hqn
; need whole dir, no dir in arc

; AB3DII-TKG ; probably don't want this - include it in archive
; AB3DII-TKG.info
; include boot.dat in archive

copy TKG1:TKG MKG:TKG
; ah! the executable...

copy TKG1:libs MKG:libs
; need whole dir, no dir in arc

; copy the following if they are present
IF EXISTS TKG1:TKGPatch.doc
 Copy TKG1:TKGPatch.doc MKG:
ENDIF
IF EXISTS TKG1:TKGPatch.doc.info
 Copy TKG1:TKGPatch.doc.info MKG:
ENDIF
IF EXISTS TKG1:TKGPatch
 Copy TKG1:TKGPatch MKG:
ENDIF
IF EXISTS TKG1:TKGPatch.info
 Copy TKG1:TKGPatch.info MKG:
ENDIF

; dir INCLUDES exists in archive
; includes copied individually to leave out TEXT_FILE & TEST.LNK
; these files will therefore not be overwritten in arc dir
Copy TKG1:INCLUDES/glare.256pal MKG:INCLUDES/
Copy TKG1:INCLUDES/glare.ptr MKG:INCLUDES/
Copy TKG1:INCLUDES/glare.wad MKG:INCLUDES/
Copy TKG1:INCLUDES/keys.256pal MKG:INCLUDES/
Copy TKG1:INCLUDES/keys.ptr MKG:INCLUDES/
Copy TKG1:INCLUDES/keys.wad MKG:INCLUDES/
Copy TKG1:INCLUDES/lamps.256pal MKG:INCLUDES/
Copy TKG1:INCLUDES/lamps.ptr MKG:INCLUDES/
Copy TKG1:INCLUDES/lamps.wad MKG:INCLUDES/
Copy TKG1:INCLUDES/newtexturemaps MKG:INCLUDES/
Copy TKG1:INCLUDES/newtexturemaps.pal MKG:INCLUDES/
Copy TKG1:INCLUDES/PICKUPS.256pal MKG:INCLUDES/
Copy TKG1:INCLUDES/pickups.ptr MKG:INCLUDES/
Copy TKG1:INCLUDES/pickups.wad MKG:INCLUDES/
Copy TKG1:INCLUDES/rawbackpacked MKG:INCLUDES/
Copy TKG1:INCLUDES/ROCKETS.256pal MKG:INCLUDES/
Copy TKG1:INCLUDES/ROCKETS.ptr MKG:INCLUDES/
Copy TKG1:INCLUDES/ROCKETS.wad MKG:INCLUDES/
Copy TKG1:INCLUDES/splutch.256pal MKG:INCLUDES/
Copy TKG1:INCLUDES/splutch.ptr MKG:INCLUDES/
Copy TKG1:INCLUDES/splutch.wad MKG:INCLUDES/
Copy TKG1:INCLUDES/ALIEN2.256pal MKG:INCLUDES/
Copy TKG1:INCLUDES/alien2.ptr MKG:INCLUDES/
Copy TKG1:INCLUDES/alien2.wad MKG:INCLUDES/
Copy TKG1:INCLUDES/BIGBULLET.256pal MKG:INCLUDES/
Copy TKG1:INCLUDES/bigbullet.ptr MKG:INCLUDES/
Copy TKG1:INCLUDES/bigbullet.wad MKG:INCLUDES/
Copy TKG1:INCLUDES/Explosion.256pal MKG:INCLUDES/
Copy TKG1:INCLUDES/explosion.ptr MKG:INCLUDES/
Copy TKG1:INCLUDES/explosion.wad MKG:INCLUDES/
Copy TKG1:INCLUDES/floortile MKG:INCLUDES/

; dir WALLINC exists in archive
; Wall includes copied individually to leave out unused ones - check my versions
; of the ones below are unchanged from originals!
Copy TKG1:wallinc/hullmetal.256wad MKG:wallinc/
Copy TKG1:wallinc/STONEWALL.256wad MKG:wallinc/
Copy TKG1:wallinc/TECHNOTRITILE.256wad MKG:wallinc/

; dir Vectobj exists in archive
; Vectobjs copied individually to leave out unused ones - check this list!
Copy TKG1:vectobj/plink MKG:vectobj/
Copy TKG1:vectobj/glarebox MKG:vectobj/
Copy TKG1:vectobj/grenadelauncher MKG:vectobj/
Copy TKG1:vectobj/laser MKG:vectobj/
Copy TKG1:vectobj/Mantis MKG:vectobj/
Copy TKG1:vectobj/passkey MKG:vectobj/
Copy TKG1:vectobj/plasmagun MKG:vectobj/
Copy TKG1:vectobj/ventfan MKG:vectobj/
Copy TKG1:vectobj/scenery MKG:vectobj/
Copy TKG1:vectobj/shotgun MKG:vectobj/
Copy TKG1:vectobj/snake MKG:vectobj/
Copy TKG1:vectobj/switch MKG:vectobj/
Copy TKG1:vectobj/wasp MKG:vectobj/

; TKG2: stuff
copy TKG2:music MKG:music
; need whole dir, no dir in arc
Copy TKG2:wallinc/steampunk.256wad MKG:wallinc/
Copy TKG2:wallinc/gieger.256wad MKG:wallinc/
Copy TKG2:wallinc/rocky.256wad MKG:wallinc/
copy TKG2:INCLUDES/titlescrnraw1 MKG:INCLUDES/

echo ""
echo "All done (hopefully). Now double-click the Start icon to play."
echo ""
echo "If you have problems, check the file list in CompleteFileList.txt"
echo "This is a complete list of all the files and directories you"
echo "should now have in AB3d2-XeniumCore."
protect Start +s
wait 5
