if exists dir.check
 assign ace: ""
else
 sys:c/Requestchoice "Ace Traxx Installer V1.1" "You must start this script from the same *ndirectory, where the Ace Traxx are located !!!" "Installation aborted" >env:Nog
 skip end
endif

sys:c/Requestchoice "Ace Traxx Installer V1.1" "Please choose your XTR directory ! *n*nFor example:  Sys:Games/XTR/" OK QUIT >ENV:ACE1

if $ACE1 eq 1
 skip choosedir
else
 skip abort
endif

lab choosedir
sys:c/RequestFile DRAWER ":" TITLE "Please choose your XTR: directory ..." Drawersonly >ENV:XTR

if warn
skip abort
endif

cd $xtr

if exists frontend
skip installation
else
skip Wrongdir
endif

lab Installation

cd $xtr

copy >NIL: ace:tracks tracks all quiet
copy >NIL: ace:Worlds Worlds all quiet
copy >NIL: ace:layouts layouts all quiet
copy >NIL: ace:objects objects all quiet
copy >NIL: ace:tiles tiles all quiet

sys:c/Requestchoice "Ace Traxx Installer V1.1" "Installation successfully completed !*n*nI hope it, at least ;)" "I hope it too !" >ENV:nog2

assign ace: remove
unsetenv nog
unsetenv ace1
unsetenv xtr
unsetenv nog2
unsetenv nog3

endcli

lab Wrongdir

sys:c/Requestchoice "Ace Traxx Installer V1.1" "You choosed a wrong directory ! *n*nExample:   Sys:Games/XTR/" "Try again" >env:nog3
skip choosedir back
endcli

lab abort

sys:c/Requestchoice "Ace Traxx Installer V1.1" "Installation aborted !" "OK" >env:nog4

lab end

unsetenv nog4
assign ace: remove
unsetenv nog
unsetenv ace1
unsetenv xtr
unsetenv nog2
unsetenv nog3

endcli