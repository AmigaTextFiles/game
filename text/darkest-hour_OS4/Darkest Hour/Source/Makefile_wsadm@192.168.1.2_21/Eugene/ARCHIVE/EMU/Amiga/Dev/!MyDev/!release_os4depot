#Makefile for Darkest Hour (ppc-amigaos) by Eugene aGGreSSor Sobolev

project = darkest-hour
file_out = dhour_aos4.exe
CC = ppc-amigaos-gcc
STRIP=ppc-amigaos-strip --strip-unneeded --remove-section .comment
version = 1.0

libs = -lm -lamiga
flags = -O2 -Wall -w 
c_files = darkest-hour.c 
obj = darkest-hour.o


all : ${file_out}

${file_out}: ${obj} 
	@echo "Linking!"
	${CC} ${flags} -g ${obj} ${libs} -o ../${file_out}
	${STRIP} ../${file_out}
	@rm -f *.o

${obj}: ${c_files}
	@echo "Compiling!"
	${CC} ${flags} -c ${c_files}

clean: 
	@rm -f *.o ../${file_out}
	@echo "Deleting objects and output files"
	@echo "Objects: ${obj} | output file: ${file_out}"

clear: clean
