GLKSRC = glk/gi_blorb.c glk/gi_dispa.c glk/cgunicod.c glk/gtblorb.c \
         glk/gtevent.c glk/gtfref.c glk/gtgestal.c glk/gtinput.c \
         glk/gtmessag.c glk/gtmessin.c glk/gtmisc.c glk/gtschan.c \
         glk/gtstream.c glk/gtstyle.c glk/gtw_blnk.c glk/gtw_buf.c \
         glk/gtw_grid.c glk/gtw_pair.c glk/gtwindow.c glk/amiga.c
GLKOBJ = $(GLKSRC:"*.c":"*.o")

SCARESRC = scare/sctafpar.c scare/sctaffil.c scare/scprops.c \
           scare/scvars.c scare/scexpr.c scare/scprintf.c	\
           scare/scinterf.c scare/scparser.c scare/sclibrar.c \
           scare/scrunner.c scare/scevents.c scare/scnpcs.c \
           scare/scobjcts.c scare/sctasks.c scare/screstrs.c \
           scare/scgamest.c scare/scserial.c scare/scresour.c \
           scare/scmemos.c scare/scutils.c scare/sclocale.c \
           scare/scdebug.c scare/os_glk.c scare/amiga.c
SCAREOBJ = $(SCARESRC:"*.c":"*.o")

ZLIBSRC = zlib/crc32.c zlib/inffast.c zlib/inflate.c zlib/inftrees.c \
          zlib/zutil.c zlib/compress.c zlib/adler32.c zlib/deflate.c \
          zlib/trees.c
ZLIBOBJ = $(ZLIBSRC:"*.c":"*.o")

AmigaScare : $(SCAREOBJ) $(ZLIBOBJ) $(GLKOBJ)
    dcc -mC -mD %(right) -o %(left)

$(GLKOBJ) : $(GLKSRC)
    dcc -mC -mD -c %(right) -o %(left)

$(SCAREOBJ) : $(SCARESRC)
    dcc -mC -mD -c %(right) -o %(left) -I glk -I zlib

$(ZLIBOBJ) : $(ZLIBSRC)
    dcc -mC -mD -c %(right) -o %(left)

clean :
    delete glk/*.o scare/*.o zlib/*.o
