<HTML>
<HEAD>
<TITLE>Dumps en Logbestanden</TITLE>
<meta name="DC.Language" content="nl">
<meta http-equiv="content-language" content="nl">
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
<!-- $Id: dump.html 1.5 2009/02/05 20:38:15 wepl Exp wepl $ -->
</HEAD>
<BODY>
<h3>WHDLoad's dumps en logbestanden</h3>
Hoofdzakelijk voor het doel te debuggen,WHDLoad kan verschillende 
dump- en logbestanden creëren.
<h4><a name="memory">Geheugendump</a></h4>
Een geheugendump is het gehele geheugen gebruikt bij het geïnstalleerde
programma geschreven naar een bestand. De grootte van de dump hangt af
van het geïnstalleerde programma (het is gelijk aan de waarde van
<a href="../autodoc.html#ws_BaseMemSize">ws_BaseMemSize</a> in de Slave structuur). 
Een geheugendump wordt gemaakt als de <a href="opt.html#DebugKey">DebugKey</a> ingedrukt is
of na een error de CoreDump knop wordt ingedrukt. De naam van het geheugen dumpbestand
dat gemaakt word is ".whdl_memory".De standaard locatie is "PROGDIR:" maar kan veranderd worden met de
<a href="opt.html#CoreDumpPath">CoreDumpPath</a> optie. Een bestaand bestand met dezelfde naam
zal altijd overschreven worden. Als het geïnstalleerde programma aangevulde Fast(Snel)-Geheugen gebruikt, wordt
het geschreven onder het bestandsnaam ".whdl_expmem".
<h4><a name="register">Register dump</a></h4>
De register dump bevat de complete status van het CPU (inclusief MMU), de Cia,
en de Custom chips. Sommige Cia en Custom registers zijn niet leesbaar,
deze zijn alleen aanwezig in het dumpbestand wanneer de<a
href="opt.html#Snoop"> Snoop</a> mode actief was. De informatie wordt
geschreven naar een ASCII bestand met een paar benadrukkingen, gebruikmakend
van Escape sequences (using CSI - Control Sequence Introducer, decimal 155).
Om ze te bekijken, is een programma aanbevolen welke de Escape sequences ondersteund
(o.a More, MuchMore, MultiView,...). De naam van het dumpbestand is ".whdl_register",
De standaard locatie is "PROGDIR:" maar kan veranderd worden met de <a href="opt.html#CoreDumppath">
CoreDumpPath</a> optie. Wanneer een bestand met dezelfde naam al bestaat,
zal de dump zich toevoegen aan de bestaande - anders zal er een nieuw bestand 
aangemaakt worden.

<h4><a name="complete">Complete dumpbestand</a></h4> De Complete dumpbestand is een
IFF bestand dat de informatie bevat van alle vorige genoteerde dumpbestanden.
Het is bedoeld om gebruikt te worden met andere applicaties. De structuur
van het bestand is beschreven in een extra inbegrepen bestand met de naam <tt>whddump.i</tt>.
Op dit moment kunnen de applicaties WHDLoadGCI (graphical coders interface) en <a
href="sp.html">SP</a> (save picture) het  complete dumpbestand lezen. 
De naam van het complete dumpbestand dat gemaakt word is ".whdl_dump".
De standaard locatie is "PROGDIR:" maar kan veranderd worden met de <a
href="opt.html#CoreDumpPath">CoreDumpPath</a> optie. Een bestaand bestand zal 
altijd overschreven worden.

<h4><a name="FileLog">bestand toegangslog</a></h4>
Alle disk toegangen worden bewaard in een log als de <a
href="opt.html#FileLog">FileLog</a> optie geactiveerd is.
Deze eigenschap is erg handig om een disk operaties te analyzeren van een geïnstalleerd
programma om te debuggen en te optimaliseren. 
De volgende resload functie zal een notitie aanmaken in het logbestand:
<ul>
<li><a href="../autodoc.html#resload_DeleteFile">resload_DeleteFile</a>
<li><a href="../autodoc.html#resload_DiskLoad">resload_DiskLoad</a>
<li><a href="../autodoc.html#resload_Examine">resload_Examine</a>
<li><a href="../autodoc.html#resload_ExNext">resload_ExNext</a>
<li><a href="../autodoc.html#resload_GetFileSize">resload_GetFileSize</a>
<li><a href="../autodoc.html#resload_GetFileSizeDec">resload_GetFileSizeDec</a>
<li><a href="../autodoc.html#resload_ListFiles">resload_ListFiles</a>
<li><a href="../autodoc.html#resload_LoadFile">resload_LoadFile</a>
<li><a href="../autodoc.html#resload_LoadFileDecrunch">resload_LoadFileDecrunch</a>
<li><a href="../autodoc.html#resload_LoadFileOffset">resload_LoadFileOffset</a>
<li><a href="../autodoc.html#resload_SaveFile">resload_SaveFile</a>
<li><a href="../autodoc.html#resload_SaveFileOffset">resload_SaveFileOffset</a>
</ul>
Elk bestandstoegang via de functies die hierboven staan, maakt 1 regel aan in het logbestand,
De regel identificeert de aangeroepen functie, een crc of de lees/schrijven data, 
de parameters en het resultaat. WHDLoad zal de log notities verzamelen in een interne buffer.
De buffer zal geleegd worden bij het verlaten of bij toegang tot de buffer vol is.
De informatie word weggeschreven naar een ASCII bestand, de naam van het dumpbestand is
".whdl_filelog", de standaard locatie is "PROGDIR:" maar kan veranderd worden met de 
<a href="opt.html#CoreDumppath">CoreDumpPath</a> optie.
</BODY>
</HTML>
