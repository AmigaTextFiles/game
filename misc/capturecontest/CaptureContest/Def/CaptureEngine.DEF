
(*##############################*)
 DEFINITION MODULE CaptureEngine;        (* $VER: CaptureEngine.def 0.0 (23.12.2010) *)
(*##############################*)

FROM CaptureSpecs  IMPORT LineSeg;

 PROCEDURE InitEngine;

 PROCEDURE InitBumpers;
 PROCEDURE InitPucks;
 PROCEDURE InitSleds;

 PROCEDURE InitStepState;

 PROCEDURE TurnSled(WhichSled:CARDINAL; radians:REAL);
 PROCEDURE AccelBumper(WhichBumper:CARDINAL; xaccel, yaccel:REAL);

(* PROCEDURE TstBounceBumper(WhichBumper:CARDINAL); *)
(* PROCEDURE TstBouncePuck(WhichPuck:CARDINAL); *)

 PROCEDURE StepSled(WhichSled:CARDINAL);
(*PROCEDURE StepBumper(WhichBumper:CARDINAL);*)
(* PROCEDURE StepPuck(WhichPuck:CARDINAL);*)

 PROCEDURE ReflectDirection(dir:REAL):REAL;
    (* returns direction (in radians) reflected on X axis *)
    (* for translating Blue player's sled to "Red" on input/output to him *)

 PROCEDURE TstSledLoop(WhichSled:CARDINAL):INTEGER;
    (* returns point at the older end of the trail segment that has been crossed to make the loop *)
    (* returns -1 if no loop formed*)
 PROCEDURE DoSledLoop(WhichSled:CARDINAL; HitSegPoint:CARDINAL);
 PROCEDURE RemoveSledLoop(WhichSled:CARDINAL);

 PROCEDURE FollowObjects;

END CaptureEngine.

