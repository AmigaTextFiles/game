;;
;;  Wålly the Wörrm HDInstall
;;  

(complete 0)

(set wtw-dest
(askdir
     (prompt "In which disk or drawer should the Wålly the Wörrm "
          "drawer be created?")
     (help
          "The installation utility will create a drawer named"
          " \"WTW\" in this directory. All Wålly the Wörrm\ files"
          " will be placed in that directory.\n\n"
          "The selected directory must have about 1.1Mb free storage"
          " left.\n\n"
     )
     (default @default-dest)
     )
)

(makedir (tackon wtw-dest "WTW") (infos))
(set wtw-dest (tackon wtw-dest "WTW"))
(set @default-dest wtw-dest)
(set old_level @user-level)

(askdisk
     (prompt "Please insert WTW \"Disk 1\"")
     (help "")
     (dest "WTW1" )
)

(set @execute-dir wtw-dest)

(working "Installing Wålly the Wörrm disk 1")
     (copyfiles
     (source "WTW1:")
     (dest wtw-dest)
     (pattern "(wtw#?|DATA.#?)")
)

(complete 40)
(working "Installing needed libraries....")
(user old_level)
     (copylib
          (prompt "Installing AMOS.Library")
          (help @copylib-help)
          (source "WTW1:Libs/AMOS.Library")
          (dest "LIBS:")
          (confirm)
)
(user old_level)
     (copylib
          (prompt "Installing medplayer.library")
          (help @copylib-help)
          (source "WTW1:Libs/medplayer.library")
          (dest "LIBS:")
          (confirm)
)

(complete 60)
          
(askdisk
     (prompt "Please insert WTW \"Disk 2\"")
     (help "")
     (dest "WTW2" )
)

(set @execute-dir wtw-dest)

(working "Installing Wålly the Wörrm disk 2")
     (copyfiles
     (source "WTW2:")
     (dest wtw-dest)
     (pattern "(DATA.#?|HI#?)")
)

(complete 100)

(exit)

