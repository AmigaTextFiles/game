; $VER: Install_Headquarters (23.01.97)
; © 1997 by Andreas Smigielski
; This is the Installer Script for Headquarters

 (set MSG_wrong_OS            "You need at least OS V2.04 to run Headquarters !")
 (set MSG_InstallingHeadQ     "Installing Headquarters now.")
 (set MSG_SelectPath          "Select path to install Headquarters to")
 (set MSG_InstallingCatalogs  "Installing Catalog-Files for OS V2.1+\nCode localization.")
 (set MSG_SelectCatalogPath   "Select path to install Catalogs to")
 (set MSG_InstallingFonts     "Installing System Fonts.")
 (set MSG_SelectFontsPath     "Select path to install Fonts to")
 (set MSG_DoInstallHeadQ      "Headquarters has been installed.")
 (set MSG_InstallingLibs      "Copying Libraries...")

(set OS_VER (/ (getversion) 65536) )

(if(< OS_VER 37)
  (abort MSG_wrong_OS)
)

(complete 0)

(copyfiles
  (prompt MSG_Installing)
  (help @copyfiles-help)
  (source "")
  (set hqcomdir
              (askdir
                     (prompt MSG_SelectPath)
                     (help @askdir-help)
                     (newpath)
                     (default "Work:Headquarters")
              )
  )
  (dest hqcomdir)
  (all)
  (confirm)
)

(complete 65)

(copyfiles
  (prompt MSG_InstallingCatalogs)
  (help @copyfiles-help)
  (source "catalogs")
  (set hqcatdir
              (askdir
                     (prompt MSG_SelectCatalogPath)
                     (help @askdir-help)
                     (newpath)
                     (default "SYS:locale/Catalogs")
              )
  )
  (dest hqcatdir)
  (all)
  (confirm)
)

(complete 70)

(copyfiles
  (prompt MSG_InstallingFonts)
  (help @copyfiles-help)
  (source "fonts")
  (set hqfontdir
              (askdir
                     (prompt MSG_SelectFontsPath)
                     (help @askdir-help)
                     (newpath)
                     (default "FONTS:")
              )
  )
  (dest hqfontdir)
  (all)
  (confirm)
)

(complete 75)

(copylib
  (prompt MSG_InstallingLibs)
  (help @copylib-help)
  (source "libs/superplay.library")
  (set hqlibdir
              (askdir
                     (prompt "Library Path")
                     (help @askdir-help)
                     (newpath)
                     (default "LIBS:")
              )
  )
  (dest hqlibdir)
  (confirm)
)

(complete 80)

(set @default-dest hqlibdir)

(copylib
  (prompt MSG_InstallingLibs)
  (help @copylib-help)
  (source "libs/gadutil.library")
  (dest hqlibdir)
  (confirm)
)

(complete 85)

(set @default-dest hqlibdir)

(copylib
  (prompt MSG_InstallingLibs)
  (help @copylib-help)
  (source "libs/powerpacker.library")
  (dest hqlibdir)
  (confirm)
)

(complete 90)

(set @default-dest hqlibdir)

(copylib
  (prompt MSG_InstallingLibs)
  (help @copylib-help)
  (source "libs/reqtools.library")
  (dest hqlibdir)
  (confirm)
)

(complete 95)

(set #spobjdir   (tackon hqlibdir "spobjects"))
(makedir #spobjdir)

(copyfiles
  (prompt "Installing spobjects to LIBS:spobjects ...")
  (help @copyfiles-help)
  (source "libs/spobjects")
  (dest (tackon hqlibdir "spobjects"))
  (pattern "#?")
  (confirm)
  (files)
)

(complete 100)

(set @default-dest hqcomdir)

(exit MSG_DoInstallHeadQ)
