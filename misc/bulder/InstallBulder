;Bulder v0.29

(complete 0)

(set @execute-dir (pathonly @icon))

(if (exists "Games:" (noreq))
	(set BulderDrawerDefault "Games:")
	(set BulderDrawerDefault @default-dest)
)

(set BulderDrawerName
	(tackon
		(askdir
			(prompt "In which disk or drawer should Bulder 0.29 be installed?\n(A directory called Bulder will be created there.)")
			(help @askdir-help)
			(default BulderDrawerDefault)
		)
		"Bulder"
	)
)
(complete 1)
(makedir BulderDrawerName (infos))
(complete 10)
(set @default-dest BulderDrawerName)

(set ECSorAGA
	(askoptions
		(prompt "Select which versions of Bulder you wish to install.\nNote: Both versions of Bulder wont fit on a standard 880K floppy disk.")
		(help	"Select ECS-Bulder for Amigas with old chipset (i.e. Amiga 500, Amiga 3000...).\n\n"
			"AGA-Bulder should only be selected if you have an Amiga with AGA-chipset (i.e. Amiga 1200)."
		)

		(choices
			"ECS-Bulder"
			"AGA-Bulder"
		)
		(default 3)
	)
)
(complete 11)

;install ecs-version (if wanted)
(
if (bitand ECSorAGA 1)
	(
	(working "Unpacking ECS-version of Bulder")
	(run (cat "LX -m -q x BulderECS.lha \"" BulderDrawerName "/\""))
	(complete 40)
	)
)

;install aga-version (if wanted)
(
if (bitand ECSorAGA 2)
	(
	(working "Unpacking AGA-version of Bulder")
	(run (cat "LX -m -q x BulderAGA.lha \"" BulderDrawerName "/\""))
	(complete 80)
	)
)
(complete 82)

;install other files
(working "Unpacking docs, levels, sounds...")
(run (cat "LX -m -q x BulderBoth.lha \"" BulderDrawerName "/\""))
(complete 100)
