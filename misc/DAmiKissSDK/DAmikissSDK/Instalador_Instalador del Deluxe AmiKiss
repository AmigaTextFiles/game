;***************************************************
;****                                           ****
;**** Instalador del SDK para el Deluxe AmiKiss ****
;****             versión ECS y AGA             ****
;****            por Morgue Soft Ltd.           ****
;****         Juan Carlos Herrán Martín         ****
;****       E-mail: juanamiguero@yahoo.es       ****
;****                                           ****
;***************************************************
(set #m1 "Bienvenido a la instalación del SDK para el juego Deluxe AmiKiss")
(set #modo "Elige la versión del SDK.")
(set #ecs "SDK para ECS")
(set #aga "SDK para AGA")
(set #duro "Creación del directorio DAmiKissSDK.")
(set #ayuda1 "Copiando los ficheros de datos del SDK en tú disco duro.")
(set #ayuda2 "Donde está instalado el juego Deluxe AmiKiss.")
(set #ayuda3 "   Elige el modo del chip gráfico de tú Amiga para instalar el SDK,\n   con los iconos para chips ECS o AGA.\n   La instalación por defecto es con iconos ECS.")
(set #ayuda4 "Elige la partición de tú disco duro donde instalar el SDK.")
(set #ayuda5 "   Elige el idioma de la ayuda donde se explica como crear\n tus personajes para el juego.")
(set #espa "Ayuda en español")
(set #ingl "Ayuda en inglés")
(set #infor "Copiando ficheros del SDK.")
(set #donde "Puedes encontrar el SDK en.. ")
(if (= @language "english")
(set #m1 "Welcome to the install of SDK for Deluxe AmiKiss game")
(set #modo "You choose the SDK.\n")
(set #ecs "SDK for ECS")
(set #aga "SDK for AGA")
(set #duro "Making directory of DAmiKissSDK.")
(set #ayuda1 "Copying the SDK files on your hard disk")
(set #ayuda2 "Where installed the Deluxe AmiKiss game.")
(set #ayuda3 "   You choose the chip mode of your Amiga for install the SDK\n   with the icons for chips ECS or AGA.\n   The default install are with ECS icons.")
(set #ayuda4 "You choose your hard disk partition for install the game.")
(set #ayuda5 "   You choose the language of help where is the explain like make\n your characters for the game.")
(set #espa "Help in spanish")
(set #ingl "Help in english")
(set #infor "Copying SDK files.")
(set #donde "You can find SDK in.. ")
)
(welcome #m1)
(set #mode
   (askchoice
      (prompt #modo)
      (help #ayuda3)
      (choices #ecs #aga)
      (default 0)
   )
)
(complete 25%)
(set #defdir @default-dest)
(set #dest
  (expandpath
     (askdir
         (prompt #destino)
         (help #ayuda2)
         (default #defdir)
     )
  )
)
(complete 30%)
(if (= 0 (exists (tackon #dest "DAmiKissSDK")))
   (
     (makedir (tackon #dest "DAmiKissSDK")
     )
   )
)
(complete 35%)
(if (= #mode 0)
 (
  (complete 50%)
  (copyfiles
    (source "Datos")
    (dest (tackon #dest "DAmiKissSDK"))
    (all)
  )
  (copyfiles
        (source "ECS/DAmiKissSDK.info")
        (dest #dest)
     )
     (run ("installtools/noiconpos \"%s\"" (tackon #dest "DAmiKissSDK")))
  (copyfiles
    (source "ECS/Conversor.info")
    (dest (tackon #dest "DAmiKissSDK"))
  )
  (copyfiles
    (source "ECS/Editor.info")
    (dest (tackon #dest "DAmiKissSDK"))
  )
  (copyfiles
    (source "ECS/Princesa.info")
    (dest (tackon #dest "DAmiKissSDK"))
  )
  (complete 80%)
  (set #mode
   (askchoice
      (prompt #idioma)
      (help #ayuda5)
      (choices #espa #ingl)
      (default 0)
   )
  )
  (if (= #mode 0)
    (
      (complete 85%)
      (copyfiles
        (source "Docs/Ayuda")
        (dest (tackon #dest "DAmiKissSDK"))
      )
      (copyfiles
        (source "ECS/Ayuda.info")
        (dest (tackon #dest "DAmiKissSDK"))
      )
    )
  )
  (if (= #mode 1)
    (
       (complete 85%)
       (copyfiles
        (source "Docs/Help")
        (dest (tackon #dest "DAmiKissSDK"))
      )
      (copyfiles
        (source "ECS/Help.info")
        (dest (tackon #dest "DAmiKissSDK"))
      )
    )
  )

 )
)
(if (= #mode 1)
 (
  (complete 50%)
  (copyfiles
    (source "Datos")
    (dest (tackon #dest "DAmiKissSDK"))
    (all)
  )
  (copyfiles
        (source "AGA/DAmiKissSDK.info")
        (dest #dest)
     )
     (run ("installtools/noiconpos \"%s\"" (tackon #dest "DAmiKissSDK")))
  (copyfiles
    (source "AGA/Conversor.info")
    (dest (tackon #dest "DAmiKissSDK"))
  )
  (copyfiles
    (source "AGA/Editor.info")
    (dest (tackon #dest "DAmiKissSDK"))
  )
  (copyfiles
    (source "AGA/Princesa.info")
    (dest (tackon #dest "DAmiKissSDK"))
  )
  (copyfiles
    (source "AGA/Modelos.info")
    (dest (tackon #dest "DAmiKissSDK"))
  )
  (copyfiles
    (source "AGA/Ejemplo")
    (dest (tackon #dest "DAmiKissSDK"))
    (all)
  )
  (complete 80%)
   (set #mode
   (askchoice
      (prompt #idioma)
      (help #ayuda5)
      (choices #espa #ingl)
      (default 0)
   )
  )
  (if (= #mode 0)
    (
      (complete 85%)
      (copyfiles
        (source "Docs/Ayuda")
        (dest (tackon #dest "DAmiKissSDK"))
      )
      (copyfiles
        (source "AGA/Ayuda.info")
        (dest (tackon #dest "DAmiKissSDK"))
      )
    )
  )
  (if (= #mode 1)
    (
       (complete 85%)
       (copyfiles
        (source "Docs/Help")
        (dest (tackon #dest "DAmiKissSDK"))
      )
      (copyfiles
        (source "AGA/Help.info")
        (dest (tackon #dest "DAmiKissSDK"))
      )
    )
  )

 )
)
(complete 98%)
(message #donde #dest)
(complete 100%)
(exit (quiet))
