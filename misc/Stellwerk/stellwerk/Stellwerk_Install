; Install-Script für Stellwerk
;
; 1999 by Günter Lang 
;
; $VER:StellwerkInstall 1.0 (20.08.99)
;

(set @app-name "Stellwerk V0.3")

(set @language "deutsch")

(set @user-level 2)

(set @default-dest "")

(set @pretend 0)

(welcome "Willkommen zur Installation von Stellwerk V0.3")

(set Ok 0)

(complete 0)

(message "\n\n\nStellwerk V0.3 \n"
         "(c) 1999 by Günter Lang\n"
         "Willkommen zur Installation des Programms\n"
         "Stellwerk\n\n"
         "Dieses Script installiert Stellwerk\n"
         "auf Ihrer Festplatte und richtet dazu das Verzeichnis\n"
         "STELLWERK ein.\n"
)


(set #installdir
	(askdir
		(prompt "Wählen Sie die Partition Ihrer Festplatte\n"
		       "auf die STELLWERK installiert werden soll\n")
		(help @askdir-help)
		(default "WORK:")
	)
)

(copyfiles
	(source "Stellwerk.info")
	(dest #installdir)
)

(set doc 
	(askchoice 
		(prompt"Welches Programm möchten Sie installieren")
	 	(help "\n\n    Wie Ihr Computer ausgestattet ist erfahren Sie durch das\n"
	 		"    Programm ShowConfig in Workbench:Tools.\n\n"
	 		"    Im Zweifelsfall wählen sie das Programm 68000-CPU ohne FPU")
	 	(choices "Version für 68000-CPU ohne FPU" "Version für 68020-CPU mit FPU" "Version für 68040/60-CPU mit FPU")
	)
)

(if (= doc 0)
    ( 
	(rename "Stellwerk.68000" "Stellwerk")
	(copyfiles
	  (source "Stellwerk")
	  (dest "Programm/Stellwerk")	
        )
        (rename "Stellwerk" "Stellwerk.68000")
        (copyfiles
          (source "Programm")
          (dest #installdir)
          (all)
        )  
    )
)

(if (= doc 1) 
    ( 
	(rename "Stellwerk.68020" "Stellwerk")
	(copyfiles
	  (source "Stellwerk")
	  (dest "Programm/Stellwerk")	
        )
        (rename "Stellwerk" "Stellwerk.68020")
        (copyfiles
          (source "Programm")
          (dest #installdir)
          (all)
        )  
    )
)

(if (= doc 2) 
    ( 
	(rename "Stellwerk.68060" "Stellwerk")
	(copyfiles
	  (source "Stellwerk")
	  (dest "Programm/Stellwerk")	
        )
        (rename "Stellwerk" "Stellwerk.68060")
        (copyfiles
          (source "Programm")
          (dest #installdir)
          (all)
        )  
    )
)

(complete 50)

(message "\nDas Programm Stellwerk benötigt eigene Fonts, die nicht\n"
         "in Ihrem Verzeichnis Fonts enthalten sind.\n\n"
         "! Ohne diese Fonts bricht Stellwerk beim Laden ab. !\n\n"
         "Bitte klicken Sie Weiter um die Fonts zu installieren,\n"
         "mit Installation abbrechen wird das Programm an dieser\n"
         "Stelle beendet."
         
)

(copyfiles
          (source "Font")
          (dest "sys:Fonts")
          (all)
)

(complete 99)
(message "\n\n\nSTELLWERK befindet sich nun auf Ihrer Festplatte im\n"
         "Verzeichnis " #installdir "STELLWERK")
(complete 100)


