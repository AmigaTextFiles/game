DEFINITION MODULE SkakAlt;

(*$ LongAlign:=TRUE StackParms:=FALSE CStrings:=TRUE LargeVars:=FALSE *)

FROM IntuitionD IMPORT
  GadgetPtr,IDCMPFlagSet,WindowPtr,IntuiMessagePtr;
FROM FileSystem IMPORT
  File;
FROM QISupport IMPORT
  STRINGPTR,VINDUE;
FROM SkakBase IMPORT
  STR97, STILLINGTYPE;
FROM SkakBrain IMPORT
  AEMtype;

CONST
  SkakAltDefCompilation="18";
  Sneaks=50;
  MaxGadget    =  256;
  XSize        =   60;
  YSize        =   30;
  XOff         =    7;
  YOff         =   13;

  TeoSpaces     ='                        \n';
  TeoLoad       =326;    (*'Load theory';                 326-336 Sprog *)
  TeoLoading    =327;    (*'    Loading...          \n' *)
  TeoNotCompLoad=328;    (*'Theory not (completely) loaded!' *)
  TeoSave       =329;    (*'Save theory' *)
  TeoSaving     =330;    (*'    Saving...           \n' *)
  TeoNotCompSave=331;    (*'Theory not (completely) saved!' *)
  TeoNotCompAdd =332;    (*'Game not (completely) added!' *)
  TeoSearch     =333;    (*'    Searching...        \n' *)
  TeoRecalc     =334;    (*'    Recalculating...    \n' *)
  TeoAdded      =335;    (*'added to theory' *)
  TeoNotGamAdd  =336;    (*'Games not (completely) added!' *)

VAR
  dyb,dybx : INTEGER;
  OldStilling,sv: STILLINGTYPE;
  ret      : INTEGER;
  TxRet,Tx : BOOLEAN;
  HvidsTur : BOOLEAN;
  LydTil, PilNede : BOOLEAN;
  Stop,Abort,OK,Icon     : BOOLEAN;
  Pgad,gad     : GadgetPtr;
  Vqt,Vqv	:CHAR;
  Pclass,class : IDCMPFlagSet;
  Vqn,Vqp	:CHAR;
  mcode        : CARDINAL;
  msg          : IntuiMessagePtr;
  Vqr           :CHAR;
  gnr          : INTEGER;
  SneakCount   : CARDINAL;
  Vql    	:CHAR;
  Bruger       : ARRAY[0..31] OF CHAR;
  Special      : BOOLEAN;
  Vqc,Vqd	:CHAR;
  oldwindowptr : WindowPtr; (* husker default requester vindue *)
  dir20,dir30  : STR97;
  Vqz          : CHAR;
  CFraLine     :LONGINT;
  CFilPos      :LONGINT;
  hentfil      :File;
  Vqb,Vqa	:CHAR;
  Statistic    :BOOLEAN;
  FPtxt        :STRINGPTR;
  EVA          :INTEGER; (*Teori Evaluate Value *)
  Vqf,Vqx	:CHAR;
  PigPigMode   :INTEGER;
  AEM	       :AEMtype;
  EmptyMsg     :PROCEDURE;
  Vqh,Vqj	:CHAR;

PROCEDURE AdjustTilForUnder(VAR Fra,Til:INTEGER; Brik:CHAR):INTEGER;
PROCEDURE StoreStilling(fra,til:INTEGER);
PROCEDURE Brain;
PROCEDURE SetKeys;
PROCEDURE teoPRT;
PROCEDURE Draw;
PROCEDURE Flyt(gnr:CARDINAL); (* 67,69,71,73 *)
PROCEDURE Flyt4(gnr:CARDINAL; Offset:INTEGER);(* 67,69,71,73+0 or 66+Offset or 61*)
PROCEDURE Help;
PROCEDURE Comments;
PROCEDURE PscrL;
PROCEDURE SetupVindue;
PROCEDURE TeoriWindow;
PROCEDURE Hent20First(Auto:BOOLEAN):BOOLEAN;
PROCEDURE Hent20Next(Auto:BOOLEAN):BOOLEAN; (* AUTO er altid FALSE!!!!? *)
PROCEDURE Hent20Nxt(Auto:BOOLEAN):BOOLEAN;
PROCEDURE HvidSortTur(gnr:INTEGER);
PROCEDURE HvidSortTur(gnr:INTEGER);
PROCEDURE Kopi20;
PROCEDURE LydFraTil(gnr:CARDINAL);
PROCEDURE OpNed;
PROCEDURE PGNcomments;
PROCEDURE PGNtilPIG(Auto:BOOLEAN);
PROCEDURE PIGtilSKEMA(Type:INTEGER); (* kM *)
PROCEDURE PIGtilPGN;
PROCEDURE PIGtilPIG; (* F3 *)
PROCEDURE Styrke(gnr:CARDINAL);
PROCEDURE ToA; (* 231 save variant as comment and stop analyze else call comment *)
PROCEDURE ToggleMarked;
PROCEDURE Tom;
PROCEDURE ToNormal;
PROCEDURE Udgang;
PROCEDURE Vaelg(gnr:CARDINAL); (* Gd 200-219 *)
PROCEDURE VariantTgl; (* 233 start/stop analyze *)
PROCEDURE Sig(st:ARRAY OF CHAR);
PROCEDURE MVINFO(LastFra,LastTil:CHAR);
PROCEDURE FullRefresh;
PROCEDURE ReCalcTeo(StatisticOn:BOOLEAN);
PROCEDURE Person(gnr:CARDINAL);
PROCEDURE DiskFraTil(gnr:CARDINAL);
PROCEDURE DomiFraTil(gnr:CARDINAL);
PROCEDURE Farver;
PROCEDURE Gem20(Auto,KeepOpen,Open:BOOLEAN):BOOLEAN;
PROCEDURE Marker20(Slettet:SHORTINT);
PROCEDURE CatGame(type:INTEGER; Auto:BOOLEAN);
PROCEDURE AutoPGNtilPIG;
PROCEDURE Hent(Auto:BOOLEAN):BOOLEAN;
PROCEDURE Gem(Auto:BOOLEAN):BOOLEAN;
PROCEDURE Opsaet(gnr:CARDINAL); (* og Nyt spil *)
PROCEDURE Restore;
PROCEDURE Main(gnr:CARDINAL); (* Fra SetUp til Main *)
PROCEDURE Init;

END SkakAlt.
