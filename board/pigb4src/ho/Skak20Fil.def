DEFINITION MODULE Skak20Fil;

(*$ LongAlign:=TRUE StackParms:=TRUE CStrings:=TRUE LargeVars:=FALSE *)

FROM IntuitionD IMPORT
  WindowPtr;

CONST
  Skak20FilDefCompilation="20";

(* Save20 Open file, Save game, Close file *)
PROCEDURE Save20init(pth:ARRAY OF CHAR);
PROCEDURE Save20body(Auto:BOOLEAN):BOOLEAN;
PROCEDURE Save20close();

(* dem ovenover samlet: gemme spillet til skakbasefil *)
PROCEDURE Save20(pth:ARRAY OF CHAR; Auto:BOOLEAN):BOOLEAN;

PROCEDURE Load20init(pth:ARRAY OF CHAR; Auto:BOOLEAN):BOOLEAN;
PROCEDURE Load20body(VAR Adr:LONGINT; VAR NxtAdr:LONGINT;Auto:BOOLEAN):BOOLEAN;
PROCEDURE Load20close;

(* læse et spil fra skakbasefil adresse Adr til dbg, Næste adresse retur (0=slut) *)
PROCEDURE Load20(pth:ARRAY OF CHAR; VAR Adr:LONGINT; VAR NxtAdr:LONGINT;
                 Auto:BOOLEAN):BOOLEAN;

(* LL20: lave liste over spil i pig fil path20, op til 1000, returns:
     -8 :      File not opened
     -7 :      File opened
     -6 :      File SK2
     -5 :      buffers allocated
     -4 :      game(s) listed (no window only)
     -3 : (EM) WptrT=NIL
     -2 : (EM) NoMsg
     -1 : (EM) NoSpecialActions
      0 : (EM) Esc
      1 : (EM) OK
*)
PROCEDURE LL20(wp:WindowPtr):INTEGER;

(* kopiere alle uslettede spil fra pth (PIG) over til pthud (PIG) (append) *)
PROCEDURE Append20(pth,pthud:ARRAY OF CHAR);

(* Åben fil for Mark20body *)
PROCEDURE Mark20init(pth:ARRAY OF CHAR):BOOLEAN;

(* marker Current spil som -1=Toggle 0=uslettet eller 1=slettet *)
PROCEDURE Mark20body(Adr:LONGINT; VAR Slettet:SHORTINT);

(* luk fil efter Mark20body *)
PROCEDURE Mark20close;

(* marker Current spil som -1=toggle 0=uslettet eller 1=slettet (init+body) *)
PROCEDURE Mark20(pth:ARRAY OF CHAR; Adr:LONGINT; Slettet:SHORTINT);

END Skak20Fil.
