
  SAS Development System
  User's Guide
  Volume 1:
  Introduction, Editor, Compiler


  Version 6.0


     SAS Institute Inc.
     SAS Campus Drive
     Cary, NC 27513


The correct bibliographic citation for this manual is as follows: SAS Institute
Inc., SAS/C Development System User's Guide, Volume 1: Introduction, Editor,
Compiler, Version 6.0, Cary, NC: SAS Institute Inc., 1992. 316 pp.

SAS/C- Dewelopment System User's Guide, Volume 1: Introduction, Editor,
Compiler, Version 6.0

Copyright (c) 1992 by SAS Institute Inc., Cary, NC, USA.
ISBN 1-55544-496-2
All rights reserved. Printed in the United States of America. No part of this
publication may be reproduced, stored in a retrieval system, or transmitted, in
any form or by any means, electronic, mechanical, photocopying, or otherwise,M
without the prior written permission of the publisher, SAS Institute Inc.
1st printing, July 1992

The SASI System is an integrated system of software providing complete
control over data access, management, analysis, and presentationn Base`SAS
software is the foundation`of the SAS System. Products within the SAS System
include SAS/ACCESS, SAS/AFI, SAS/ASSIST, SAS/CPE, SAS/DMI, SAS/ETS,
SAS/FSP, SAS/GRAPH, SAS/IML, SAS/IMS-DLoI, SAS/OR, SAS/QC,
SAS/REPLAY-CICS, SAS/SHARE, SAS/STAT, SAS/TOOLKIT, SAS/CALC,
SAS/CONNECT, SAS/DB2, SAS/EIS, SAS/ENGLISH, SAS/INSIGHT,
SAS/LAB, SAS/LOOKUP, SAS/NVISION, SAS/PH-Clinical, SAS/SQL-DS, and
SAS/TUTOR software. Other SAS Institute products are SYSTEM 2000 Data
Management Software, with basic SYSTEM 2000, CREATE, Multi-User,
QueX, Screen Writer, and CICS interface software; NeoVisuals software;
JMP, JMP IN and JMP Server software; SAS/RTERM`software; and the
SAS/C Compiler and the SAS/CX Compiler. MultiVendor Architecture and
MVA are trademarks of SAS Institute Inc. SAS Institute also offers SAS
Consulting and On-Site Ambassador services. SAS Communications, SAS
Training, SAS Views, the SASware Ballot, and Observations are published by
SAS Institute Inc. All trademarks above are registered trademarks or
trademarks of SAS Institute Inc. in the USA and other countries. (R) indicates
USA registration. The Institute is a private company devoted to the support
and further development of its software and related services.

Amiga Includes and Development Tools Version 2.0
Copyright (c) 1990 Commodore-Amiga, Inc. All rights reserved.
Amiga Workbench Version 2.0
Copyright (c) 1988, 1990 Commodore-Amiga, Inc. All rights reserved.
Installer
Copyright (c) 1991-1992 Commodore Amiga, Inc. All rights reserved.
AmigaGuide and WDisplay
Copyright (c) 1991-1992 Commodore-Amiga, Inc. All rights reserved.
Distributed under license from Commodore.
Enforcer and Mungwall
Copyright (c) 1990-1992 Commodore-Amiga, Inc.
Distributed with permission from Commodore.
Amiga- AmigaDOS, Workbench, and AmigaGuide are registered trademarks
or trademarks of Commodore Amiga, Inc. Commodore is a registered
trademark or trademark of Commodore Electronics Limited.
IBM is a registered trademark of International"Business Machines Corporation.
Other brand and product names are registered trademarks or trademarks of
their respective companies.

Doc S17, Ver112.6, 071692
     Contents


       ix Reference Aids

       xi Credits

     xiii Acknowledgments

       xv Using This Book

    xxiii Changes and Enhancements

  Part 1 Getting Started

Page 3 Chapter 1 Installing Your SAS/C Development System
     3 Introduction
     3 Protecting Your Investment
     4 Installing the Product on A Hard Disk
     8 Installing the Product on Floppy Disks
    10 Assigning Logical Device Names
    10 Setting Environment Variables

    13 Chapter 2 Using Your SAS/C Development System
    13 Introduction
    14 Using SAS/C Tools from the Workbench Screen
    22 Using SAS/C Tools from the Shell
    25 Using Icons

    27 Chapter 3 Getting Help
    27 Introduction
    27 Using the Help System
    29 Contacting the Technical Support Division

       Part 2 Using the Screen Editor (se)

    37 Chapter 4 Using se
    37 Introduction
    38 Starting the Editor
    39 Reading the Status Line
    40 Moving Around in a File
    40 Entering and Editing Text
    46 Saving Your File and Exiting se
    47 Managing Windows
iv Contents


    48 Compiling from within the Editor
    48 Getting Help

    49 Chapter 5 Controlling se
    49 Introduction
    50 Selecting Menu Options
    51 Moving Around in the File
    52 Inserting Text
    52 Deleting Text
    53 Working with Blocks of Text
    53 Searching for and Replacing Strings
    54 Managing Windows
    54 Changing Colors
    55 Creating and Using Keystroke Macros
    55 Editing a New File
    56 Naming Files
    56 Undoing Changes
    56 Saving Your File and Exiting the Editor

    57 Chapter 6 Customizing the Editor
    57 Introduction
    57 Displaying the Configuration Window
    59 Displaying Key Definitions
    60 Setting Key Definitions
    61 Setting Tab Stops
    61 Setting Other Options
    64 Saving the New Settings
    64 Reusing Saved Settings

    65 Chapter 7 Using the AREXX`Interface to seM
    65 Introduction
    65 Executing A Series of Editor Commands
    68 Communicating with External Programs
    69 AREXX Macros Provided with the Compiler
    70 AREXX Command Summary

       Part 3 Using the Compiler and Linker

    77 Chapter 8 Compiling and Linking Your Program
    77 Introduction
    77 Compiling Your Program
   120 Linking Your Program
   127 Using Overlays
                            Contents v



   135 Chapter 9 Running Your Program from the Workbench
       Screen
   135 Introduction
   135 Working with argc and argv
   137 Managing the Standard I/O Window

   139 Chapter 10 Using Startup Modules, Autoinitialization,
       and Autotermination Functions
   139 Introduction
   140 Understanding Startup Modules
   140 Modifying __main
   141 Linking with a Startup Module
   145 Writing Applications without a Startup Module
   145 Using Autoinitialization and Autotermination Functions
   147 Initializing System Library Bases

   153 Chapter 11 Using Amiga Specific Features of the
       SAS/C Language
   153 Introduction
   154 Using Special Keywords
   160 Managing Stack Space
   161 Using #pragma Statements
   163 Using Unnamed Unions
   164 Using Implicit Structure References
   164 Using Equivalent Structures
   166 Using Zero-Length Arrays
   167 Specifying the Size of Enumerated Types
   168 Using the sizeof and Comma Operators in Preprocessor Directives
   168 Using C++ Style and Nested Comments
   168 Using National Characters in Variable Names
   168 Using Common Model External Data

   171 Chapter 12   How Does the Compiler Work?  
   171 Introduction
   171 Compiling Your Program
   173 Linking Your Program
   174 Running Your Program
   175 Changing Hunk Names
   176 Addressing Data
   177 Understanding Data Types and Sizes
   179 Storing Data

vi Contents



   181 Chapter 13 Writing Portable Code
   181 Introduction
   181 Compiling Your Program
   182 Writing Your Program

       Part 4 Appendices

   193 Appendix 1   Solving Common Problems
   193 Introduction
   193 Resolving Undefined Symbols
   195 Fixing Compilation Errors
   197 Using CodeProbe
   197 Using Formatted Print Functions
   198 Using getchar
   199 Getting Incorrect Results from Function Calls
   200 Crashing the Machine
   200 Using The asctime Function
   201 Managing the Standard I/O Window
   201 Linking Resident Programs or Creating Resident Libraries
   202 Writing Replacement Functions for SAS/C Library Functions
   202 Eliminating Informational Messages

   203 Appendix 2 Error and Warning Messages
   203 Introduction
   203 Using Error and Warning Messages
   204 Explanations of Unnumbered Compiler Messages
   206 Explanations of Numbered Compiler Messages
   258 Explanations of Linker Messages
   265 Enabling Suppressed Messages

   267 Appendix 3 Implementation-Defined Behavior
   267 Introduction
   268 F.3.1 Translation
   268 F.3.2 Environment
   268 F.3.3 Identifiers
   269 F.3.4 Characters
   269 F.3.5 Integers
   270 F.3.6 Floating-Point
   270 F.3.7 Arrays and Pointers
   271 F.3.8 Registers
   271 F.3.9 Structures, Unions, Enumerations, and Bit-Fields
   272 F.3.10 Qualifiers
   272 F.3.11 Declarators
   272 F.3.12 Statements
   272 F.3.13 Preprocessing Directives

      Contents vii



   273 F.3.14 Library Functions
   278 F.3.15 Locale-Specific Behavior

   281 Appendix 4 Converting From Aztec C Options to SAS/C
       Options

   285 Appendix 5 Converting from Version 5 to Version 6
   285 Introduction
   285 Upgrading from Previous Versions
   286 Converting Compiler Options
   294 Specifying Version 6 Libraries

   295 Index

viii


     Reference Aids





     Displays


   17 2.1 The SAS/C Compiler Options Index Screen
   18 2.2 The SAS/C Message Browser Window
   19 2.3 The Edit Window Showing example.c
   21 2.4 CodeProbe Windows with example.c
   28 3.1 Editor Help Screen
   39 4.1 Editing hello.c and example.c
   58 6.1 se Configuration Window
   59 6.2 se Configuration Window Showing Ctrl-F4



     Figures


  128 8.1 An Example Overlay Tree
  130 8.2 Example Overlay Tree with Filenames
  132 8.3 Overlay Tree for hw
  147 10.1 Startup Modules, Autoinitialization Functions, and
    Autotermination Functions



     Tables


   70 7.1 AREXX Commands with Keystroke Equivalents
   73 7.2 AREXX Commands without Keystroke Equivalents
   80 8.1 Summary of Compiler Options
  119 8.2 Preprocessor Symbols Defined by the Compiler
  120 8.3 Preprocessor Symbols Defined by Compiler Options
  148 10.1 Library Bases for .library Files
  281 A4.1 Converting From Aztec C Options to SAS/C Options
  287 A5.1 Converting Version 5 Options to Version 6 Options
  294 A5.2 Specifying Version 6 Libraries





Credits


Software

The SAS/C Development System is designed, built, and tested through
the combined effort of many people at SAS Institute. The AmigaDOS
development group includes the following individuals:

     Development Steve Krueger, Douglas Walker, Michael S.
    Whitcher

     Testing and Twilah K. Blevins, Jim Cooper, Bob Patten,
       Technical Khristi Tomlinson
  Support

These individuals continue to support future development of the SAS/C
Development System.



Documentation

     Composition Candy R. Farrell, Denise T. Jones, Blanche W.
   Phillips, Pamela A. Troutman

  Graphic Design Creative Services Department

     Proofreading Heather B. Dees, Laurie J. Medley, Karen A.
    Olander, Josephine P. Pope, Christian Schwoerke

Technical Review Jim Cooper, Steve Krueger, Khristi Tomlinson,
   Douglas Walker, Michael S. Whitcher

     Writing and Jeanne Ferneyhough, Steve Krueger, Jeffrey Lopes,
  Editing Khristi Tomlinson, Douglas Walker, Helen Weeks,
   John M. West


xii

             xiii




Acknowledgments


Many people make significant and continuing contributions to the
development of the SAS/C Development System. First among them is
John A. Toebes VIII, who was instrumental in the development of
Versions 4.0 and 5.0 and who directed the early development of
Version 6.0.
  Others who have contributed to the development and testing of
Version 6.0 of the SAS/C Development System include Aaron Avery,
Ralph Babel, Jim Biggs, Bruce M. Drake, Andy Finkel, Nathan S. Fish,
Jose M. Gallego, John Gerlach Jr., Maximilian Hantsch, Randell Jesup,
David N. Junod, Andrew Kopp, Martin J. Laubach, John Lindwall,
Christian Ludwig, Andrew N. Mercier, Mike Meyer, Tony Preston,
Julius Oklamcak, Joe Porkka, Loren J. Rittle, Tomas Rokicki, Larry
Rosenman, Carolyn Scheppner, Steve Shireman, Michael Sinz, Martin
Taillefer, Steve Tibbett, John Wiederhirn, Loren Wilton, and Kenneth
Yarnall.
  The final responsibility for the SAS/C Development System lies with
SAS Institute alone. We hope that you will always let us know your
feelings about our product and its documentation. It is through such
communication that the progress of SAS software continues to be
accomplished.


xiv
          xv




Using This Book



Purpose

SAS/C Development System User's Guide, Volume 1: Introduction,
Editor, Compiler, Version 6.0 describes how to install and use your
SAS/C Development System. This books describes the editor and
compiler in detail and provides an overview of some of the of the
major tools available to the SAS/C programmer under AmigaDOS,
such as the debugger, the message browser, and the scopts utility.
  "Using This Book" describes how you can best use this book. It
describes the book's intended audience, the audience's prerequisite
knowledge, the book's organization and its conventions, and additional
documentation that is available to you.



Audience

This book assumes you have a working knowledge of the C language
and the AmigaDOS operating system. For a list of publications you can
use to learn the C language or the AmigaDOS operating system, refer
to the "Additional Documentation" section at the end of "Using This
Book."



How to Use This Book

This section gives an overview of the book's organization and content.
The book's chapters are described, followed by a section on how to use
each chapter.


Organization SAS/C Development System User's Guide, Volume 1: Introduction,
Editor, Compiler is divided into four parts; the chapters and appendices
contained in each part are described here:


Part 1: Getting Started
Part 1 contains three chapters that show you how to install the SAS/C
Development System, use its major features, and get help when
necessary.

Chapter 1, "Installing Your SAS/C Development System"
   describes how to install the SAS/C Development System, assign
   logical device names, set environment variables, and upgrade from
   previous versions of the product.

xvi Using This Book




Chapter 2, "Using Your SAS/C Development System"
  describes briefly how to use the major features of the SAS/C
  Development System: the editor, the compiler, the debugger, the
  scmsg utility, and the scopts utility.

Chapter 3, "Getting Help"
  describes how to use the online help system and how to contact the
  Technical Support Division.


Part 2: Using the Screen Editor (se)
  Part 2 contains four chapters that describe how to use the editor, how
  to customize the keymap, and how to use AREXX with the editor.

Chapter 4, "Using se"
  describes the most frequently used se commands and options.

Chapter 5, "Controlling se"
  lists all of the options and commands available in se.

Chapter 6, "Customizing the Editor"
  describes how to use the se configuration window. The
  configuration window enables you to customize the meaning of
  various keystrokes within se.

Chapter 7, "Using the AREXX Interface to se"
  describes how to use AREXX to create complicated macros and to
  communicate with other programs from se.


Part 3: Using the Compiler and Linker

Part 3 contains six chapters that describe how to compile, link, and
run your program. These chapters also provide guidelines for writing
your application.

Chapter 8, "Compiling and Linking Your Program"
  describes how to use the compiler and linker.

Chapter 9, "Running Your Program from the Workbench Screen"
  describes special considerations for running your program from the
  Workbench screen.

Chapter 10, "Using Startup Modules, Autoinitialization, and
  Autotermination Functions"
  describes what functions the startup modules perform and how to
  write your own autoinitialization and autotermination functions.

Chapter 11, "Using Amiga Specific Features of the SAS/C Language"
  describes how to use SAS/C extensions to the C Language.

      
        Using This Book xvii




Chapter 12, "How Does the Compiler Work?"
   describes briefly the format of the object files produced by the
   compiler. This chapter also describes what happens when you
   compile, link, and run your program.

Chapter 13, "Writing Portable Code"
   provides guidelines for improving the portability of your program.


Part 4: Appendices

Part 4 contains five appendices.

Appendix 1, "Solving Common Problems"
   contains answers to the questions that users ask most frequently
   when they call the Technical Support Division.

Appendix 2, "Error and Warning Messages"
   contains explanations for the diagnostic messages produced by the
   compiler and linker.

Appendix 3, "Implementation-Defined Behavior"
   describes how the SAS/C Compiler behaves for each of those areas
   where the ANSI Standard allows an implementation to define its
   own behavior.

Appendix 4, "Converting from Aztec C Options to SAS/C Options"
   lists each of the Version S Aztec C options and their equivalent
   Version 6 SAS/C options.

Appendix S, "Converting from Version S to Version 6"
   lists each of the Version 5.10 options and their equivalent Version
   6 options. This appendix also provides guidelines for converting
   your projects to Version 6 SAS/C software.

xviii Using This Book




What You  The following table points you to specific chapters in this book 
for Should Read  information on particular topics. For other references, 
refer to
"Additional Documentation" later in this section.


___________________________________________________________________
For information on      You should read
___________________________________________________________________
installing the product         Chapter 1
upgrading from previous versions of the product     Chapter 1 and
          Appendix 5
using the major features of the SAS/C        Chapter 2
Development System
contacting the Technical Support Division    Chapter 3
using online help       Chapter 3
using the editor        Chapters 4 and 5
specifying the sc command and compiler options      Chapter 8
managing the environment in which your program      Chapters 9 and
runs      10
using extensions to ANSI C     Chapter 11
___________________________________________________________________



Conventions

This section covers the typographical and syntax conventions used in
this book.


Typographical The SAS/C books for AmigaDOS use special fonts to depict specific
Conventions types of information. These typographical conventions are as follows:
roman is the basic type style used for most text.

monospace is used to show example statements or programs.
   Monospace is used also for items specific to the
   C language, such as the names of functions, header
   files, and keywords.

  oblique is used for arguments or variables whose values are
   supplied by the user; for example, you should enter an
   appropriate filename when you see filename.

   italic is used for terms that are defined. Italic is also used to
   indicate arguments for which you supply a value.

     Using This Book xix



Syntax This book uses the following conventions for syntax:
Conventions
monospace  indicates commands, keywords, and switches that

     should be spelled exactly as shown. These
     arguments may or may not be optional, depending
     on whether they are enclosed in square brackets.
     italic indicates arguments for which you supply a value.

[] (square  indicate an optional argument when they surround
 brackets)  the argument.

(gllipsis)  indicates that you can repeat the argument or
     group of arguments preceding the ellipsis any
     number of times.

     |  means to choose one item from a group of items
     (vertical bar)  separated by the bars.

     The following example illustrates these syntax conventions:
     env [function | integer]

     env
     is a command name, so it appears in monospace type.

     function
     is a function for which you supply the name, so it appears in 
     italic type.

  [function | integer]
     are both optional, so they are enclosed in square brackets.

  function | integer
     indicates that you can specify only one of the items separated by the
     vertical bar.



  Additional Documentation

  The following sections list documentation you may find helpful in using
  the SAS/C Development System.


     SAS If you are interested in SAS documentation, you need to contact the
  Documentation Book Sales department by writing to the following address or by
  calling the following number:

           SAS Institute Inc
           Book Sales Department
           SAS Campus Drive
           Cary, NC 27513
           919-677-8000


xx Using This Book





SAS/C Development System
This book is part of a set of publications for the SAS/C Development
System. There are three other publications in the set:

[] SAS/C Development System User's Guide, Volume 2: Debugger,
   Utilitles, Assembler, Version 6.0 describes how to use

   [] CodeProbe, the SAS/C Source Level Debugger
   [] the utilities such as smake, grep, scopts, and scmsg
   [] the SAS/C Macro Assembler
   [] the global and peephole optimizers.

[] SAS/C Development System Library Reference, Version 6.0 describes
   how to

   [] access libraries
   [] create your own libraries
   [] use header files to reduce the amount of time and space required
      by your program.

[] SAS/C Development System Quick Reference, Version 6.0 contains
   reference tables for the library functions, compiler and linker
   options, and debugger commands.

   These volumes are sold together as a set with the software. You can
order the entire package by specifying order #A56185.


   Other  The following sections list additional reference material specific to the
Documentation C  language, Amiga and AmigaDOS programming, and the Motorola
   68xxx microprocessor family.


C Language
The following books describe the C programming language:


American National Standards Committee (1990), American National
   Standard for Information Systems--Programming Language C, Document
   Number X3J11/90-013, Washington, D.C.: X3 Secretariat: Computer
   and Business Equipment Manufacturers Association.
Harbison, Samuel P. and Steele, Guy L., Nr. (1990), C: A Reference Manual,
   Third Edition, Englewood Cliffs, NJ: Prentice-Hall, Inc.
Kernighan, Brian W. and Ritchie, Dennis M. (1988), The C Programming
   Language, Second Edition, Englewood Cliffs, NJ: Prentice-Hall, Inc.
Kochan, Stephen G. (1988), Programming in ANSI C, First Edition,
   Indianapolis, Indiana: Hayden Books.

   Using This Book xxi




Amiga and AmigaDOS
The following books provide information specifically about
programming on the Amiga system. Most of the examples in these
books are written in C or assembly language.


Commodore-Amiga, Inc. (1990), Using the System Software, Reading, MA:
  Addison-Wesley Publishing Company.
Commodore Amiga, Inc. (1991), Amiga Hardware Reference Manual, 3rd
  Edition, Reading, MA: Addison-Wesley Publishing Company.
Commodore-Amiga, Inc. (1991), Amiga ROM Kernel Reference Manual:
  Devices, 3rd Edition, Reading, MA: Addison-Wesley Publishing
  Company.
Commodore Amiga, Inc. (1991), Amiga ROM Kernel Reference Manual:
  Includes and Autodocs, 3rd Edition, Reading, MA: Addison-Wesley
  Publishing Company.
Commodore-Amiga, Inc. (1991), Amiga User Interface Style Guide,
  Reading, MA: Addison-Wesley Publishing Company.
Commodore-Amiga, Inc. (1991), The AmigaDOS Manual, 3rd Edition, New
  York, NY: Bantam Books.
Commodore-Amiga, Inc. (1992), Amiga ROM Kernel Reference Manual:
  Libraries, 3rd Edition, Reading, MA: Addison-Wesley Publishing
  Company.

 Motorola 68xxx  
The following books contain information specifically about
programming the Motorola 68xxx family of microprocessors.

Motorola, Inc. (1987), MC68881/MC68882 Floating-Point Coprocessor
  User's Manual, First Edition, Englewood Cliffs, NJ: Prentice Hall, Inc.
Motorola, Inc. (1989), MC68030 Enhanced 32-Bit Microprocessor User's
  Manual, Second Edition, Englewood Cliffs, NJ: Prentice Hall, Inc.
Motorola, Inc. (1989), Programmer's Reference Manual, Phoenix, AZ:
  Motorola Literature Distribution.


Contacting  You can contact Commodore Application and Technical Support at the
      CATS  following address:


          1200 Wilson Drive
          West Chester, PA 19380
          215-429-0643

     
xxii

          xxiii




   Changes and Enhancements


The following sections describe some of the changes and enhancements
for the SAS/C Development System, Version 6.0.

[] The SAS/C Development System has an extensive online help system
   implemented using the AmigaGuide hypertext system from
   Commodore. The online help describes each utility, CodeProbe
   command, editor command, library function, diagnostic message, and
   compiler option. For a complete description of using the help system,
   see Chapter 3, "Getting Help."

[] The SAS Institute Technical Support Division has a new facility called
   EMITS (Electronic Mail Interface to Technical Support) that allows you
   to report problems and receive help through Internet. For more
   information, see Chapter 3, "Getting Help."

[] Compiler executables and other files are installed in a directory tree
   pointed to by the assign sc:. Unlike the Version 5 assign lc:, sc:
   points to the root of the compiler's installation directory.

[] The lc compiler front-end has been replaced with the new sc front-
   end, which takes options in a different form. The new sc front-end
   accepts C source files, assembly language files, object files, and
   libraries. You may specify options before or after the filenames. See
   Chapter 8, "Compiling and Linking Your Program," for more
   information.
     To help you make the transition to Version 6, the SAS/C
   Development System provides two utilities, sc5 and lctosc. The sc5
   command accepts options in the form accepted by lc and invokes the
   Version 6 compiler. The lctosc utility accepts options in the form
   accepted by lc and prints the equivalent sc options to stdout. Both
   sc5 and lctosc read the sascopts file, if present. Appendix 5,
   "Converting from Version 5 to Version 6," provides guidelines for
   converting your projects to Version 6.

xxiv Changes and Enhancements




   [] The names of various other executables have changed. The following
   table lists the names of the Version 5 executables and the
   corresponding Version 6 names.



   Version 5   Version 6
   ____________________________
   blink       slink
   lse  se
   sascopts    scopts
   sascsetup   scsetup



   [] Many symbols and functions in the link libraries have new names that
   adhere to the ANSI Standard. The Standard requires that all non-ANSI
   symbols referenced in ANSI header files start with two underscores or
   an underscore and a capital letter. The Version 5 symbols that violated
   this standard have been renamed, usually by adding one or two
   underscores to the front of the name. For information on a specific
   symbol, refer to Chapter 6, "Predefined Data Name Reference," in
   SAS/C Development System Library Reference.

   [] The name of the file that is created by the scopts utility has been
   changed from sascopts to scoptions.

   [] The AmigaDOS 1.3 header files are no longer shipped with the SAS/C
   Compiler. However, all AmigaDOS 1.3 functions are available under
   AmigaDOS 2.0, so you can develop code that runs under AmigaDOS
   1.3 by restricting your program from using any AmigaDOS 2.0
   functions.

   [] The SAS/C Development System, Version 6, does not have separate
   libraries for use with registerized parameters. The normal link libraries
   have both registerized and nonregisterized entry points.
     If you write a function that has the same name as a library function,
   you need to add the _ _ regargs keyword to your function or compile
   with the parms=both or parms=register option. For example,
   you may want to replace the SAS/C library function malloc with
   your own version of malloc. If you compile with the parms=stack
   option or define your version of malloc with the _ _ stdargs
   keyword, then two versions of malloc are linked into your
   executable. If you use other SAS/C library functions that call malloc,
   these functions use the version of malloc in the SAS/C libraries.
   However, your functions that call malloc use your version of
   malloc. To make sure that all calls to malloc are using your version

          Changes and Enhancements xxv




   of malloc, define your version with __ regargs or compile with the
   parms=both or parms=register option.
     For information on using registerized parameters, refer to the
   description of the __ regargs keyword in Chapter 11, "Using Amiga
   Specific Features of the SAS/C Language," and the description of the
   parameters compiler option in Chapter 8, "Compiling and Linking
   Your Program."

[] The lc1, lc2, and go commands are not included in Version 6 of the
   SAS/C Development System. The sc driver loads AmigaDOS shared
   libraries to handle the work of the various phases instead of invoking
   multiple programs.

[] The lseinst program has been removed, and the se configuration
   window added in its place. Select the Configuration Window option
   from the Options pulldown menu in se to invoke the configuration
   window. For complete description of using the configuration window,
   see Chapter 6, "Customizing the Editor."

[] The precompiled header files in Version 5 have been replaced with
   GSTs (Global Symbol Tables). GSTs are much faster than precompiled
   headers because they remain in RAM between compiles. Some
   additional utilities, gst and hypergst, allow you to browse the
   RAM-resident GST files for information on symbols defined in system
   header files or in your header files. For information on creating and
   using GSTs refer to SAS/C Development System Library Reference and
   to the descriptions of the gst and hypergst utilities in SAS/C
   Development System User's Guide, Volume 2: Debugger, Uhlities,
   Assembler. See also the descriptions of the gst and makegst
   compiler options in Chapter 8, "Compiling and Linking Your
   Program."

[] The new scmsg utility enables you to integrate any editor that
   supports AREXX into the SAS/C Development System. For more
   information, see the description of the errorrexx compiler option in
   Chapter 8, "Compiling and Linking Your Program," and the description
   of the scmsg utility in SAS/C Development System User's Guide,
   Volume 2.

[] The global optimizer supports many new optimizations, including inline
   functions. You can use the __ inline keyword to specify a function
   that is to be inlined. See Chapter 11, "Using Amiga Specific Features of
   the SAS/C Language," for information on special keywords supported
   by the SAS/C Compiler. Refer to SAS/C Development System User's
   Guide, Volume 2 for information on the global optimizer.

xxvi Changes and Enhancements




[] The new peephole optimizer improves code quality significantly. The
   peephole optimizer is run automatically when you choose the
   optimize compiler option, unless you specifically suppress it with
   nooptpeep. Refer to SAS/C Development System User's Guide,
   Volume 2 for information on the peephole optimizer.
[] The CodeProbe debugger has numerous enhancements. The major
   enhancements include the following:

  [] The command syntax has been totally rewritten and greatly
     extended.
  [] The debugger has new support for debugging AmigaDOS shared
     libraries.
  [] The debugger automatically detects Enforcer hits caused by your
     program and halts your program at the location of the hit.
  [] The debugger now has cross-debugging capability. This new feature
     allows you to run your program on one machine and debug the
     program using another machine connected through the serial port
     or a network file system.

   Refer to SAS/C Development System User's Guide, Volume 2 for a
   complete description of using the debugger.

[] The compiler still generates code by default to check for stack overflow
   at the entry to each function. However, this code is more reliable
   under Version 6.0.
     The compiler also supports a new option that generates code to
   allocate a new stack and allow your program to continue running if the
   old stack runs out. For more information, see the description of the
   stackextend compiler option in Chapter 8, "Compiling and Linking
   Your Program." See also the description of the__ stackextend
   keyword in "Managing Stack Space" in Chapter 11, "Using Amiga
   Specific Features of the SAS/C Language."

[] The compiler now supports the common model for external data as
   well as the strict reference-definition model. For more information, see
   Chapter 11, "Using Amiga Specific Features of the SAS/C Language."

[] The compiler now supports a coverage option that generates special
   code that tells you which portions of your program were executed by
   your test cases. A new utility, the cover utility, analyzes the data
   produced by the compiler when you specify cover age. This
   information helps you design test cases that test all portions of your
   code. For more information, see the description of the coverage
   compiler option in Chapter 8, "Compiling and Linking Your Program,"
   and the descriqtion of the cover utility in SAS/C Development System
   User's Guide, Volume 2.

       Changes and Enhancements xxvii





[] The stringmerge compiler option, equivalent to the -cs in
   Version 5, merges all string constants and places them in    the code
   section. Unlike tie Version S option, stringmerge also places all
   data declared stat i c cons t and all automatic initializer data in the
   code section. For more information, see the description of the
   stringmerge compiler option in Chapter 8, "Compiling and Linking
   Your Program."

[] The compiler can now produce a disassembly of the generated object
   code. For more information, see the description of the disassem
   compiler option in Chapter 8, "Compiling and Linking Your Program."

[] The compiler now adjusts dynamically to low-memory situations. If you
   compile your program and your machine runs low on memory, the
   compiler displays the message ***Freeing Resources and frees
   memory to enable it to continue the compilation. You can also use the
   memorysize compiler option to limit the compiler's memory use. For
   more information, see the description of the memorysize option in
   Chapter 8, "Compiling and Linking Your Program."

[] You can designate autoinitialization functions that you waot the
   compiler to call automatically before it calls your main routine. You
   can also designate autotermination functions that you want the
   compiler to call after main returns. For more information, see
   Chapter 10, "Using Startup Modules, Autoinitialization, and
   Autotermination Functions."

[] System library bases that are not defined in your code are
   automatically opened and initialized. For more information, see
  Chapter 10, "Using Startup Modules, Autoinitialization, and
  Autotermination Functions."

[] The SAS/C Compiler now permits references to unnamed unions and
   direct references to members of substructures. The compiler also
   permits zero-length arrays as members of structures. For more
   information, see Chapter 11, "Using Amiga Specific Features of the
   SAS/C Language."

[] The new #pragma tagcall allows you to call AmigaDOS functions
   that take a variable parameter list without using`assembler stubs. For
   more information, refer to SAS/C Development System Library
   Reference.

xxviii  Changes and Enhancements


[] The new #pragma msg allows you to control`compiler diagnostic
   output more closely. For information, see Chapter 11, "Using
   Amiga Specific Features of the SAS/C Language."

[] The compiler now supports char, short, and long enum types. For
   more information, see Chapter 11, "Using Amiga Specific Features of
   the SAS/C Language."

      [] Part 1
  Getting Started

Chapters 1 Installing Your SAS/C Development System
  2 Using Your SAS/C Development System
  3 Getting Help

2

     1 Installing Your SAS/C
       Development System


  3 Introduction
  3 Protecting Your Investment
  4 Installing the Product on A Hard Disk
  5 Modifying Your Startup File
  6 What Directories Does the Installation Program Create?
  8 Installing the Product on Floppy Disks
 10 Assigning Logical Device Names
 10 Setting Environment Variables




       Introduction
       This chapter describes how to install your SAS/C Development System
       and provides guidelines for upgrading your projects to Version 6.



       Protecting Your Investment

       Before you install your SAS/C Development System, you should do the
       following:

       [] Make backup copies of the disks distributed with this product. To make
   copies, you can use the AmigaDOS diskcopy command, or you can
   select the disk icon and choose copy from the"Icons menu. Refer to
   your AmigaDOS manual for more information on copying disks.
       [] Write down your registration number where you can find it easily. You
   must give your registration number to the Technical Support staff
   before you can receive help from the SAS Institute Technical Support
   Division.
       [] Complete the registration card that comes with this product and return
   it to SAS Institute Inc. You must"register your purchase to qualify for
   technical support and to be notified about future upgrades.
   If you are upgrading from a previous version, and you have already
   registered the previous version, you do not need to send in a new
   registration card. If you are not sure if you are in the SAS Institute
   database of registered users, write your old registration number and a
   brief explanation on the new card before sending in the card.

4 Chapter 1



   Installing the Product on A Hard Disk

   The installation program is distributed on disk number 1. You should run
   the installation program from the Workbench screen, not the Shell.
     To install the SAS/C Development System, insert disk number 1 in the
   disk drive and double-click on the disk icon to open the
   SASC_6.0_Disk_1 window. Double-click on the Install-SASC icon to
   open the Install-SASC window.
     If you want to see exactly what the installation program will do before
   you actually install the product, you can select the Pretend to Install and
   Log File options, and then proceed through the installation process. As
   you go through the installation process, the installation program writes to
   a log file all of the commands it would have executed if you were actually
   installing the product. The log file is named install_log_file and is
   written to the directory in which you are installing the product (or to
   ram:, if it cannot write to that directory).
     As you go through the installation process, the installation program
   asks you some questions, including the name of the directory, or
   destination, where you want to install the SAS/C Development System.
   The installation program allows you to save disk space by asking you
   which parts of the product you want to install. For example, you may
   choose not to install the cross debugger. The installation program also
   allows you to choose whether you want to install compressed or normal C
   header files. Choose compressed header files only if you need to conserve
   space on your hard disk. If you choose not to install parts of the product,
   include this information in any communication you have with the
   Technical Support Division.
     After you have answered all of the questions (and if you select Install
   for Real), the installation program then proceeds to install the product.
   The program prompts you to insert disks as necessary.
   Context-sensitive online help is available at any point in the installation
   process by clicking on the Help button, and you can abort the
   installation process at any time by clicking on the Abort button.
     After all the files on the distribution disks have been copied to your
   hard disk, the installation program asks you if you want the following
   statements added to your s:user-startup file.


     assign sc: destination:sc
     assign lib: sc:lib
     assign include: sc:include
     path sc:c add

   The installation program adds these statements automatically if you select
   Proceed. If you decide to add these statements manually and do not

           Installing Your SAS/C Development System 5




  select Proceed, make sure you add them before any line that calls a
  utility that creates a new Shell, such as PopCLI.
    Finally, the installation program displays the read.me file.
    Note: Read the read.me file carefully. This file contains important
  information that is not contained in the documentation distributed with
  the product. This information may concern new or enhanced features,
  bug fixes, or changes to the documentation. The read.me file is installed
  with the rest of the product, so you can refer to this file later.


Modifying Your If you are running AmigaDOS 2.0, the modifications that the 
installation startup File  program makes to your startup file (if you selected 
Proceed) are sufficient to allow the compiler to run.
    If you are running AmigaDOS 1.3, you may need to make an additional
  change to your s: startup-sequence file to make sure that these
  assign and path statements take effect.
    The installation program adds the path and assign statements to the
  file s:user-startup. The installation also asks you where to add the
  following lines:


        if exists s:User-startup
    execute s:user-startup
        endif


  The installation program suggests a place to enter these lines, but you can
  specify a different place if necessary. Make sure that these lines are
  entered before any line that calls a utility that creates a new Shell, such
  as PopCLI. The installation program adds these lines to either
  s:startup-sequence or s:startupII .
    If the lines are added to s:startupII, you must verify that
  s: startupII is properly executed from s: startup-sequence.
  Under some older versions of AmigaDOS Version 1.3, s: startupII is
  executed from s: startup-sequence through either a newshell
  command or a run execute command. Therefore, any path
  statements added to the s:user-startup file do not have any effect
  under the Workbench screen or the Shell. Edit your s:startup-
  sequence file, and verify that s:startupII is executed with an
  execute command only. If not, change the command to the following:


         execute s:startupII


  If this command is not in your s: startup-sequence file, add it. If
  s: startupII is executed with a run execute command, delete the
  word run.

6 Chapter 1




    After you have saved your s:startup-sequence file with the
  correct command and completed the installation process, re-boot your
  machine. Your compiler should work correctly.


What Directories  After you finish installing the product, you will have a 
directory named Does the sc  that contains several files and subdirectories. 
The following list Installation  describes the directories that have icons.
Program Create?   
Note: Some of these icons may not be present if you choose not to install the 
entire package.

     [] starter_project is the directory that the scsetup utility uses as
a model whenever you set up a project. (A project consists of all of the
files that make up an application.) You can add icons and programs to
starter_project as necessary. For example, you can create an
scoptions file in this directory that contains any compiler options
that you want to be copied into each of your project directories.
scsetup copies the entire contents of starter_project into the
project drawer you specify. The installation program places the
following icons (and files) in this drawer:

   Edit invokes the se editor

 Build builds the project

 Debug runs the debugger

     SCoptions sets compiler options.

     [] c contains the executable modules for the SAS/C Development System,
including the assembler, compiler, debugger, linker, and various
utilities.
     [] icons is a directory used by scsetup, se, and other utilities that
contains default icons for different file types. You can replace any of
the icons in this directory or add your own icons. For more
information on using icons, see Chapter 2, "Using Your SAS/C
Development System."
     [] examples contains example programs. For each example, this
directory contains complete source code and a read.me file that
explains the example program and describes how to run the example.
Some of the examples are in their own subdirectory under the
examples directory.
     [] help contains help files used by the various SAS/C utilities.
Chapter 3, "Getting Help," describes the contents of this directory and
how to use the help system.

     Installing Your SAS/C Development System 7




 The installation program also creates some directories that do not have
icons. These directories are as follows:

[] env contains default configuration information for tools such as the
   editor. The tools look first in env: sc for their configuration files, and
   if the files are not there, the tool looks in sc: env.
[] source contains C and assembly language source code for various
   parts of the SAS/C Development System. For example, this directory
   includes the source code to the different startup modules.
[] Include contains C header files and assembler header files. The
   INCLUDE: logical device name should point to this directory.
[] Lib contains link libraries. The LIB: assign should point to this
   directory.
[] libs contains resident libraries used by the various SAS/C commands.
   These libraries must exist in the sc:libs drawer. Do not attempt to
   copy them into libs: with the AmigaDOS system libraries. The
   following libraries are included in this drawer:

   sc1.library
      is required by the compiler. This library must be present to
      compile any code.

   sc2.library
      is required by the compiler. This library must be present to
      compile any code.

   scgo.library
      is required by the global optimizer. This library must be present if
      you compile with the optimize option and do not specify the
      nooptglobal option.

   scpeep.library
      is required by the peephole optimizer. This library must be
      present if you compile with the optimize option and do not
      specify the nooptpeep option.

   scdebug.library
      generates debugging information. Without this library, the
      compiler can generate partial line number information but cannot
      generate any symbolic debugging information.

   scgst.library
      generates or accesses GSTs (Global Symbol Tables). This library is
      not required if you never use the GSTs. Refer to SAS/C
      Development System Librar,v Reference, Version 6.0 for information
      on using GSTs.

8 Chapter 1




    schi.library
       is used by CodeProbe to read the debugging information in an
       executable module. This library is required if you run the
       debugger.

    sekeymap.library
      is used by the editor to allow you to modify the editor's
      configuration.

    scspill.library
      detects low-memory conditions and attempts to reduce the
      compiler's memory usage. This library is required if you want the
      compiler to react dynamically to low-memory conditions.
  If you compile your program and your machine runs low on
      memory, the compiler displays the message ***Freeing
      Resources and frees memory to enable it to continue the
      compilation. You can force the compiler to free memory at any
      time by pressing Control-F in the window to which the compiler
      is sending output.

    sclist.library
      generates listing and cross-reference files. This library is not
      required if you never use the list or xref compiler options.

   It is recommended that you do not place your source code in the sc
 directory tree. Installing updates to the SAS/C Development System is
 easier if you can replace the entire directory without worrying about
 losing any of your own program files. Instead, you should set up a
 different directory for your C development work. You may find it useful
 to keep different projects in different directories. Keeping projects
 separated makes it easier to keep track of the smakefiles and compiler
 options required for each project. Remember, a project consists of all of
 the files that make up an application.



 Installing the Product on Floppy Disks

 The installation program is distributed on disk number 1. You should run
 the installation program from the Workbench screen, not the Shell.
   Before installing the SAS/C Development System, make sure you have
 at least two blank disks on which to install this product.
   To install the SAS/C Development System, insert disk number 1 in the
 drive df0: and double-click the disk icon to open the SASC_6.0_Disk_1
 window. Double-click the Install-SASC icon to open the Install-SASC
 window.
   If you want to see exactly what the installation program will do before
 you actually install the product, you can select the Pretend to Install and

     Installing Your SAS/C Development System 9




Log File options, and then proceed through the installation process. As
you go through the installation process, the installation program writes to
a log file all of the commands it would have executed if you were actually
installing the product. The log file is named install_log_file and is
written to ram:.
  As you go through the installation process, the installation program
asks you some questions, then proceeds to install the product. The
program`prompts you to insert disks as necessary.
  The installation program produces the following two working disks:

Disk 1 is a bootable disk that contains the compiler (sc), linker
       (slink), editor (se), and the smake, scopts, and scmsg
       utilities.

Disk 2 contains compressed header files, CodeProbe, sc.lib,
       scm.lib, and a small version of amiga.lib containing only
       global symbols (no stubs).

The installation program asks you if you want to create a third disk:

Disk 3 contains the remaining utilities and the global and peephole
       optimizers, if you choose to create disk 3. Under AmigaDOS 1.3,
       you will not be able to use the global and peephole optimizers.
       Under AmigaDOS 2.0, a multiple-directory assign statement is
       used to access the optimizers.

Online help is available at any point in the installation process, and you
can abort the installation process at any time.
  Finally, the installation program displays the read.me file.
  Note: Read the read.me file carefully. This file contains important
information that is not contained in the documentation distributed with
the product. This information may concern new or enhanced features,
bug fixes, or changes to the documentation.

10 Chapter 1




    Assigning Logical Device Names

    When you install the SAS/C Development System (either on floppy disks
    or on a hard drive), the installation program tells you that specific
    assign statements must be added to your startup file. You may choose
    to allow the installation program to add these statements for you. The
    following list describes each of the logical device names that need to be
    added to your startup file.

 sc: specifies the directory in which the compiler and other
     utility programs are located. For example, the following
     statement indicates that the compiler and utilities are in the
     directory work:sc.

     assign sc: work:sc

   include: specifies the directory in which the compiler can find
     system header files included in your programs by specifying
     the #include statement with angle brackets (<>). For
     example, you could enter the following assign statement
     from the Shell prompt:

       assign include: df0:sc/include

     Then, if you compile a program containing the statement
     #include <stdio.h>, the compiler attempts to include
     the file df0: sc/include/stdio.h.

       lib: specifies the directory in which the linker can find the
     libraries and other modules needed to build executable
     files. For example, the following Shell command indicates
     that the libraries are in the directory sc/lib on the
     work: volume:
  
     assign lib: work:sc/lib

    Setting Environment Variables
    The various tools in the SAS/C Development System sometimes require
    information in environment variables. For example, the sc command
    looks for default options in a file called scoptions; if the compiler does
    not find such a file in the current directory, it looks in the environment
    variable ENV:sc/scoptions.
      Environment variables are stored in the logical device ENV: in files
    with the same name as the variable. ENV: is usually assigned to the

    Installing Your SAS/C Development System 11




    ram: device or some other temporary location. You can set environment
    variables from the Shell with the setenv command.
      All SAS/C utilities that use environment variables access them from the
    ENV: sc subdirectory, so be sure to create this subdirectory in env:
    each time you boot your machine. Under AmigaDOS 2.0, the installation
    program creates this subdirectory by creating the directory ENVARC: SC.
    Under AmigaDOS 1.3, ENVARC: does not necessarily exist, so you must
    make sure that the ENV: SC subdirectory is created each time you boot
    your machine.

12

  13





       2  Using Your SAS/C
   Development System


     13 Introduction
     14 Using SAS/C Tools from the Workbench Screen
  14 Setting Up a Project
  15 Creating a Source File with se
  16 Compiling, Linking, and Running Your Program
  20 Debugging Your Program
     22 Using SAS/C Tools from the Shell
  22 Creating a Source File with se
  22 Compiling, Linking, and Running Your Program
  25 Debugging Your Program
     25 Using Icons




     Introduction

     This chapter introduces the primary features of the SAS/C Development
     System. It shows you how to perform the following tasks:

     [] set up a project
     [] set compiler options for the project
     [] create a C source file
     [] compile, link, and run a C program
     [] use the debugger to look at your program.

       As you perform these tasks, the SAS/C Development System creates
     several icons. The icons it creates depend on the filename extension of the
     file you create. The last section in this chapter, "Using Icons," describes
     the default icons for each of these files and how to customize these icons.
       Each of the tools used to perform these tasks are described in more
     detail in subsequent chapters in this book and in SAS/C Development
     System User's Guide, Volume 2: Debugger, Utilities, Assembler,
     Version 6.0.
       The SAS/C Development System provides an environment based on
     Intuition from which you can perform each of these tasks. However, you
     can also perform these tasks from the Shell.

14 Chapter 2




     Using SAS/C Tools from the Workbench
     Screen
   
     The following sections describe how to use the SAS/C Development
     System from the Workbench screen. Specifically, these sections discuss
     the following:

     [] setting up a project using the scsetup utility
     [] creating a C source file using the se editor
     [] setting compiler options for the project using scopts
     [] compiling and linking a program using the Build icon
     [] running your program
     [] using the debugger to look at your program.

     This chapter provides example directions that you can enter on your
     machine as you read through the chapter. These examples illustrate how
     the many features of the SAS/C Development System work together.


Setting Up a  To make your C development work easier, you can set up either a new or
     Project  existing project using the scsetup utility. When you set up a project,
       scsetup creates icons for any files or directories that already exist in
       the project and copies the contents of the sc: starter_project
       directory into the project. The starter_project directory contains
       icons for each of the tools you need most often during your development
       work:

       SCoptions starts the scopts utility and allows you to specify the
   compiler options with which you most often want to
   compile the programs in the directory you are setting up.

   Debug  starts the CodeProbe Source Level Debugger.
   Build  starts the smake utility. smake is a utility that helps you
   manage projects that are composed of many files.

    Edit  starts the editor, se. You can substitute your own editor
   for se by selecting Info from the Workbench pull-down
   menu and changing the default tool in the Edit icon from
   sc:c/se to your editor.

  It is recommended that you do not place your source code in the sc
       directory tree. Installing updates to the SAS/C Development System is
       easier if you can replace the entire directory without worrying about
       losing any of your own program files.

 Using Your SAS/C Development System 15




   To set up a project, run the scsetup utility by double-clicking the
scsetup icon in the sc:c drawer. scsetup asks you for the name of
the new project drawer (directory). For example, to create a new
directory called csvuff on the Work: volume, you would enter:


    Work:cstuff


scsetup creates a new directory called cstuff in Work: that contains
the four icons described previously.
   For more information about the scsetup utility, refer to SAS/C
Development System User's Guide, Volume 2.


Creating a  After you set up a directory for your C files, you can start entering 
your Source File C  programs. To create a new file, double-click on the Edit icon 
to start with se  the se editor. se displays a window into which you can enter 
your program.
   Type in the following program:


    #include <stdio.h>
    #include <math.h>
    #include <proto/dos.h>
     
     int main(void)


     {
       int i=42;
       double d
      
       d=i/2;
       printf("i = %d, d=%2.1f\nl",i,d);
       Delay(60);
       return(O);



   Note: Enter this text exactly as shown. The semicolon missing from
the declaration of d produces an error message that is used to illustrate
scmsg, the message browser utility.

16 Chapter 2




  If you enter any text differently from that shown here, simply use the
backspace or delete key to delete the incorrect characters and correct the
error. When you have finished entering the program, you must name the
file, save it, and close the editor window as follows:

  1. Press and hold the right mouse button to display the se menu.
  2. Point to the Project heading in the menu bar to open the Project
     menu.
  3. Select the Rename option. At the bottom of the screen, se asks you
     to enter a new filename for the current file.
  4. Type example.c and press Return.
  5. Hold down the right Amiga key and press the letter S to save the
     file and close the editor window.

Under AmigaDOS 1.3, the icon for this new file is not displayed until you
close and reopen the window for the directory in which you created the
file. If necessary, close and reopen the window to display the icon for
example.c.
For more information about the se editor, see Chapter 4, "Using se,"
and Chapter 5, "Controlling se."


Compiling,  After you have created a C source program using the editor, you can
Linking,  and compile, link, and run your program. If you want to compile and link
Running Your  your program with the default compiler options, simply double-click on
Program  the Build icon. However, if you want to change the default values or
specify additional options, you can use the scopts utility. With scopts,
you can set compiler options simply by clicking on the option.
To successfully run the example shown in this chapter, you need to set
additional compiler options.


Setting Compiler Options with scopts

Usually, you compile all of the programs in a project with the same
compiler options. The scopts utility allows you to click on the options
with which you want to compile and to save the options in an
scoptions file in the project drawer.
  To run scopts, double-click on the SCoptions icon. scopts
displays the first of several windows on which you can select the options
with which you want to compile.
  To run the example.c program, you must specify the
math=standard and the link options. To use the message browser as
described in the section "Compiling and Linking with the Build icon," you
must specify the errorrexx option. Also, to use the CodeProbe
debugger as described in the section "Debugging Your Program," later in
this chapter, you must specify the debug=symbolflush option.

   Using Your SAS/C Development System 17




 The link option appears on the first screen that scopts displays, the
 SAS/C Compiler Options Index screen, as shown in Display 2.1.



    Display 2.1
 The SAS/C Compiler
Options Index Screen


To select the link option, click once on the NoLink cycle gadget. The
gadget changes colors, and the text now reads Link.
 To select the math=standard option, click on the CODE
OPTIONS... gadget, and then click once on the NoMath gadget.
NoMath changes to Math=STANDARD. Click on OK to return to the
SAS/C Compiler Options Index screen.
 To select the debug option, click on the COMPILER OPTIONS . . .
gadget, and then click three times on the NoDebug gadget. NoDebug
changes to Debug=SymbolFlush. Click on the OK gadget to return to
the SAS/C Compiler Options Index screen.
 To select the errorrexx option, click once on the MESSAGE
OPTIONS... gadget, and then click on the NoErrorRexx gadget.
NoErrorRexx changes to ErrorRexx. Click on OK to return to the
SAS/C Compiler Options Index screen.
 To save the option settings, click on the Save gadget. The scopts
utility saves the options you select in the file scoptions in the project
directory. When you compile your program, the compiler reads the
options from scoptions.

18 Chapter 2




  For more information about the scopts utility, refer to SAS/C
Development System User's Guide, Volume 2.


Compiling and Linking with the Build icon
After you have selected the appropriate options, you can compile and link
your program by double-clicking the build icon to start the smake
utility.
  smake examines the drawer and determines that it contains only one C
source file, example.c. smake then invokes the sc command to
compile example.c using the options you specified with the scopts
utility.
  When the compiler finds the missing semicolon in your program, the
compiler invokes scmsg, the message browser. scmsg opens a window
in which it displays each of the messages generated by the compiler.
Display 2.2 shows the message browser window generated when you
compile example.c.



 Display 2.2 
The SAS/C Message
Browser Window 


Double click on the message in the message browser window, and the
message browser invokes the editor on the file and line number specified
in the message, as shown in Display 2.3.

Using Your SAS/C Development System 19



 Display 2.3
  The Edit Window
Showing example.c  


  Correct the error by inserting a semicolon at the end of the declaration
for d. Save the corrected file by selecting the Save & Close option from
the Project menu or by pressing Right Amiga-S.
  Close the message browser window by clicking on the Close gadget,
and then close the smake window by pressing Return.
  Recompile and link your program (also referred to as rebuilding your
program) by double-clicking on the Build icon. As before, smake
invokes the sc command to recompile your file. smake then invokes the
linker, slink, to produce the executable module, example. The linker
also creates an icon for the executable module. (If you are running under
AmigaDOS 1.3, you need to close then reopen the project drawer to see
the icon for example.)
  For more information about the scmsg and smake utilities, refer to
SAS/C Development System User's Guide, Volume 2.


Running Your Program
The build process produces an executable module and creates an icon for
this module in the project directory. If the icon for this module is not
displayed, close and reopen the window for the directory in which you
created the file. To run example, double-click on the example icon.

20 Chapter 2




When you run a program from the Workbench screen, the compiler
 opens a standard I/O window in which your program can display output.
 In the case of the example program, the output is as follows:

i = 42, d=21.00

 If you are running under AmigaDOS 1.3, this window closes as soon as
 your program is finished running. For short programs, this window
 opens and closes so fast that it is difficult to see what is displayed in it.
 To make the window stay open for at least a second, the example
 program calls the AmigaDOS function Delay. If you are running under
 AmigaDOS 2.0, this window remains open until you click on its Close
 gadget. For information on changing the attributes of this window, see
 Chapter 9, "Running Your Program from the Workbench Screen."

Debugging Your  When you compile your program with the debug option, you can use the
Program  CodeProbe debugger to monitor the behavior of your program, line-by-
 line, as it executes.
To run the debugger with the example file, click once on the Debug
 icon, then hold down the Shift key and double-click on the icon for the
 executable module. As shown in Display 2.4, CodeProbe opens two
 windows: the Source window that contains the source code for your
 program and the Dialog window into which you can enter CodeProbe
 commands.

Using Your SAS/C Development System 21



  Display 2.4
CodeProbe Windows
 with example.c

  CodeProbe stops on the first line of your main program.
  To step through your program one line at a time, you can press the
  Return key. Pressing the Return key is equivalent to entering the
  proceed command. The current (highlighted) line is the line that will
  execute next if you press Return. Press Return until the line containing
  printf is the current line.
 To display the value of a variable, you can use the display command,
  which you can abbreviate as d. To display the value of the variable d,
  enter d d on the command line of the Dialog window. If you have
  already stepped through the line containing d=i/2;, then the debugger
  displays 21 as the value of d.
 To finish executing your program, enter g (for go) on the command
  line of the Dialog window. You should always finish executing your
  program before quitting CodeProbe, or your machine may be left in an
  uncertain state and may crash later for no reason. To exit from the
  debugger, enter q (for quit).
 The Debugger has considerably more capabilities than those described
  here. For a complete description of the CodeProbe debugger, refer to
  SAS/C Development System User's Guide, Volume 2.

22 Chapter 2




Using SAS/C Tools from the Shell

The following sections describe how to use the SAS/C Development
System from the Shell. Specifically, these sections discuss the following:

[] creating a C source file using the se editor
[] setting compiler options for the project using scopts
[] compiling and linking a program using the sc command
[] running your program
[] using the debugger to look at your program.

If you are doing all of your work from the Shell, you do not need to use
scsetup to set up a directory for your C files. However, you should
create a new working directory using the AmigaDOS makedir command.
It is recommended that you do not place your source code in the sc
directory tree. Installing updates to the SAS/C Development System is
easier if you can replace the entire directory without worrying about
losing any of your own program files.


 Creating a  After you have created a directory for your C files, you can start entering
Source File  your C programs. To create a new file, enter the se command, as
with se  follows:

se

se displays a window into which you can enter your program.
  The se editor works the same whether you start it from the
Workbench screen or from the Shell. See "Creating a Source File with
se" under the previous section, "Using SAS/C Tools from the Workbench
Screen," for a description of entering a sample program.
  Of course, after you save the file and close the window, icons are not
displayed. You are prompted for another command.
  For more information about the se editor, see Chapters 4 and 5 in
Part 2, "Using the Screen Editor (se)."


Compiling,After you have created a C source program using the editor, you can
 Linking, andcompile, link, and run your program. If you want to compile your
Running Yourprogram with the default compiler options, simply enter the sc command
  Programfollowed by the name of the source file. However, to successfully run the
examples shown in this chapter, you need to set additional compiler
options. From the Shell, you can set compiler options using the scopts
utility, or you can specify the compiler options on the sc command line.
The next section, "Setting Compiler Options with scopts," describes two
different ways to use the set options from the Shell. The section

Using Your SAS/C Development System 23




  "Compiling and Linking with sc" describes how to specify options on the
  se command line.


  Setting Compiler Options with scopts

  Usually, you compile all of the programs in a project with the same
  compiler options. The scopts utility allows you to set and save the
  options with which you want to compile the programs in a project.
From the Shell, you can run scopts in two different ways:

  [] You can enter the scopts command followed by the options with
 which you want to compile. For the example programs in this chapter,
 you should enter the following command:

scopts math=standard debug=symbolflush errorrexx link

 You can enter the options in uppercase, lowercase, or in mixed case.
 When you specify options on the scopts command, the scopts
 utility does the following:
1. reads the scoptions file in the current directory, if it exists
2. adds or changes the options, depending on the options you
specify on the scopts command
3. writes the new option settings to the scoptions file in the
current directory.

  [] You can enter the scopts command without specifying options and
 use the scopts screens to set the options:

scopts

 scopts displays the first of`several windows on which you can select
 the options with which you want to compile. For the example program
 in this chapter, you should select the math=standard, link,
 errorrexx, and debug=symbolflush options as described in
 "Setting Compiler Options with scopts" under the previous section,
 "Using SAS/C Tools from the Workbench Screen."

 The scopts utility saves the options you select in the file scoptions
in the project directory. When you compile your program, the compiler
reads the options from scoptions.
 For more information about the scopts utility, refer to SAS/C
Development System User's Guide, Volume 2.

24 Chapter 2


  Compiling and Linking with sc

  If you chose to use scopts to set compiler options, then you can
  compile and link your example.c program by entering the sc
  command as follows:

  sc example.c

  sc reads the options from the scoptions file and compiles your
  program.
However, if you chose not to use scopts to set compiler options, you
  must enter the following command to compile and link the example.c
  program:

sc math=standard debug=symbolflush errorrexx link example.c

 In either case, you specified the link option, so the compiler calls
slink to link your program using the correct libraries. If your program
links correctly, the linker creates an executable module named example.
 When the compiler finds the missing semicolon in your program, the
compiler invokes scmsg, the message browser. scmsg opens a window
in which it displays each of the messages generated by the compiler.
Display 2.2, earlier in this chapter, shows the message browser window
generated when you compile example.c. (However, Display 2.2 shows
the smake window behind the message browser window. On your
machine, you will see a Shell window.)
  Double-click on the message in the message browser window. The
message browser invokes the editor on the file and line number specified
in the message, as shown in Display 2.3, also shown earlier in this
chapter.
 Correct the error by inserting a semicolon at the end of the declaration
for d. Save the corrected file by selecting the Save & Close option from
the Project menu or by pressing Right Amiga-S. Close the message
browser window by clicking on the Close gadget.
 Recompile and link your program by entering the sc command as
before. slink produces the executable module example.
 For more information about the sc command, see Chapter 8,
"Compiling and Linking Your Program."

Running Your Program
To run a program, enter the program name at the AmigaDOS prompt. To
run example, enter the following:

example

Using Your SAS/C Development System 25


  The example program displays the following output:

i = 42, d=21.00

Debugging Your  When you compile your program with the debug option, you can use the
 Program  CodeProbe debugger to monitor the behavior of your program, line by-
  line, as it executes.
To run the debugger with the example file, enter the following
  command at the Shell prompt:

cpr example

  As shown in Display 2.4, CodeProbe opens two windows: the Source
  window that contains the source code for your program and the Dialog
  window into which you can enter CodeProbe commands.
Enter debugger commands as described in "Debugging Your Program"
  under the previous section, "Using SAS/C Tools from the Workbench
  Screen."
To finish executing your program, enter g (for go) on the command
  line of the Dialog window. You should always finish executing your
  program before quitting CodeProbe, or your machine may be left in an
  uncertain state and may crash later for no reason. To exit from the
  debugger, enter q (for quit).
The Debugger has considerably more capabilities than those described
  here. For a complete description of the CodeProbe debugger, refer to
  SAS/C Development System User's Guide, Volume 2.



  Using Icons

  The tools included with the SAS/C Development System produce icons for
  most files that they generate. The sc: icons drawer contains template
  icons used by these tools. The icons in this drawer all have names
  starting with def_. With the exception of def_exe and def_se, the
  letter or letters after the def_ represent the file extension of the files for
  which the icon is intended. For example, the def_c icon is the icon for
  files that end in .c (C source files), and the def_h icon is the icon for
  files that end in .h (C header files). If a file does not have an extension
  (that is, the filename does not contain a period), the entire filename is
  used as an extension. Therefore, you can create a default icon for
  smakefile files called def_smakefile. If a SAS/C tool needs to
  create an icon, it copies the icon matching the file's extension from
  sc: icons to the correct directory and renames the icon to match the
  new filename.

26 Chapter 2




If you save a file for which the editor cannot find an icon in
  sc: icons, the editor uses the default icon def_se. Whenever the
  linker creates icons for executable modules (which do not have filename
  extensions), it uses the icon def_exe.
The following table lists, for each tool that creates icons, the different
  types of items for which they create icons and the default icon each tool
  uses.


 CommandItemIcon
 __________________________________________________
 sc listing files def_lst
object files  def_o
preprocessor output  def_p
generated prototypes def_h
GST filesdef_gst

 slink executable programs  def_exe
map filesdef_map

 se any saved filedef_se is used if the correct icon
does not exist

 scsetup  creates icons for any file with an extension for which an
icon exists in sc: icons.


  By default, the SAS/C Development System does not create icons for
object (.o) files. However, the compiler and assembler check for an icon
called def_o when they create an object file. If you want to see icons for
object files, create an icon named def_o. info using any icon editor
and save it to the sc: icons drawer under the name def_o.
  To prevent all of the SAS/C commands from creating icons, rename the
sc: icons drawer to sc: noicons or to any other name you like. If a
tool cannot find the icons drawer, it does not create an icon.
  To prevent a specific type of icon from appearing, rename or delete the
template for that icon from the sc: icons drawer. For example, if you
do not want your header (.h) files to have icons, rename or delete the
def_h icon.
  You can modify the icons in the sc: icons drawer in any way you
choose. For example, you could replace the provided imagery with your
own art work.
For additional information on using icons, refer to the descriptions of
the Information option or Information window in Using the System
Software (Commodore-Amiga, Inc. 1990).

27



3 Getting Help

 27 Introduction
 27 Using the Help System
 29 Contacting the Technical Support Division
29 Deciding When to Call Technical Support
30 Contacting Technical Support by Phone, Mail, or Fax
31 Contacting Technical Support through BIX
31 Contacting Technical Support through Internet or Usenet
33 Collecting the Information Needed by Technical Support




 Introduction

 This chapter describes how to get help with any of the features of the
 SAS/C Development System. You have three primary sources of help:

 [] Appendix 1, "Solving Common Problems." Appendix 1 describes
 solutions to the questions that users ask most frequently when they
 contact the Technical Support Division. This appendix also includes
 Questions that the Technical Support Division anticipates will be
 generated by the conversion to Version 6.
 [] The online help system. This system describes how to use each of the
 features provided by the SAS/C Development System.
 [] The Technical Support Division. You can contact the Technical Support
 Division if, for example, the compiler generates bad object code or
 error messages for correct code. Read the section "Contacting the
 Technical Support Division," later in this chapter, before contacting the
 Technical Support Division.



 Using the Help System

 The SAS/C Development System provides an extensive online help facility
 using the AmigaGuide hypertext system provided by Commodore. From
 within se, scopts, scmsg, and CodeProbe, you can display help
 information by pressing the Help key. Within CodeProbe, you can also
 enter the help command on the command line. Display 3.1 shows the
 help screen that is displayed when you press the Help key while inside
 se.

28 Chapter 3



  Display 3.1
Editor Help Screen


  You can also display help inform ation by invoking the A migaGuide
system directly with the following command:

amigaguide database-name

The help databases are located in the directory sc: help. You can
specify one of the following databases:

scmsg . guide 
  describes the error and warning messages returned by the compiler.
  When you press the Help key from within scmsg, you are accessing
  this database.

cpr.guide
  describes the purpose of and parameters accepted by each of the
  CodeProbe commands. When you press the Help key from within
  CodeProbe, you are accessing this database.

se.guide
  describes how to use se. When you press the Help key from within
  the editor, you are accessing this database.

sc_util.guide
  describes how to use each ofthe utilities provided with the SAS/C
  Development System.

  Getting Help 29



sc . guide
describes each of the options you can specify in the sc command.
When you press the Help key from within scopts, you are accessing
this database.

sc_lib.guide
describes each of the library functions. This database also allows you
to display lists of functions by category or view an alphabetical list of
all functions.

 To navigate through a database, simply click on any of the buttons that
 appear on a screen or select an option from the menu bar. The menu bar
 on all of the help screens contains the following options:

  Contents  displays the main help screen for the database that you
  are viewing.

 Index  is a standard AmigaGuide option that is not used by the
  SAS/C Development System.

  Help  displays information about using the help facility.

Retrace  backtracks through the help screens that you have already
  displayed.

  Browse <  displays the previous screen in the database.

  Browse >  displays the next screen in the database.

  To exit the help system, click on the Close gadget.



 Contacting the Technical Support Division

 When you purchased the SAS/C Development System, you received
 access to the SAS Institute Technical Support Division. Technical Support
 can help you with unexpected problems that might arise with the
 compiler. Technical Support also gathers users' comments on the current
 product and their suggestions for enhancements.


Deciding When to Before you call the Technical Support Division, read through Appendix 1,
 Call Technical"Solving Common Problems." This appendix describes the solutions to
Supportseveral frequently encountered problems.
 If you cannot find the answer to your problem in Appendix 1, you may
need to call Technical Support. The following list describes some of the
more common situations for which you should call Technical Support:

 [] The compiler generates an error for code that is correct.
 [] The compiler does not generate an error or warning for code that is
  incorrect.

30 Chapter 3



 [] The compiler generates bad object code.
 [] The compiler detects an internal error (CXERR) condition.
 [] The compiler or any utilities crash or end abnormally.
 [] The library functions or utilities do not perform as specified.
 [] The manuals contain errors or do not provide enough information.


  ContactingIf you live in the United States, Europe, or Canada, you can contact the
TechnicalTechnical Support Division in writing, by phone, or by fax:
 Supportby
 Phone, Mail,
  or Fax Address:SAS Institute Inc.
  ATTN: Amiga SAS/C Technical Support
  SAS Campus Drive
  Cary, North Carolina 27513
  USA

 Phone:919-677-8009

Fax:  919-677-8123



 If you live in Australia, you should contact our Australian office:



 Address: SAS Institute Australia Pty. Ltd.
ATTN: Amiga SAS/C Technical Support
Private Bag No. 52
Lane Cove, NSW 2066

 Phone:(02) 428 0428

 Fax:  (02) 418 7211




 If you live in New Zealand, you should contact our New Zealand office:



 Address: SAS Institute (NZ) Ltd.
ATTN: Amiga SAS/C Technical Support
PO Box 10-109
The Terrace
Wellington

 Phone:(04) 727 595

 Fax:  (04) 727 055

Getting Help 31




  Whether you choose to call, send a letter, or send a fax, make sure you
  include or have with you all of the information described in the section
  "Collecting the Information Needed by Technical Support."


  Contacting BIX (Byte Information Exchange) is a subscription service bulletin board
Technicalsystem available to users in Canada and the Continental United States.
Support through  You can contact BIX at the following address:
  BIX


Address: BIX/General Videotex Corporation
 1030 Massachusetts Avenue
 Cambidge, MA 02138
 USA

Phone:1-800-695-4775 (outside Massachusetts)
617-354-4137 (inside Massachusetts)




 You can sign up for a BIX subscription as follows:

 1. Through a modem, dial BIX at 1-800-225-4129.
 2. At the login: prompt, enter bix.
 3. At the Name? prompt, enter bix.amiga.

 When you subscribe to BIX, you receive a user's manual that covers all
aspects of their services, including:

[] the various conferences available
[] how to access a conference
[] how to access source listings.

 SAS Institute maintains a support conference on BIX named sas.c.
This conference is monitored Monday through Friday for new messages.
You can contact Technical Support by posting messages to this
conference.
 Note: Do not post your registration number to the public conference.
 You can also send private email messages on BIX to the ID sas.c (the
same name as the conference).
 Whether you choose to post to the public conference sas.c or to send
a private message, make sure you include all of the information described
in the section "Collecting the Information Needed by Technical Support."


Contacting  You can also contact the Technical Support Division through Internet
 Technical  using the EMITS (Electronic Mail Interface to Technical Support) facility.
Support through
Internet or
 Usenet


32 Chapter 3




  EMITS logs your mail for the attention for the Technical Support Division
  and sends an email message acknowledging receipt of your mail.
  Before you can use this facility, you must register with EMITS. If you
  have accounts on multiple machines, register from the same host system
  that you want to use for sending messages to the Technical Support
  Division. EMITS extracts your email address from the header of your
  message and uses this address as your account ID. You may register from
  multiple machines if you want to send messages to Technical Support
  from more than one machine. Register with EMITS by sending the
  following information to support@sas.com:

./register=your name
./site=registration number
./company=company name or your name (if registering a private copy)
./phone=phone number

Include the word EMITS in the subject of the message. Begin the ./ in
column 1.
Mail that does not include all of this information or that is syntactically
incorrect is returned to you.
Here are some examples:

./register=John Doe
./tsite=SAS-OOOOO1
./company=Jane Doe
./phone=(555)555-5555

Note: Your phone number does not need to conform to this syntax.
 You can specify phone numbers in any form necessary.
When your account has been added, EMITS notifies you by email and
 sends you a complete guide to using EMITS.
There are several points to keep in mind when sending mail to EMITS.

  [] All email messages to EMITS should be sent to support@sas.com.
  [] All email messages intended for EMITS must contain the words EMITS
in the subject.
  [] EMITS is not case sensitive.
  [] EMITS can process only one request for each email message you send.
For example, send two separate email messages to
support@sas . com to register and to request the help file.

When you contact Technical Support through EMITS, make sure you
  include in your message all of the information described in the next
  section.

Getting Help 33




Collecting the  The Technical Support staff requires specific information before they can
  Informationhandle your questions. Include the following information in your
Needed bycorrespondence, or have this information ready if you call:
 Technical
Registration number
  Technical Support cannot answer any questions unless you provide a
  valid registration number. This number is found on a cardboard sheet
  included with the compiler documentation. The postcard that is part of
  that sheet should be torn loose and mailed to SAS Institute as soon as
  possible after purchasing the compiler. Please keep the other portion
  of that sheet with your documentation. If you have upgraded the
  compiler from an older, registered release, you do not need to send in
  the new card. If you decide to send in the new card, please note your
  old number, so that it may be removed from our database. If you do
  not know your registration number, please contact Book Sales at
  (919) 677-8000, extension 5042.
If you purchased your copy of the compiler from someone who has
  already registered with us, please contact Book Sales with the
  following information:

  [] the name, address, phone number, and registration number for the
previous owner, so that their name may be removed from our
database.
  [] your name, address, phone number, and registration number so
that you may be added to the database and become eligible for
Technical Support.

  Version number
The version number of the compiler is displayed in the header that
appears on the screen each time you run the compiler. You can also
display the version number with the AmigaDOS version command.

  Return address and phone number
If you send a letter or fax, include your return address in the
correspondence--not just on the envelope. Whether you call or
write, Technical Support will need a phone number where you can be
reached from 9:00 am to 5:00 pm EST.

  Complete problem description
Include all error messages and symptoms of the problem. If you are
not able to call when you have access to your machine, write down
the following information before contacting Technical Support:

[] the exact text of any error messages, guru meditation numbers, and
 so on, that you see on the screen
[] whether the problem occurs when you are compiling, linking, or
 executing your program


34 Chapter 3




[] any commands, options, or code needed to consistently reproduce
 the problem (for example, compiler or linker options and CodeProbe
 commands).
[] any parts of the product that you chose not to install.
[] the configuration of your machine, including the type of processor,
 the amount of memory, and the version of the AmigaDOS operating
 system.


 If you have problems with a large piece of code, try to isolate the code
 that is causing the problem into a test case of 30 lines or less.
 Technical Support staff can respond faster if you can reduce the
 problem to a small test case.

35




[] Part 2
  Using the Screen
  Editor (se)





Chapters  4 Using se
5 Controlling se
6 Customizing the Editor
7 Using the AREXX Interface to se


36

37





4  Using se


  37 Introduction
  38 Starting the Editor
  39 Reading the Status Line
  40 Moving Around in a File
  40 Entering and Editing Text
41 Searching for and Replacing Character Strings
43 Working with Blocks of Text
44 Undoing Your Last Change
45 Using Keystroke Macros
46 Entering Control Characters
  46 Saving Your File and Exiting se
  47 Managing Windows
  48 Compiling from within the Editor
  48 Getting Help




 Introduction

 This chapter describes how to use the editor, se. Specifically, this chapter
 describes how to:

  [] invoke the editor
  [] insert text into and delete text from a file
  [] search for and replace character strings
  [] create and use keystroke macros
  [] save your file and exit the editor
  [] open, close, and switch between windows
  [] compile your program from within se
  [] get help from within se.

  This chapter describes the most commonly used features of se. It does
  not cover all of the commands available or all of the ways in which you
  can execute commands. Chapter S, "Controlling se," contains
  comprehensive lists of the commands available in se.
 Note: The instructions in this chapter assume that you are using the
  default keystroke definitions. If you have customized your key definitions
  with the se configuration window, use your customized keystrokes when
  required.


38 Chapter 4




Starting the Editor
You can start se by:

[] double-clicking on the Edit icon.
[] entering the se command at the Shell prompt.

The se command has the following format:
 se [option] [filename]...

 where option is one of the following:

 -v
 displays the se version number and copyright statement and exits se.
 If you specify the -v option, se ignores anything else you specify in
 the se command. You need the version number from this display if
 you call the Technical Support Division for help with se.

 -dfilename
 uses the data file that you specify instead of se . dat. This file
 contains keyboard definitions and default information, including color,
 window size, and so on. When you start the editor, se looks for a
 data file. By default, se looks for se . dat in env: sc and, if it does
 not find the file, se looks in sc: env. You can tell se to use a
 different data file by specifying the filename with the -d option.

 If you start se by double clicking on the Edit icon or by entering the
  se command without a filename, se displays an empty edit window.
 When you start se from the Shell prompt, you can specify the names
  of the files that you want to edit. If you specify more than one filename,
  se opens a window for each file. se displays the first file in the top
  window and the second file in the bottom window. If you enter more
  than two filenames, you must press the F6 (cycle windows) key to display
  the additional files. You can specify up to nine filenames on the se
  command line.
 For example, you can edit the files hello.c and example.c from
  the sc/examples directory by entering the following commands:


  cd sc:examples
  se hello.c example.c


Display 4.1 shows the two edit windows displayed by se.


Using se 39



  Display 4.1 
Editing hello.c and
example.c


At the bottom of each edit window is a status line that shows, among
other things, the name of the file in that window. The last two lines on
the screen are the lines that se uses to display messages and to prompt
you for additional information.
You can have up to nine files open at one time. To open an additional
file, select Open Window from the Windows pull-down menu. se asks
you for the file that you want to open. If you are running AmigaDOS 2.0,
se displays a file requester. Each open file is displayed in a different
window, and you can switch between files by selecting Switch Windows
from the Windows pull-down menu. The current window is the window
that contains the cursor.
The default text window size is 20 lines by 78 columns. You can set
each window to occupy a half screen or a full screen by selecting Toggle
Display Size from the Windows pull-down menu.


Reading the Status Line

The status line contains the following items:

[]  current line number.
[]  current column number. If you turn on the Column Display option
  from the se configuration menu, se displays the current column
  number in the status line. Chapter 6, "Customizing the Editor,"
  describes how to use the se configuration menu.


40 Chapter 4




 [] current filename.
 [] the current mode. You can switch between two modes, insert mode
  and overwrite mode, by pressing the Insert key (NUM-O). In insert
  mode, any character you enter is inserted at the current cursor
  position. In overwrite mode, any character you enter replaces the
  character at the current cursor position.
 [] window number. se displays the window number within braces. For
  example, for window number 2, se displays ( 2 ).
 [] keystroke saver active indicator. By default, the Alt-n key sequence
  starts recording your keystrokes in that macro. On the status line, se
  displays the number n that you entered. For more information on
  creating keystroke macros, see "Using Keystroke Macros," later in this
  chapter.
 [] marked block indicator. When you mark a block of text, se displays
  [*] in the status line. The section "Working with Blocks of Text,"
  later in this chapter describes how to mark a block of text.



 Moving Around in a File

 In addition to the arrow keys, you can use the following keys to move
 around in your file:

 Home (NUM-7)
  moves the cursor to the beginning of the current line

 End (NUM-1)
  moves the cursor to the end of the current line

 Control-Home
  moves the cursor to the beginning of the file

 Control-End
  moves the cursor to the end of the file

 PgUp (NUM-9)
  displays the previous page of text

 PgDn (NUM-3)
  displays the next page of text.



 Entering and Editing Text

 The following paragraphs describe the most common commands used to
 insert and delete characters. se offers many more commands that are
 described in Chapter 5, "Controlling se."
 When you first open your file, you are in insert mode. Any character
 that you enter is inserted at the current cursor position. If you press the


  Using se 41




Insert key, se switches to overwrite mode, and any character you enter
replaces the character at the current cursor position. Each time you press
the Insert key, you switch modes.
 As stated previously, the default window width is 78 columns. The
maximum line length in se is 256 characters. If you have not selected
Autowrap from the Options pull-down menu in the se configuration
menu, then se does not automatically start a new line when you type
past column 78. Instead, se moves the text to the left so that you can
still see what you are typing. When you press Return, se redisplays the
window beginning with column 1 and displays a greater than (>) sign at
the right side of the screen on the line that exceeds 78 columns. (For
more information about the Options pulldown menu, see Chapter 6,
"Customizing the Editor.")
 You can use the following keys to delete text:

Backspace deletes the character to the left of the cursor

Delete deletes the character at the cursor position

Control-Y deletes the current line

Control-E deletes all characters from the current cursor position to the
  end of the current line.

If you decide you want to restore the last line that you deleted with
Control-Y, press Alt-Y.


  Searching for  The following sections describe the Search command and the Search and
 and Replacing  Replace command. To use these commands, you can enter strings as
Character Strings  regular expressions or as simple character strings. By default, se expects
you to enter regular expressions. Regular expressions are character
strings that may contain characters that have special meanings. For
example, abcd, a little lamb, and [tT]+he$ are all valid regular
expressions. "Entering Regular Expressions," later in this chapter,
provides additional information on using regular expressions under se.
 If you select String Matching as the Searches Method in the se
configuration menu, then se interprets any special regular expression
symbols as plain text.

Searching for Character Strings
To search for a character string, press Right Amiga-F. se asks you to
enter the string for which you want to search:


  REGULAR EXPRESSION SEARCH STRING: (MENU KEY to search backwards)


To search forward (from the current position toward the end) through
the file, type the character string and press Return.


42 Chapter 4




Note: The Search and Search and Replace commands are case-
 sensitive. Enter the character string exactly as it appears in the file.
To search backward (from the current position toward the beginning)
 through the file, press the F2 key, and se displays the following prompt:


 (BACKWARDS) REGULAR EXPRESSION SEARCH STRING:


  Type the character string and press Return.
 After you press Ruturn, se positions the cursor at the first occurrence
  of the character string. To repeat the search, press Right Amiga-A.


  Replacing Character Strings
  To replace one character string with another character string, press Right
  Amiga-R. se displays the same prompt as if you had pressed Right
  Amiga-F. You can type the character string that you want to replace and
  press Return, or you can press the F2 key if you want to search
  backward through the file. If you press F2, se displays the same prompt
  as if you were simply searching for the string, and you should type the
  character string that you want to replace and press Return.
 After you enter the character string for which you want to search, se
  prompts you for a second character string:


 REPLACE STRING:


Type the string with which you want to replace the first character string
and press Return. se then asks you if you want to be prompted before it
replaces any occurrences of the first string with the second string:


 REPLACE:  PromptNo Prompt


If you want se to ask you before it replaces any strings, select Prompt.
(Use the arrow keys to highlight Prompt and press Return, or press the
letter p.)
  If you select No Prompt, se replaces all occurrences of the first string
with the second string from vhe current position through the remainder
of the file. (That is, to the end of the file for a forward search or to the
beginning of the file for a backward search).
  If you select Prompt, se positions the cursor at the first occurrence of
the character string, and asks you what you want to do:


REPLACE:  Yes  No  Quit  Global


  Using se 43




Select one of the options:

Yes  replaces the string and positions the cursor at the next
  occurrence of the character string.

Nomoves the cursor to the next occurrence of the character string.

  Quit  stops the search and replace without replacing any strings.

Global  replaces all remaining occurrences of the string without
 displaying any prompts.

You can highlight your selection by pressing the arrow keys or by
pressing the first letter of the option.


Entering Regular Expressions
As previously stated, regular expressions are character strings that may
contain characters that have special meanings. Regular expressions are
also referred to as patterns.
  Refer to the section "Specifying the Pattern" in the description of the
grep utility in`SAS/C Development`System User's Guide, Volume 2:
Debugger, Utilities, Assembler, Version 6.0 for a complete description of
entering regular expressions. se supports regular expressions in the
same manner as grep except that you do not need to enclose in double
quotes (") a string that contains spaces. For example, to search for the
string a little lamb, you would enter a little lamb instead of "a
little lamb".


 Working with  You can copy, delete, move, print, and write entire blocks of text within
Blocks of Text  the same file, between different files, or to and from the clipboard. To
perform an operation on a block of text, you must first mark the block.
  You can mark a block of text in one of two ways:

[]Position your cursor on the first character that you want included in
the block, and press Control-[. se displays a left bracket in the status
line. Then, position your cursor after the last character that you want
included in the block, and press Control-].
 []  Position your mouse cursor on the first character that you want
included in the block, and press and hold down the left mouse button.
Move the mouse cursor to the last character that you want included in
the block, and release the mouse button.

se displays the marked block in reverse video and displays [*] in the
status line. You can have only one marked block at a time.
 After you have marked a block, you can delete or print the block by
selecting the appropriate option from the Block pulldown menu. You can
move or copy the block to another open file by positioning the cursor at


44 Chapter 4




the location to which you want to move or copy the block and selecting
the appropriate option from the Block pull-down menu. You can also use
the keyboard shortcuts displayed beside the menu selection.
To write the block to a file that is not open, select the Write option
from the Block pull-down menu. se asks you to enter the name of the file
to which you want to write the text:


WRITE BLOCK TO FILE:  Filename


Type the appropriate filename and press Return. se writes the block to
the filename you enter. The block text replaces any text that is already in
the file.
If you mark a block of text and then decide that you do not want to
perform any operations on the block, you can unmark the block by
pressing Control-[, then Control-] without moving the cursor.
 Note: The Read option in the Block pull-down menu performs the
same function as the Insert File option in the Project menu.


Undoing Your  se remembers the changes you entered for the last 50 lines that you
 Last Changechanged, inserted, deleted, and so on. You can undo these changes with
the undo command. You can run the undo command in any of three
ways:

[] press Right Amiga-U
[] press Control-U
[] select Undo Last Change from the Project menu.

 When you select the undo command, se displays a prompt depending on
 the last command you entered:


UNDO -- DELETE INSERTED LINE?:  Yes  No
UNDO -- DELETE ADDED BLOCK?:  Yes  No
UNDO -- RESTORE DELETED BLOCK?:  Yes  No
UNDO -- RESTORE DELETED LINE?:  Yes  No
UNDO -- RESTORE REPLACED LINE?:  Yes  No


  Select the appropriate answer and press Return.
Note: se remembers changes for the last 50 lines only. If you delete
  or add a block of text larger than 50 lines, se remembers only the first
  50 lines.


Using se 45




Using Keystroke  If you need to perform repeatedly a task that requires several keystrokes,
  Macros  you may want to create a keystroke macro to do the task. If you save
  your keystrokes as a macro, then you can perform the task by pressing
  only the Alt key and a function key.


  Creating and Replaying Keystroke Macros

  To create a keystroke macro, hold down the Alt key and press a number
  (0-9) key (for example, Alt-O). The number that you press is displayed in
  the right side of the status line between the window number and the
  marked block indicator (if present). se displays the following message:


Key Saver Begun


Note: If you press 0, the status line shows the number 10.
From this point, all of your keystrokes are stored as part of the macro.
Enter all of the keystrokes necessary to perform the task. After you have
completed the task, press Alt and the same number key again to stop
recording keystrokes. To execute, or replay, the macro, press Alt-Fn,
where n is the number you pressed to define the macro (for example,
Alt-F10).
Any macros you define are saved until you exit from se. The following
section, "Saving and Reloading Keystroke Macros," describes how to save
keystroke macros in a file and reuse them later.


Saving and Reloading Keystroke Macros
If you do not save your keystroke macros in a file or convert them to a
key as described under "Assigning a Macro to a Different Key," they are
lost when you complete your editing session and terminate se.
To save your keystroke macros in a file, select the Save Macros option
from the Project pull-down menu. se prompts you for a filename in
which to save the macros:


SAVE MACRO FILE: SPECIFY MACRO FILENAME (default is SE.MAC)


Type a filename and press the Return key.
To reuse your macros, select the Load Macros option from the Project
pull-down menu. se prompts you for the name of the file in which you
saved the macro definitions:


LOAD MACRO FILE: SPECIFY MACRO FILENAME (default is SE.MAC)


46 Chapter 4




Type the filename and press the Return key. The file that you specify is
loaded over any macro files that you may have already loaded. se does
not check the file to determine if the file is a valid macro file.


Assigning a Macro to a Different Key
When you create a keystroke macro, that macro is assigned to one of the
10 possible Alt-Fn key sequences. If necessary, you can assign one or
more of the macros to a different key sequence. For example, you may
want to assign the Alt-F10 macro to Control-Z.
 After you assign a macro to a key, you can edit and save the macro
using the se configuration window.
 To assign a keystroke macro to a different key sequence, select the
Convert Macro to Key option from the Options pull-down menu. se asks
you to enter the macro number:


 Enter the macro number to convert to a key(l-10)


Type the appropriate number and press Return. To convert macro
number 10, type the number 10, not just a 0 as you did when you
created the macro.
 se displays the keymap portion of the configuration window. Select the
key sequence to which you want to assign the macro by clicking on or
pressing the appropriate keys such as the Control key and the letter Z.
After you have selected the keys, click on the Close gadget.
 To save the macro assignment for your next editing session, you must
redisplay the se configuration menu by selecting the Configuration
Window option from the Options pull-down menu. Then, click on the
Save gadget or select the Save As option from Project pulldown menu.

Entering ControlYou can enter control characters into your text file by preceding the
Characterscontrol character with the se escape character, Control-\. For example,
to enter a form feed character into your text file, press
Control-\ Control-L.



Saving Your File and Exiting se

After you have finished editing your file, you can save the file, exit the
file without saving your changes, and/or exit se.
You cannot save an unnamed file. If you started se by double clicking
on the Edit icon or by entering the se command without a filename,
then you must name the file before you can save it. To name the file,

Using se 47




  select the Rename option from the Project pulldown menu. se asks you
  to enter a filename:


ENTER NEW FILENAME for current file:


  Type the appropriate filename and press Return. You can now save the
  file and quit se.
To save your file and/or quit the editor, select the appropriate option
  from the Project pull-down menu:

  Save & Close
 saves your file and closes the current window. If you have only one
 window open, this option also terminates se. If you have more than
 one window open, the next window becomes the current window.

  Close Window
 closes the current window. This option does not save your file. If you
 have only one window open, this option also terminates se. If you
 have more than one window open, the next window becomes the
 current window.

  Save & Continue
 saves your file. This option does not close any windows.

  Save & ReOpen
 saves and closes your file, then asks you for the name of a new file to
 edit. This option does not open an additional window to edit the new
 file.

  Exit SE
 terminates the editor. This option does not save your file.

  You may also use the keyboard shortcuts displayed beside the menu
  options.



  Managing Windows

  In se, you can have up to nine files open at one time, and each open file
  is displayed in a different window.
To open an additional window, select the Open Window option from
  the Windows pull-down menu. se asks you for the name of the file to
  read into the new window:


 OPEN WINDOW: Filename (Menu Key for view mode only)


  Type the appropriate filename and press Return.

48 Chapter 4




If you have only one window open, that window occupies the entire
 screen. By default, if you open two or more windows, se displays two
 windows at a time in split-screen mode. In split-screen mode, each
 window occupies half of the screen. Display 4.1, earlier in this chapter,
 shows two windows in split-screen mode.
In split-screen mode, you can move between the two currently
 displayed windows by pressing Control-F6. Within the same window, you
 can cycle through the remaining (hidden) windows by pressing F6.
To switch between split-screen mode and full-screen mode, select the
 Toggle Display Size option from the Windows pull-down menu. To display
 the names of each open file, select the Display Names option from the
 Project pull-down menu.



 Compiling from within the Editor

 Before you compile your program, make sure that you have the correct
 options specified in scopts. To specify compiler options from within se,
 press Control-F4 to run the scopts utility. If you change any settings,
 save the new settings before exiting scopts.
To compile your program, press F4. se displays a message telling you
 that your program is compiling. If the compiler finds any errors in your
 program, it sends the errors to the scmsg utility, and scmsg displays
 the errors in the Message Browser window. To locate the line causing an
 error, double-click on the error message. To move to the next error,
 press F5.
For additional information on using the scmsg and scopts utilities,
 refer to Chapter 2, "Using Your SAS/C Development System," or to the
 description of the scmsg utility in SAS/C Development System User's
 Guide, Volume 2.



 Getting Help

 To display help in se, press the Help key or press F1. se displays either
 the SAS/C Screen Editor Help menu or context-sensitive help information
 for the command you are executing. Chapter 3, "Getting Help," describes
 how to use the help system.

  49





5 Controlling se




49 Introduction
 ` 50 Selecting Menu Options
51 Moving Around in the File
52 Inserting Text
52 Delehng Text
53 Working with Blocks of Text
53 Searching for and Replacing Strings
54 Managing Windows
54 Changing Colors
55 Creating and Using Keystroke Macros
55 Editing a New File
56 Naming Files
56 Undoing Changes
56 Saving Your File and Exiting the Editor




 Introduction

 This chapter describes all of the commands available within se and how
 to invoke each command. Some of the commands listed in this chapter
 are described in more detail in Chapter 4, "Using se."
Note: This chapter describes the default keystroke definitions. If you
 have customized your key definitions with the se configuration window,
 substitute your customized keystrokes when necessary.
The first section in this chapter, "Selecting Menu Options," describes
 the different ways in which you can select options. The remaining
 sections describe the options and commands you can use to perform
 specific tasks:

 [] moving around in a file
 [] inserting text
 [] deleting text
 [] marking, copying, deleting, and moving blocks of text
 [] searching for and replacing character strings
 [] opening, closing, and changing windows
 [] creating and using keystroke macros
 [] editing a new file
 [] saving your file and exiting the editor.

50 Chapter 5





 Each section includes a table that shows, for each specific task, which
 keys/options to press/select to perform the task. For example, to move to
 a specific line in your file, you can:

 [] Press Control-L.
 [] Press Right Amiga-L.
 [] Select the Line Number option from the Search pull-down menu.



Selecting Menu Options

You can select an option or enter a command in one of three ways:

[] Select an option from a pull-down menu.
[] Enter the appropriate accelerator key for the option or command.
Many of the menu options are also associated with menu accelerator
keys (also called keyboard shortcuts). These shortcuts are displayed to
the right of the option in the pull-down menus. For example, the
keyboard shortcut for the Save & Close option in the Project menu is
Right Amiga-S.
[] Select an option from the abbreviated menus displayed with the F2
(Main Menu) key. If you press the F2 key, se displays an abbreviated
menu of the most frequently used commands at the bottom of the
screen:


  COMMAND: B C F H L O P R S Q U


Each of these options either displays a submenu or executes a
command. For example, B displays the Block menu, and Q exits the
editor. To display a brief description of an option, move the cursor to
that option.

 se also provides context-sensitive help that describes each command in
 detail. To display help information, press the Help key.

 Controlling se 51




  Moving Around in the File
  The following table lists the keys/options that you can use to move
  around in your file.



TaskKey  Menu/Option
______________________________________________________________________________
Move up one lineUp arrow
Move down one line Down arrow
Move left one characterLeft arrow
Move left one word Control-Left arrow
Shift-Left arrow
Move right one character  Right arrow
Move right one wordControl-Right arrow
Shift-Right arrow
Go to a specific lineControl-LSearch/Line Number
Right Amiga-L
Go to the beginning of the line  Home
Go to the end of the line End
Go to the top of the file Control-Home
Go to the end of the file Control-End
Move up one pagePgUp
Move down one page PgDn
Scroll the text up Control-6
Scroll the text down Control-V
Go to the beginning of a marked blockBlock/Beginning
Go to the end of a marked blockBlock/End

52 Chapter 5




Inserting Text
The following table lists the keys and options that you can use to insert
text into your file.



Task Key  Menu/Option
____________________________________________________________________________
Switch between Insert and Overwrite modes  Ins
Insert a line before current lineControl-I
Restore deleted line Alt-Y
Enter control characters  Control-\c
Insert a file at current position  Project/Insert File




Deleting Text
The following table lists the keys/options that you can use to delete text
from your file.



TaskKey  Menu/Option
_____________________________________________________________________________
Delete current characterDel
Delete previous characterBackspace
Delete wordControl-W
Delete lineControl-Y
Delete from cursor position to end of line Control-E
Delete a marked block Right Amiga-D  Block/Delete

 Controlling se 53




 Working with Blocks of Text
 The following table lists the keys/options that you can use to mark, copy,
 move, insert, and delete blocks of text. For a more detailed description of
 these commands, see Chapter 4, "Using se."



Task  Key  Menu/Option
_______________________________________________________________________
Mark beginning of block Control-[
Mark end of blockControl-]
Copy a marked blockRight Amiga-C  Block/Copy
Delete a marked blockRight Amiga-D  Block/Delete
Move a marked blockRight Amiga-M  Block/Move
Print contents of a marked block  Block/Print
Read a disk file into the editor windowBlock/Read
Write contents of marked block to a file Block/Write
Go to the beginning of a marked block  Block/Beginning
Go to the end of a marked block Block/End




 Searching for and Replacing Strings
 The following table lists the keys/options that you can use to locate
 character strings and to replace a string with another string. For a more
 detailed description of these commands, see Chapter 4, "Using se."



Task Key  Menu/Option
___________________________________________________________________________
Search for a character string  Control-SSearch/String Search
Right Amiga-F
Replace one character string with anotherControl-RSearch/Search and Replace
Right Amiga-R
Repeat last search or replace command Alt-SSearch/Search Again
Right Amiga-A

54 Chapter 5




Managing Windows
The following table lists the keys/options that you can use to open, close,
and cycle through windows. Some of these commands are described in
more detail in Chapter 4, "Using se."



TaskKey  Menu/Option
________________________________________________________________________
Switch window (in split-screen mode) Control-F6  Windows/Switch Windows
 NUM-S
Cycle windows (in full-screen mode)  F6
Change window sizeF9Windows/Toggle Display
  Size
Switch between 20 lines and 45 lines NUM EnterWindows/Interlace Toggle
 Right Amiga-H
Open new window Control-OWindows/Open Window
Open a new Shell  Control-FWindows/Create New CLI
Move window front to backF10
Close a window  Right Amiga-QProject/Close Window




 Changing Colors
 The colors used in the se windows are based on your Workbench colors.
 You can change the way the Workbench colors are used in the se
 windows with the keys listed in the following table. These keys allow you
 to cycle through the foreground and background colors.



 TaskKey
________________________________________________________________
Cycle foreground colorsF7
Cycle background colorsF8

 Controlling se 55




  Creating and Using Keystroke Macros
  The following table lists the keys/options that you can use to create, save,
  and load keystroke macros. For a more detailed description of these
  commands, see Chapter 4, "Using se."



TaskKey  Menu/Option
___________________________________________________________________________
Start/stop saving keystrokesAlt-n
Execute a keystroke macroAlt-Fn
Save macros in a fileProject/Save Macros
Load macros from a file  Project/Load Macros
Assign keystroke macro to a different keyOptions/Convert Macro to
 Key




Editing a New File
The following table lists the keys/options that you can use to open new
files. For a more detailed description of these commands, see Chapter 4,
"Using se."



TaskKey  Menu/Option
_________________________________________________________________________
Save current file and edit new file Right Amiga-N  Project/Save & Reopen
Open a new file in the current window Right Amiga-O  Project/Open New Window
Open a new file in a new windowControl-OWindows/Open Window


56 Chapter 5




  Naming Files
  The following table lists the keys/options that you can use to change the
  names of files from inside se. For a more detailed description of these
  commands, see Chapter 4, "Using se."



  Task  Menu/Option
  Rename current file Project/Rename
  Display names of files being edited  Project/Display Names



  Undoing Changes
  The following table lists the keys/options that you can use to undo your
  last change.
 Note: The action taken by the Undo Last Change option depends on
  the last command you entered. For a complete description of this option,
  see Chapter 4, "Using se."



TaskKeyMenu/Option
______________________________________________________________________
Restore the last line you deletedAlt-Y

Undo last changeControl-UProject/Undo Last Change
Right Amiga-U




 Saving Your File and Exiting the Editor
 The following table lists the keys/options that you can use to save your
 file and exit the editor. For a more detailed description of these
 commands, see Chapter 4, "Using se."



TaskKeyMenu/Option
__________________________________________________________________________
Save the file in the current window  Right Amiga-W  Project/Save & Continue
Save the file and close the current window  Right Amiga-S  Project/Save & Close
Save current file and edit new file  Right Amiga-N  Project/Save & Reopen
Exit the editor without saving your file F3Project/Exit SE
 Right Amiga-X
57





6 Customizing the Editor




  57 Introduction
  57 Displaying the Configuration Window
  59 Displaying Key Definitions
  60 Setting Key Definitions
  61 Setting Tab Stops
  61 Setting Other Options
  64 Saving the New Settings
  64 Reusing Saved Settings




 Introduction

 This chapter describes how to use the se configuration window. The
 configuration window allows you to set options and change the functions
 assigned to different keys and key combinations (sequences). For example,
 you can do the following:

 [] set the input processing mode
 [] set tab stops
 [] set automatic indention
 [] specify whether searches are to be simple string searches or pattern
 searches
 [] change the command assigned to a key or key combination.



 Displaying the Configuration Window

 To display the se configuration window shown in Display 6.1, open the
 Options pull-down menu on the se menu bar, and select the
 Configuration Window option. (Alternatively, you can press Control-M.)

58 Chapter 6



Display 6.1 
se Configuration
Window 


To display the configuration window menu bar, press and hold the right
mouse button. The menu bar contains six pull-down menus:

Project contains options that allow you to save any changes you make
  while in the configuration menu or to quit the configuration
  window without saving your changes. The sections "Saving
  the New Settings" and "Reusing Saved Settings," later in this
  chapter, describe how to use the Project menu.

Options allows you to specify several options that determine how the
  editor works. For example, you can specify how tab
  characters are processed, whether Search and Replace
  commands are case sensitive, whether the se status line
  shows the current column number, and so on. The section
  "Setting Other Options," later in this chapter, describes how
  to use this option.

 Keys 1-4 lists the different commands that you can assign to a key or
 key combination. The following sections "Displaying Key
 Definitions" and "Setting Key Definitions" describe how to use
 these menus.

 Customizing the Editor 59




Displaying Key Definitions

To display the command assigned to a key or key sequence, you can

[] click on that key or key sequence in the keymap.
[] press that key, if the key is a qualifier key. Qualifier keys are keys that
modify the function of other keys, such as the Control key, the Alt key,
the Shift key, and so on.

For example, to display the definition of Control-F4 as shown in Display
6.2, click on the Ctrl key and the F4 key.



  Display 6.2
se Configuration
Window Showing

  Ctrl-F4



The name of the key or key sequence appears in the Key Name field,
CTRL F4, and the command assigned to the key appears in the text
gadget below the Key Name, CO.
  To determine the function of a specific command, open the Keys pull-
down menus. These menus contain the explanations of each of the
commands that you can assign to a key or key sequence. For example, the
Keys 2 pulldown menu shows the function of the CO command as Set SC
Options.
  The configuration screen also displays the raw code and qualifier
associated with a specific key combination.

60 Chapter 6




Raw code is a hexadecimal code associated with a specific key on the
keyboard by the hardware. The AmigaDOS operating
system uses keymaps to convert this raw code into a
recognizable character.

 Qualifier indicates which qualifier keys are part of a key sequence.
As stated before, qualifier keys are keys that modify the
function of other keys, such as the Control key, the Alt key,
the Shift key, and so on.

  The raw codes and qualifiers are displayed for reference only. For more
  information about raw codes and qualifiers, refer to the description of
  keyboard.device in Amiga ROM Kernel Reference Manual: Devices,
  3rd Edition (Commodore-Amiga, Inc. 1991).
 After you have displayed a key definition, you can press Return to
  unselect the key, clear the text gadget, and remain in the configuration
  program. You can also select CANCEL or click on the Close gadget to
  exit the configuration program.



  Setting Key Definitions

  By default, the left and right Alt keys are equivalent. For example, Left
  Alt-y performs the same function as Right Alt-y.
 You can choose to make the left Alt and right Alt keys work
  independently. That is, you can choose for the left Alt-y key sequence to
  perform a different function than the right Alt-y sequence. Similarly, you
  can choose for the left and right Shift keys to work independently. To
  make the left and right Alt keys or Shift keys work independently, click
  on the check box next to ALT L = R or SHIFT L = R in the bottom
  right of the configuration screen.
 The left and right Amiga keys function independently. You cannot make
  these keys function equivalently.


  Caution Do not define the Control, I-ight Amiga key, left Amiga key sequence.
 This key combination reboots the machine.


To set or change the definition of a key or key sequence, follow these
 steps:
 1. Select the key or key sequence by clicking on the appropriate keys.
For example, to assign a command to the key sequence Control-C,
press or click on the Control key and the C key.
 2. Enter the command code in the text gadget. You can type in the
command code, or you can select the code from the Keys pull-down
menus. Press Return after entering the command code. For
example, to assign the CW (Change Window) command to Control-C,

Customizing the Editor 61




  type in CW and press Return, or select cw from the Keys 2 menu
  and press Return.
You can repeat this step as many times as necessary to create
  complex key definitions.
  3. Save the new settings as described in "Saving the New Settings,"
  later in this chapter.



Setting Tab Stops

By default, tab stops are set at every eighth character, as shown in
Display 5.1.
  You can clear all tab stops by clicking on the Clear tabs gadget. To
set a tab stop, point and click to the place on the tab bar where you want
to set a tab stop. An uppercase T indicates where a tab stop has been set.
To delete a single tab stop, point and click at the tab stop.
  After you have set at least two tab stops, you can set a series of tabs at
equidistant intervals, using the Repeat tabs gadget. When you click on
the Repeat tabs gadget, the configuration program calculates the
interval between the last two tab stops you entered, and sets tab stops for
the remainder of the tab bar using that interval.
  Save the new tab stops as described in "Saving the New Settings," later
in this chapter.



Setting Other Options

The Options pulldown menu in the configuration menu allows you to
specify several parameters, including how your input is processed, how
the Search and Replace commands work, whether the editor saves backup
files, and so on. The following list describes each of the options in the
Options pull-down menu.
  If you change any of the options in the Options pulldown menu, you
must save your changes as described in "Saving the New Settings," later
in this chapter.

Input Processing
controls the mode in which you enter text into se. You can choose
from five modes:

No processing does not convert anything to uppercase or insert
carriage returns when you reach the right margin.
You must press Return at the end of each line.

  Asm modes are designed to make entering assembly language code
easier. In the assembly language modes, the editor
uses the tab stop settings to determine the start of the

62 Chapter 6




  next field. In Asm mode 1, the editor converts
  anything you enter in field 1 into uppercase. In Asm
  mode 2, the editor also converts anything you enter
  in field 2 into uppercase, and in Asm mode 3, it also
  converts anything you enter in field 3. The editor
  does not convert anything entered on a line after you
  enter a comment character (; or *).
In any of the assembly language modes:

  [] When you enter a colon (:), space, or tab character
into the first field, the cursor moves to the second
field.
  [] When you enter a space or tab character into the
second field, the cursor moves to the third field. If
you enter a comment character (; or *), the cursor
moves to the comment field.
  [] When you enter a comment character into the third
field, the cursor moves to the comment field.

  You can enter a comment character into the text
  without causing the cursor to move to the comment
  field by preceding the comment character with a
  backslash (\).

  Autowrap inserts carriage returns into the text when you reach
  the right margin. When the word you are entering
  extends past the right margin, the entire last word is
  moved to the next line.

  The default setting is No processing. This option affects only the
  current window.

  Tab Expansion Method
 specifies whether tab characters are converted to spaces (Expand Tabs
 to Spaces) or left as tab characters (Use TAB Character) . Only the tab
 characters that are entered while Expand Tabs to Spaces is active are
 converted to spaces. Tab characters that already exist are not
 converted when you select Expand Tabs to Spaces. The default setting
 is Use TAB Character. This option affects only the current window.

  Auto-Indent Mode
 is designed to make entering C source code easier. When auto-indent
 mode is on, new lines are indented depending on the following
 criteria:

[] If the previous line contains an open brace ({), the new line is
 indented one tab stop to the right of the previous line.

 Customizing the Editor 63




  [] Otherwise, if the character is a close brace (}), the new line is
  indented one tab stop to the left of the previous line.
  [] For any other character, the new line is indented to the same
  position as the previous line.

The default setting is On. This option affects only the current window.

Column Display
specifies whether the column number is displayed on the status line.
The default setting is Off. This option affects all windows.

Prompt Before Undo
specifies whether you are asked to confirm each undo command. The
default setting is On. This option affects all windows.

Backup File Mode
specifies how you want the editor to deal with backup files. You can
specify one of the following:

[] No Backup File indicates that you do not want the editor to save
backup copies of each file that you edit.
[] Place Backup File in Backup Dir specifies that you want the editor
to save a backup copy of each file that you edit using the same
filename and extension in a different directory. If you select this
option, the configuration program asks you for the name of the
backup directory.
[] Rename Backup with Backup Ext specifies that you want the editor
to save a backup copy of each file that you edit using the same
filename in the same directory as the original file but with a
different filename extension. If you select this option, the
configuration program asks you to enter the backup file extension.

The default setting is No backup file. This option affects all windows.

Searches Method
specifies whether the Search and Replace commands should treat the
search patterns you enter as simple character strings (String Matching)
or as regular expressions (Use Regular Expressions). If you choose to
Use Regular Expressions, you should enter search patterns as
described in the description of the grep utility under "Specifying the
Pattern" in SAS/C Development System User's Guide, Volume 2:
Debugger, Utilities, Assembler, Version 6.0. The default setting is Use
Regular Expressions. This option affects all windows.

Case Sensitive Characters
specifies whether the Search and Replace commands are sensitive to
case. For example, if this option is On and you specify a search
pattern in lowercase, the Search command will not locate the same

64 Chapter 6




  pattern in the file if the pattern occurs only in uppercase. The default
  setting is On. This option affects all windows.



Saving the New Settings
To save any changes you make using the configuration window, select the
Use, Save, or Save As options.

[]  Select USE to save the settings to the environment variable
sc/se.dat in ENV:. Settings saved to ENV: are active until you
reboot your system.
[]  Select SAVE to save the settings to ENV: and ENVARC: (the equivalent
of ENV: on disk). Settings saved to ENVARC: are copied to ENV: each
time you boot your system.
[]  Select the Save As option to save the settings in a file in the current
  directory. The configuration program asks you to enter a filename in
which to save these settings.

  If you click on the Close gadget without selecting the Use, Save, or
Save As option, the new settings are active for your current se session
only.


  Reusing Saved Settings

  If you use the Save As option to save your configuration settings, you can
  reload these settings later by selecting the Open option from the Project
  menu. The configuration program asks you to specify the filename to
  which you saved the settings. Enter the filename to which you saved the
  settings. To make the settings active, you must click on the SAVE or USE
  gadget.



7 Using the AREXX Interface
  to se


  65 Introduction
  65 Executing A Series of Editor Commands
  68 Communicating with External Programs
  69 AREXX Macros Provided with the Compiler
  70 AREXX Command Summary




  Introduction

  This chapter describes the AREXX interface that is available in the se
  editor. AREXX is a script language commonly used for interprocess
  communication on Amiga hardware. AREXX comes with Version 2.0 of
  the AmigaDOS operating system and can be purchased separately from
  Commodore for Version 1.3. For more information about using AREXX,
  refer to Using the System Software (Commodore-Amiga, Inc. 1990) if you
  are running the AmigaDOS operating system, Version 2.0 or to the
  documentation that comes with the AREXX package if you are running
  AmigaDOS operating system, Version 1.3.
 You can use the AREXX interface to do the following:

  [] execute a series of editor commands that are too complex to assign to a
 keystroke macro
  [] communicate with external programs.



Executing A Series of Editor Commands

Sometimes you need to perform an action that is more complex than se
can handle with simple keystroke macros. For example, you may need to
use programming logic such as an if-then-else construction. You can
create an AREXX macro to perform the action, and then you can assign
that macro to a key. AREXX macros are files that contain AREXX
commands. AREXX macros that are to be used with se must have a
filename with a .se suffix.
 Tables 7.1 and 7.2 in "AREXX Command Summary," later in this
chapter describe each of the commands supported by AREXX. As you
enter AREXX commands, separate each command with a space. You can
string multiple commands together.

66 Chapter 7




If you are passing characters to a command prompt, you must
 terminate the string with a newline character, \n. For example, the
 following command issues the Open Window command, enters f oo for
 the filename, and terminates the string with a carriage return:


/* Issue the Open Window command,  */
/* type in "foo" for the filename,*/
/* and terminate data entry with a carriage return.  */


 'OW "foo\n"'


  If you do not specify the \n character, se waits until you type a carriage
  return before proceeding.
After you have created your macro file, you can assign the macro to a
  key using the se configuration window. To display the se configuration
  window, select the Configuration Window option from the Options pull-
  down menu. Select the key to which you want to assign the macro by
  pressing or clicking on the appropriate key(s). Type the following Rexx
  Macro command in the text gadget and press Return:


  RM "macro-filename"


The macro-filename is the name of the file containing your macro. If the
name you specify does not end in .se, the editor appends . se to the
filename when you invoke the macro. se searches for the macro file in
the current directory, then in sc: REXX, and finally in REXX: . You can
specify a fully-qualified pathname for the filename, if necessary.
 For example, suppose you have a series of #define statements in
your program such as the following:


  #define FRED 1
  #define BARNEY 4
  #define WILMA7
  #define BETTY  8


 You want to renumber these statements sequentially:


  #define FRED 1
  #define BARNEY 2
  #define WILMA3
  #define BETTY4

Using the AREXX Interface to se 67




You could use the following AREXX macro. If invoked from se, this
macro renumbers the last token on each line of a marked block.


/* AREXX macro to renumber #define statements  */


/* Tell SE to go to the Block Menu and select End.*/
/* This effectively moves the cursor to the end of the*/
/* current marked block.  */
' BN "En"'


/* Ask SE for the line number of the current line.*/
/* Assign the line number to the variable 'end'.  */
options results
'GL'
end = result
options


/* Tell SE to go to the Block Menu and seleet Beginning. */
/* This moves the cursor to the beginning of the marked  */
/* block.*
'BM "B"'


/* Ask SE for the text of the current line.*/
/* Assign the text of the line to the variable 'line'.*/
options results
'GT'
options
line = result


/* Move the cursor to the end of the current line.*/
'EL'


/* Back up one word */
'PW' 


/* Get the index of the current position in the current  */
/* line.  This index can differ from the current column  */
/* number if tab characters are present in the line.  */
/* Assign the index to the variable 'index'.*/
options results
'GI'
options
index = result

68 Chapter 7




 /* Read the line and get the number at the end of it. */
 /* Since the variable 'index' points to the first */
 /* character of the number, the number consists of*/
 /* everything from the 'indexlth byte of the line to the */
 /* end of the line.  */
 num = SUBSTR(Iine, index+l, length(line)-index)


  /* 'num' now contains the number at the end of the first */
  /* line of the marked block. Move down a line, */
  /* go to the end of the line, back up a word, and */
  /* delete to the end of the line. The following*/
  /* sequence of four SE commands does this.*/
 'NL EL PW DE'


  /* Loop until the end of the block, replacing the last*/
  /* token on the line with the appropriate number. */
  do forever
  num = num + 1 /* Increment #define number */
  num/* Insert the number as text*/
  options results  /* Get the current line number */
  'GL'
  options
  if result >= end then exit(0)  /* Exit if past the end */
  'NL EL PW DE' /* Go to next line and delete last token */
  end



Communicating with External Programs

You can also use AREXX to communicate with other programs from
within the editor. For example, you may want to send messages to the
scmsg utility, which allows you to browse your error and warning
messages. You can also invoke external commands that are unrelated to
the editor or send AREXX commands to another program that has an
AREXX port.
  Each program that has an AREXX port names its port so that other
programs can find it. The name of se's AREXX port is SC_ SE. If more
than one copy of se is running, only one copy will have an AREXX port.
  When you invoke an AREXX script from within an application, any
external commands that the script attempts to execute are sent to the
AREXX port of the application that launched it. Therefore, when se
launches a script, it should send se commands as external commands. If
the script wants to communicate with another utility, it should switch to
that utility's AREXX port using the AREXX ADDRESS command. The

Using the AREXX Interface to se 69




script can then send commands in whatever format required by that
utility. To switch back to se, specify the ADDRESS command with
"SC_SE" as its argument.
  For example, the following se script tells scmsg to go to the next
error, then gets the information on the error, and positions the cursor on
the correct line number.


/* REXX script to advance to next error */
address "SC_SCMSG"  /* Switch to the message browser.*/
'NEXT'/* Go to the next message on the list. */
options results  /* Remember the results of commands. */
'FILE'/* Get the filename of the next error. */
file = result
'LINE'/* Get the line number.*/
line = result
options


address "SC_SE"/* Back to the editor now  */
'OW "' || file ||'\n"'  /* Issue Open Window command */
'LL "' || line ||'\n"'  /* Issue Go to line command  */



AREXX Macros Provided with the Compiler

The SAS/C Development System provides seven AREXX macros that you
can use from inside of se. The files for these macros are in sc: rexx.
These macros are as follows:

amigaguide.se
displays the help information in the AmigaGuide databases in the
sc: help directory. By default, this macro is assigned to Alt-D. When
you invoke this macro, it asks you to enter the name of an
AmigaGuide database. For a description of each of the AmigaGuide
databases in the sc: help directory, see Chapter 3, "Getting Help."

deletetabs.se
converts all of the tabs within a marked block to spaces. By default,
this macro is assigned to the asterisk (*) key in the numeric keypad
(NUM ).

findsym.se
looks in the GSTs in memory for the definition of the symbol that is
under the cursor. If it finds the symbol in a GST, f indsym displays
the source file in which the symbol is defined. If you do not have any
GSTs in memory, this macro does nothing. By default, this macro is
assigned to the left parenthesis key on the numeric keypad, NUM (.

70 Chapter 7



indent.se
 indents a marked block three spaces. By default, this macro is assigned
 to the plus (+) key on the numeric keypad (NUM +).

unindent.se
 unindents a marked block three spaces. By default, this macro is
 assigned to the minus (--) key on the numeric keypad (NUM--).

tolower.se
 converts the current character to lowercase. This macro is not
 assigned to a key by default, but you can assign it to a key using the
 se Configuration Window.

toupper.se
 converts the current character to uppercase. This macro is not
 assigned to a key by default, but you can assign it to a key using the
 se Configuration Window.

To assign any of these macros to a key, use the Rexx Macro command
as described in "Executing A Series of Editor Commands," earlier in this
chapter.



AREXX Command Summary
The following tables list the AREXX commands and their keystroke
equivalents supported by the editor.


Table 7. 1
AREXX Commands withDefault Key
Keystroke Equivalents  Command  FunctionDefinition
____________________________________________________________________________
A1  assign macro 1Alt-1
A2  assign macro 2Alt-2
A3  assign macro 3Alt-3
A4  assign macro 4Alt-4
A5  assign macro 5Alt-5
A6  assign macro 6Alt-6
A7  assign macro 7Alt-7
A8  assign macro 8Alt-8
A9  assign macro 9Alt-9

  (continued)

  Using the AREXX Interface to se 71



Table 7.1 Default Key
(continued) Command FunctionDetinition
_______________________________________________________________________
AO  assign macro OAlt-O
BL  beginning of line Num 7
BM  go to block menu  Ctrl-b
BT  beginning textCtrl-Num 7
CO  invoke scopts utilityCtrlF4
CS  change display size  F9
CW  change windowsNum 5
DC  delete character  Num .
DE  delete to end of lineCtrl-e
DL  delete lineCtrly
DW  delete wordCtrl-w
EL  end of lineNum 1
ES  se escape character  Ctrl\
ET  end textCtrlNum 1
FB  toggle window front to back F10
FD  go to fork commandCtrl-f
FW  cycle through open windows  F6
GL  go to locate line commandCtrll
HE  get se helpF1
IL  insert lineCtrln
IM  toggle interlace modeEnter
IN  toggle insert modeNum O
MB  mark beginning of block  Ctrl[
MC  Match characterCtrl-5
ME  mark end of block Ctrl]
MM  go to main se menuF2

(continued)

72 Chapter 7



  Table 7.1  Default Key
  (continued)  Command FunctionDefinition
________________________________________________________________________
M1execute macro 1Alt-F1
M2execute macro 2Alt-F2
M3execute macro 3Alt-F3
M4execute macro 4Alt-F4
M5execute macro 5Alt-F5
M6execute macro 6Alt-F6
M7execute macro 7Alt-F7
M8execute macro 8Alt-F8
M9execute macro 9Alt-F9
M0execute macro 10  Alt-F10
NCnext characterNum 6
NEgo to next compiler errorF5
 NL  next line  Num 2
 NP  next page  Num 3
 NW  next word  CtrlNum 6
 OM  go to configuration menu Ctrlm
 OW  go to open window commandCtrlo
 PC  previous characterNum 4
 PL  previous lineNum 8
 PM  go to project menuCtrl-p
 PP  previous pageNum 9
 PW  previous wordCtrl-Num 4
 QU  go to quit se commandF3
 RK  restore kill buffer  Alt-y
 SA  go to next string match  Alt-s
 SC  invoke SAS/C compilerF4

  (continued)

 Using the AREXX Interface to se 73



 Table 7.1  Default Key
(continued) CommandFunctionDefinition
_________________________________________________________________________
SDscroll downCtrl-v
SEgo to search commandCtrl-s
SRgo to search/replace commandCtrl-r
SUscroll up Ctrl-6
UNgo to undo commandCtrl-u




The following AREXX commands do not have keystroke equivalents.




AREXX CommandsCommandFunctionExample
without Keystroke  BPbuild project'BP'
Equivalents  CRcarriage control  'CR'
  DMdisplay message'DMExample
  Message'
  GCget column of cursor'GC'
  GEget error from last command 'GE'
  GIget index of cursor  'GI'
  GLget number of current line  'GL'
  GMprompt user for input'GM'
  GTget text of current line 'GT'
  GWget word'GW'
  RMREXX macro 'RM "filename"'
75




 Part 3
 Using the Compiler
 and Linker





  Chapters 8 Compiling and Linking Your Program
9 Running Your Program from the Workbench Screen
10 Using Startup Modules, Autoinitialization, and Autotermination
  Functions
11 Using Amiga Specific Features of the SAS/C Language
12 How Does the Compiler Work?
13 Writing Portable Code

7677




  8 Compiling and Linking Your
Program


77 Introduction
77 Compiling Your Program
77 Entering the sc Command
79 Using Compiler Options
119 Using Preprocessor Symbols Defined by the Compiler
120 Linking Your Program
121 Entering The slink Command
121 Specifying Linker Options
127 Using Overlays
132 Specifying Compiler Options with Overlays
133 Customizing the Overlay Manager




 Introduction

 This chapter describes how to compile and link your program. It
 describes the sc command and its options, and it describes the slink
 command and its options.



 Compiling Your Program

 As described in Chapter 2, "Using Your SAS/C Development System,"
 you can compile your program from the Shell by entering the sc
 command or from the Workbench screen by double-clicking on the
 Build icon. When you double-click the Build icon, you are indirectly
 running the se command as well.

Entering the scThe sc command has the following format:
 command
 sc [options] [source-filename(s)]

 The sc command accepts C source files, assembly source files, object
 files, and link libraries as input files. You can enter the filenames
 anywhere on the se command line, and you can use standard AmigaDOS
 wildcards to specify filenames.

78 Chapter 8




sc determines the input file type by looking at the file extension. sc
 recognizes the following filename extensions:
. cC source file
. pC source file (preprocessor output)
. hC header file (treated as a C source file)
. oObject file
.lib  Link library
. aAssembler source file
. asm Assembler source file
. sAssembler source file
If you have a file that does not end in one of the recognized extensions,
 you must use the correct sc option to specify the filename:
csource=filename
specifies a C source file. You can abbreviate this option as csrc.

assembler=filename
specifies an assembler source file. You can abbreviate this option as
asm.

object=filename
specifies an object file. You can abbreviate this option as obj.

library=filename
specifies a link library. You can abbreviate this option as lib.

See "Compiler Option Descriptions," later in this chapter for a complete
description of each of these options.
  If you specify an item in the s c command that does not end in a
recognized extension and is not a valid option, s c appends the . c
extension and attempts to compile the resultant filename. If the sc cannot
find the file, it reports an error and proceeds to the next file to be
compiled.
Note: You can use a plus (+) sign or a comma (,) to separate multiple
filenames. Therefore, you cannot enter a filename containing a plus sign
or a comma unless the name ends in a recognized extension.
To display help information about the sc command, enter sc followed
by a question mark (?):


  sc ?

 Compiling and Linking Your Program 79




Using Compiler  You can specify compiler options in the following ways:
Options
  [] saving the options as project options in an scoptions file (using the
scopts utility). The se command looks for this file when you compile
your program.
  [] saving the options as global default options in the variable ENV: sc/
scoptions (using the scopts utility). If the se command cannot
find a project options file, it looks for global default options.
  [] entering the options in the se command. Even if you are using an
scoptions file, you can also specify options on the se command line.

When you enter the se command, the compiler first tries to read options
from the file scoptions in the current directory. If this file does not
exist, the compiler looks for options stored in the ENV: sc/scoptions
environment variable. Finally, the compiler processes any options you
enter on the sc command line in the order in which you enter them. If
an option is specified twice, the compiler uses the setting of that option
that was specified last. Therefore, you can override the setting of an
option in the scoptions file or environment variable by specifying that
option in the se command. sc reads all options before processing any
files, so any options specified on the command line after an input file
name still apply to that file.
If your current directory contains an scoptions file but you do not
want the compiler to use the options specified in the file, specify the
resetoptions option as the first option in the sc command.
resetoptions sets all options to their default values. resetoptions
does not change the contents of the scoptions file but does affect the
compilation in progress. For more information, see the description of the
resetoptions option later in this section.
The compiler accepts two types of options:

switch options
 do not take parameters. All switches have a negative and a positive
 version. To specify the negative version, precede the option with no.
 For example, to use ANSI escape sequences to highlight errors in
 diagnostic output, specify the errorhighlight option. If you do not
 want to highlight errors, specify noerrorhighlight.

keyword options
 take parameters. Specify the option name, followed by a blank or an
 equal (=) sign and the parameter. For example, to generate debugging
 information for your program, you can specify debug=line or
 debug 1 ine. Some keyword options also have a negative form like
 the switch options. For example, if you do not want the compiler to
 generate debugging information, you specify nodebug.

80 Chapter 8




 The option descriptions that follow give the full name and minimum
 acceptable abbreviation for each option (if the option has an
 abbreviation). You can also use intermediate forms of the options. For
 example, the minimum abbreviation for the absfunctionpointer
 option is afp. Other acceptable abbreviations include absfp,
 absfuncp, and afptr. The compiler options are not casesensitive. You
 can enter options in upper, lower, or mixed case.


 Summary of Compiler Options
 For each option accepted by the compiler, Table 8.1 shows:

 [] the full name.
 [] the minimum abbreviation. The minimum acceptable abbreviation is
  shown with uppercase letters.
 [] whether the option takes a parameter. An option that takes a
  parameter is listed with an equals (=) sign.
 [] whether the option has a negative form.
 [] the default value, if any.


 Table 8.1
 Summary of CompilerNegative
Options Option NameForm?  Default Value
___________________________________________________________________________________
 AbsFuncPointer Yesnoafp
 ADDSYMbolsYesnoaddsym
 ANSIYesnoansi
 ARGument SIZe= No 512
 ASseMbler=No
 AUTOREGisterYesautoreg
 BATCHYesnobatch
 BSSMEMory=No any
 BSSNAME=Yesudata
 CODE=No near
 CODEMEMory=No any
 CODENAME= Yestext
 CommentNESTYesnocnest
 COMMON  Yesnocommon

(continued)

Using Compiler Options 81



  Table 8.1Negative
(continued) Option Name Form?Default Value
  ____________________________________________________________
  CONSTLIBbaseYes  constlib
  COVERage  Yes  nocover
  CPU= Noany
  CSouRCe=  No
  DATA=Nonear
  DATAMEMory= Noany
  DATANAMEe Yes  data
  DeBuG=Yes  nodebug
  DEF i ne =No
  DISASseMble=Yes  nodisasm
  ERRor=No
  ERRorCONsoleYes  errcon
  ERRorHIGHl ight  Yes  errhigh
  ERRorLIST Yes  errlist
  ERRorREXX Yes  errrexx
  ERRorSouRCe Yes  errsrc
  EXTernalDEFsYes  extdef
  FindSYMbol= No
  FROM No
  GenProtoDATAitemsYes  gpdata
  GenProtoEXTerns  Yes  gpext
  GenProtoFILE=Yes  filename _ protos.h
  GenProtoPARaMeters  Yes  nogpparm
  GenPROTOs Yes  nogproto
  GenProtoSTATics  Yes  nogpstat

 (continued)

2 Chapter 8



End Of Part 1

