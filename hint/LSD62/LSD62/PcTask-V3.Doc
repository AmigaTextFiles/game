
      ∑
      :    ¶    .     _________                 ________       _____________
û_____¶    |         ∑   __   / :   ___________/   _ù   \      \   __  _   /
|     \    é____:    :     \_/ -A : \______    \    |    \_ _:  \_/     \_/
|      \   ¶    |    ¶      \_  ∑∑D_  /   /   _/    |     /  é___/       \_
|    :     :    |    é_______/  `N∑ _/    \    \_________/   |   \________/
¶    é_____¶    ¶    |           :  \__________/      \      ¶    \_
:    :    \__________è                                 \___________/
.    ∑
     .                       ªªªª PRESENTS ´´´´

                             PC TASK - VERSION 3
                             ===================

                                               TYPED BY SHARD - N&B
           USER REFERENCE MANUAL
           ---------------------

CONTENTS
--------

General Information

1.1  Introduction
1.2  System Requirements
1.3  Backing up your PC Task Disks
1.4  Installing PC-Task
1.5  Starting PC-Task

Configuring PC-Task

2.1  Option Screen
2.2  Saving Options / Using Defaults / Quitting
2.3  Floppy Disk Options
2.4  Hard Disk Options
2.5  Graphics Adapter Options
2.6  Advanced Video Options
2.7  Mouse, Parallel, Serial & Sound Options
2.8  Priority Options
2.9  Memory Options
2.10 ToolTypes / Shell Arguments

Emulating

3.1  General Emulating Information
3.2  Turning the Mouse Driver On
3.3  Rebooting and Quitting the Emulator

Using your PC

4.1  Creating a Bootable MS DOS Disk
4.2  Getting Around in MS DOS
4.3  Using CopyToA, CopyToI & DirA
4.4  Getting Software to Run
4.5  Obtaining as Much Memory as Possible
4.6  Achieving Faster Emulation

Technical Information

5.1  File Exchange with Floppy Disks
5.2  Using a 5.25" 40 Track Drive
5.3  Creating a HardDiskFile
5.4  File Exchange with HardDiskFiles
5.5  Creating a Hard Disk Partition
5.6  File Exchange with Hard Disk Partitions
5.7  Using an Amiga CD-ROM Drive

Appendix A  Common Problems

Appendix B  Hints & Tips Using PC-Task

Appendix C  PC Boot Procedure

Appendix D  Video Modes

Appendix E  MS-DOS Hard Disk Transfer

Appendix F  Technical Support

Appendix G  Bug Reporting

Appendix H  References

Appendix I  Glossary

Index


1.1 Introduction
----------------

Even  though  the  world computer market is still dominated by PC's, the
Amiga  range of computers is excellent.  You may wish to run PC software
but do not want to purchase a second computer.  This is where PC-Task is
ideal.   It allows you to run the majority of PC software packages (that
require  an 80286 processor or below) on your Amiga computer, making use
of the peripherals and memory (up to 16MB) which you already own.

The  multitasking  capabilities  of the Amiga range of computers is what
has set it apart from other computer systems.  PC-Task is no exception -
it  works  without  taking over your computer.  When in operation the PC
Task application can be switched to when required.  Multiple versions of
PC  Task can be executed at the one time allowing you to run multiple PC
packages at once.  At last pre emptive multitasking comes to the PC!

PC  Task  can support two floppy drives (including high density) and two
hard  disks.    Pseudo  hard disks can be created as a file on your hard
disk.  This feature allows the use of already created bridgeboard pseudo
hard  disk files.  You can also use an Amiga partition as an MS DOS hard
disk.

MS-DOS  is  not  supplied  with  this package.  Versions of DOS that are
suitable for use include 3.33, 5.0 or 6.2.  MS-DOS can be purchased from
most  computer stores.  If you have a PC computer you are able to make a
bootable  disk  quite  easily.  Please refer to Section 4.1 - Creating a
Bootable MS-DOS Disk for more information.

Note:  If  you  purchase  MS  DOS  6.2  it  is  supplied on high density
floppies.    If  you  do  not have a high density drive, there is a form
included  in  the  package that entitles you to receive free low density
disks.


1.2 System Requirements
-----------------------

PC-Task requires an Amiga computer with at least 512K of RAM and AmigaOS
1.2+.    Please note that some features of PC-Task will only work if you
have  at  least  1MB  of  RAM.    Some  display  features   will also be
unavailable  if you do not have an AGA compatible Amiga or a third party
graphics  card.    See  Section  2.5  - Graphic Adapter Options for more
information concerning display modes.

Provided  on  the PC Task program disks are versions of the software for
different  Amiga  processors.   The supplied Commodore installer program
will  install  the  correct version for your machine.  If you are having
problems  with the install process, remember that there is a help button
you can press.

Note:  If  you  intend  to run Windows 3.1 you will require a minimum of
1.5MB  contiguous  RAM  (more recommended) and at least 6MB of available
hard disk space (10MB recommended).


1.3 Backing up your PC-Task Disks
---------------------------------

The  PC-Task  program  disks are not copy protected to allow you to make
working  backups  of  these disks.  We recommend that you do this before
installing  the  software  and  to  then  install  the software from the
backups  Consult your Workbench manual for further information on making
backups.

It  is  legal  to  make one backup copy only of the package for your own
personal use.  Please respect the enormous amount of time and effort put
into  this  product  and  do  not  make copies for other people.  Please
support  the  developers  of  software  as  it  is only through software
purchases  that this, and other products, can be developed and improved.


1.4 Installing PC-Task
----------------------

PC-Task  can  easily be run from your program disks.  It is not bootable
so  you  must use a Workbench disk to start your machine.  If you have a
hard  drive,  PC-Task  can  be  installed   by   double   clicking   the
Install-PC-Task icon.  Follow the instructions that appear on screen.

On  PC-Task  Disk  1  is a directory called MSDOSUtils.  It contains six
optional utilities that you can use with PC-Task during emulation:

COPYTOA.EXE         See Section 4.3
COPYTOI.EXE         See Section 4.3
DIRA.EXE            See Section 4.3
PCTQUIT.EXE         See Section 3.3
PCTMOUSE.EXE        See Section 3.2
PCTCDROM.SYS        See Section 5.7

These  utilities are not required by PC-Task to run.  If you wish to use
them,  either  use  the ProduceUtilDisk program, to create a 720k MS-DOS
disk with a copy of the files, or copy the individual files across to an
MS-DOS disk if you have the appropriate software.


1.5 Starting PC-Task
--------------------

If  you  are  running  under  AmigaOS  1.2 or 1.3 then you need to first
double  click the TDPatch1213 program.  This program fixes bugs and adds
some  features  to  Kickstart  to allow reading and writing to PC floppy
disks when running PC-Task.

To  start  PC  Task double click the program icon that is appropriate to
your  machine.    The  correct  version  of  PC-Task for your machine is
dependent  on your processor type.  Below is a guide to which version is
applicable for each Amiga model:

PC-Task68000_10/PC-TaskTurbo68000_10 are for 68000 & 68010 machines.
i.e. stock Amiga 500, 600, 1000, 2000's.

PC-Task68020_60/PC-TaskTurbo68020_60 are for 68020 or later processors.
i.e. stock Amiga 1200, 3000, 3000T, 4000's.

The  program  should  load  and display an option screen.  If the option
screen  does  not  appear,  but instead an error window stating that you
have  the  wrong  processor type is displayed, then the wrong version of
PC-Task  has  been selected.  If this occurs please reselect the correct
icon.

There  are  two  PC Task programs for each type of processor.  The Turbo
version  of  the program is faster but at a cost.  It uses four times as
much  memory as the normal version.  So if you are running 1 MB extended
memory  (plus  the 1 MB conventional and upper memory area) PC Task will
allocate  approximately 5MB, but if you use the PC TaskTurbo version, it
will try to allocate approximately 8MB of RAM.


2.1 Option Screen
-----------------

The option screen allows you to change the various functions of PC-Task.
To  start  the emulation just click the start button or press the return
key, after you have set the options to suit your preferences.


2.2 Saving Options / Using Defaults / Quitting
----------------------------------------------

At  the  bottom  right  of  the  PC  Task  option screen there are three
gadgets.  These are used to control the configuration of PC Task.

Use Defaults
This resets all options to the default values.

Save Configuration
This  creates  a  file in the current directory called "PC.config" which
contains  the  configuration as currently set.  PC-Task attempts to load
this file each time it is executed and will use its values if found.

Quit
Quits PC Task


2.3 Floppy Disk Options
-----------------------

PC-Task  is able to take advantage of the Amiga's disk drives so you are
able  to  read and write PC formatted disks.  PCs use a different naming
system  for  their  disk  drives.    Whereas the drives on the Amiga are
called DF0:, DF1: and so on, on the PC they are called drive A and drive
B.   You can only have two floppy disk drives on a PC, so the letters C,
D, etc are used for hard drives.

On  the  bottom  left  of the option screen are two text gadgets used to
assign  PC-Task's  floppy  drives A and B for use during emulation.  The
floppy drives can be assigned to any device, by entering the name of the
drives  into  the text gadgets.  By default DF0: is assigned as drive A,
and  DF1:  is  assigned as drive B (if applicable).  These are the first
two  Amiga floppy drives.  Alternatively if you have extra floppy drives
you  can  assign these as the PC drives, for example set DF1: as drive A
and DF2: as drive B.

By  default,  your  Amiga  floppy  drives  are used as MSDOS 720K drives
during  emulation (or 1.44MB if you have a high density drive) and hence
can only read disks of that format.  Please note only some later A3000's
and  all  A4000's  were shipped standard with high density drives, other
machines  do  not  have  high density drives.  To determine whether your
drive  is  high  density, insert a high density floppy disk in the drive
(these  disks  have  an  extra  hole opposite the write protect tab) and
format  it  from  Amiga  Workbench (only AmigaOS 2.0+).  If it creates a
disk with 1.76 MB capacity then this is a high density drive.  If you do
not  have  a  high  density  drive  in your Amiga several 3rd party high
density drives are available.

People  who  mount  their  drives as MS DOS drives, so they can read and
write  files  using  the  AmigaOS 2.1 + MS-DOS filesystem, or other such
software,  can enter the device names that they use for that (e.g.  PC0:
& PC1:) in the text gadgets.


2.4 Hard Disk Options
---------------------

During emulation a hard disk can either be a file or a partition on your
Amiga  hard  disk.    Each has its advantages.  A hard disk file is more
versatile.    You are able to copy it, back it up and move it around, as
AmigaDOS  treats it as a normal datafile.  But the compromise is speed.
A hard disk partition is considerably faster.

You  can  emulate two hard disks, drive C and drive D.  If you choose to
set  up  only one emulator hard disk, it must be assigned as drive C, as
drive D will not be accessed if drive C is not found.  The emulator will
boot  off drive C if no MS-DOS disk is found in floppy drive A and drive
C is bootable.  Note that early versions of MS-DOS do not work with hard
disk  partitions larger than 32MB.  It is suggested that you create hard
disks of 32MB or less if you are using MS-DOS version 3.33 or lower.

It  is  important  that  you refer to Section 5.5 - Creating a Hard Disk
Partition  if  you  want to use a real partition on your Amiga hard disk
instead  of  a  hard  disk  file.   The use of partitions should only be
attempted by advanced users.

If you have an existing bridgeboard hard disk file, click the left mouse
button  on  one  of  the  hard disk text gadgets and enter the file name
(including  path)  in  the  text  gadget   e.g.  "Work:IBMHardDiskFile".
PC-Task  does not work with JLink virtual drives.  If you want to create
a  hard  disk  file  on  your  Amiga  hard  disk follow the instructions
contained in Section 5.3 - Creating a HardDiskFile.


2.5 Graphics Adapter Options
----------------------------

You  can  emulate five different display adapters with PC-Task.  You can
toggle  between  modes  by  clicking the left mouse button on the gadget
right of the Graphics Adapter text.

MDA
This  is  a  monochrome,  text  only  adapter  that  gives faster screen
updates.    You  are able to select the colours that will be used in the
Advanced Video Options

CGA
CGA  is  the  default  graphics  option  and  has  the   most   complete
implementation and compatibility.

EGA
EGA  will  do  the  same  modes  as  MDA  and  CGA  and adds some higher
resolution graphics modes.

VGA
VGA  will  do  all  the  modes  of  MDA,  CGA, EGA and higher resolution
graphics  modes.    One VGA mode requires a machine with the AGA chipset
(such  as  the  A1200  &  A4000)  or with a graphic board capable of 256
colours  in  order  to display the correct colours.  Other machines will
display the mode but with incorrect colours.

SVGA 512K / SVGA 1 Mb / SVGA 2Mb
SVGA  modes  are high resolution graphics modes, some of which require a
machine  with the AGA chipset or a graphics board capable of 256 colours
in  order  to  display the correct colours.  Other machines will display
the mode but with incorrect colours

Many  PC  games  use  non-standard  modes  and  features  of EGA/VGA and
therefore will not run correctly.


2.6 Advanced Video Options
--------------------------

Underneath  the Graphics Adapter options you are able to select Advanced
Video Options.  This will bring up another window allowing you to select
the  Amiga screen mode for each graphics mode available.  For a complete
list of modes, please refer to Appendix D - Video Modes.

Down Mode
This will move down through the list of available video modes.

Up Mode
This will move up through the list of available video modes.

Window/Screen
This will select whether the current mode will run in a window or on its
own  screen.    If running in a window the Public Screen can be selected
using  the  PUBSCREEN  ToolType.    See Section 2.10 - ToolTypes / Shell
Arguments.

Graphics Update
This  selects whether the screen is updated immediately when any changes
are made, or only updated after every 1 , 2, 4 or 8 frames.

MDA Palette
This  allows  you to select the colours used when MDA is selected as the
graphics adapter.  Colours can be adjusted by sliding the red, green and
blue gadget controls to the right of the colour boxes.

Set Mode
This  gives  you a choice, through the use of a screenmode requestor, of
the available screenmodes on which to run the current video mode.

AmigaOS  1.2  /  1.3  users  will  have to enter the mode ID in the text
gadget next to the Set Mode button.  Some common modes are:

$0000 Lores
$8000 Hires
$8004 Hires Laced

PC Task will automatically default to values viewable on all machines if
no  screenmode  is  selected  for  a PC graphics mode.  If you select an
Amiga  graphics  mode  which  has  less colours than the PC mode you are
using,  the  screen  may look wrong, as PC-Task won't be able to use the
correct colours.


2.7 Mouse, Parallel, Serial & Sound Options
-------------------------------------------

You  can toggle the Parallel, Serial, COM2 Mouse and Sound gadgets to on
or  off  by  clicking  the left mouse button on these gadgets at the top
right of the option screen.

When  a tick is displayed in the gadget, the parallel or serial port can
be  used  during  emulation for printing or communications with a modem.
By default both are selected for use.

To  access  either  the  serial  or  parallel  ports  with another Amiga
program,  while  PC  Task is running, you will need to turn the relevant
port  in  PC-Task  to  off.    See  the Section 2.10 - ToolTypes / Shell
Arguments  for  information  on  how to select other serial and parallel
ports.

The  COM2  Mouse  option  changes  the  mouse driver (when activated) to
emulate  a  Microsoft  compatible serial mouse On COM2:.  This increases
compatibility  with  software  that uses its own drivers for serial mice
(eg.    Windows  3.1).    For  more  information on the mouse driver see
Section 3.2- Turning the Mouse Driver On.

The  Sound  option  emulates  basic PC sound.  This is equivalent to the
motherboard  sound  present  on most real PCs and is intended for simple
beeps it does not emulate SoundBlaster or other PC sound cards.


2.8 Priority Options
--------------------

As  PC  Task allows your Amiga to continue to multitask, two options are
provided  to  control  the  Amiga processor allocations to allow maximum
emulation performance.

"Priority  when selected" is the priority the processor gives to running
the  emulator, when the emulator screen / window is selected.  Assigning
a value of one (1) to this option gives the emulator the majority of the
processors  time  when PC Task is in use.  This means that the emulation
will  run  faster  in  the  Amiga's  multitasking environment.  There is
usually  no  need  to  raise  this  value,  as there is only minor speed
increases.

"Priority  when  not  selected"  is  the priority the processor gives to
running  the emulator when the emulator screen / window is not selected.
Assigning  a  value  of  negative  one  (-1)  to this option gives other
programs  the majority of the processor's time when PC-Task is not being
used.


2.9 Memory Options
------------------

In  the bottom right of the option screen there are three sets of left /
right gadgets that allow you to change memory options of the PC.  Before
we  explain  these  options  the  way  memory  is  used  on  PCs will be
discussed.    The  first  640K  of memory on a PC is called conventional
memory.    After  that  you have 384K which is used for system hardware,
device  drivers,  memory-resident  programs, etc.  and is referred to as
the  upper  memory area.  If you are not using EGA, VGA or SVGA, you can
extend your conventional memory to 704K, and into the upper memory area.
Beyond  this first 1MB there is the high memory area extended memory and
expanded  memory.    Consult  your  DOS  manual  or   related   book for
information on expanded memory and the high memory area.

The following memory options are available on the PC-Task option screen:

Conventional Memory
Sets  the  amount of memory PC Task will allocate for emulation with the
maximum  base  memory allowed being 704K, if MDA or CGA graphics adapter
selected,  and  640K  if  EGA,  VGA  or  SVGA  is  selected.    For best
compatibility  select 640K.  If the emulator fails to get the amount set
it will try for a smaller amount until it gets too low to be functional.


Extended Memory
Sets  the  amount  of  extended  memory  which  will  be  allocated  for
emulation.  You are able to select up to 15MB of extended memory.  It is
best  if  you  do  not allocate all available fast RAM on your Amiga for
emulation.    If  you  allocate more, PC Task may use Chip memory, which
will slow down the emulation.

Minimum Leave Available
This  is  the  minimum  amount  of  memory  that the emulator will leave
available  for  other  Amiga  programs,  after it has allocated the main
memory.   This is used to ensure that your Amiga's available memory does
not  get too low when the emulator allocates the amount it requires.  If
the  memory  available  gets  below  64K  the  system  may crash.  It is
suggested that this value is never lowered below 16K.

Because  MS  DOS  only  manages  conventional  memory  you need to use a
extended  memory  manager.    HIMEM.SYS  is  one  that  does this and is
provided  with MS-DOS.  If you wish to use your extended memory you will
need  the  following  line  (or  similar,  depending on options) in your
CONFIG.SYS:

DEVICE=C:\DOS\HIMEM.SYS

If  you  are  a  using  a  different memory manager, please refer to its
documentation.    Some  programs  require  the  availability of expanded
memory.    Since MS-DOS only comes with EMM386, you are unable to use it
on  PC-Task's  8086/80286 emulation.  There are a number of shareware or
public  domain  memory  managers  that  work well with PC-Task.  We have
found that EMS40.SYS is one of these.

To  free  conventional  memory  to  allow  DOS  programs  to run, MS-DOS
provides the option of running MS-DOS in the high memory area, using the
following command in your CONFIG.SYS:

DOS=HIGH

This  works with PC-Task, but we suggest only do this if you really need
the  memory.   Because of the way PC-Task works, this will slow down the
emulation.

A  RAMDrive comes in handy when using PC-Task.  The extended memory area
can  be  used  for  this.    A  typical  RAMDrive would be set up in the
following manner in your CONFIG.SYS:

DEVICE=C:\DOS\RAMDRIVE.SYS 256 / e


2.10 Tooltypes / Shell Arguments
--------------------------------

There  are  a number of options that cannot be accessed from the PC-Task
option  screen.  These options are generally suited to the advanced user
and  are  specified  by  adding  the  ToolType  to  the  PC-Task icon or
specifying the keyword after the program name when starting PC-Task from
a Shell / CLI.

If  you  are  using  AmigaOS  1.2 or 1.3 you will need to add "=ON" to a
ToolType  to  turn  it  on.    These users will also have to enclose the
ToolType  with  brackets  to  turn  it  off.    For  example,   with the
NOOPTIONWINDOW ToolType, AmigaOS 1.2 / 1.3 users will use:

NOOPTIONWINDOW=ON

to stop the option screen from appearing, and

(NOOPTIONWINDOW=ON)

to make it appear (if there is no ToolType, the option screen will still
appear).

Following are the accepted ToolTypes.

LANGUAGE=ENGLISH, DEUTSCH, FRANCAIS
Three  languages  are  built  into  PC-Task  and can be selected by this
ToolType.   If you do not have this keyword, PC-Task will default to the
languages  set  in  your  preferences  if you have AmigaOS 2.1 or above.
Otherwise the English language will be used.

MAXDEPTHTWO

MAXDEPTHTHREE
These  two  ToolTypes  limit  the maximum screen depth that PC-Task will
open.    This can be of great use on an Old or ECS Chipset machines with
chip  (graphics)  memory  only  or  chip and slowfast (memory at $c00000
which is called fast on the system but is as slow as chip memory) memory
only.  On such a machine any more than a depth of two on a screen with a
width  of 640 will slow down the operation of PC Task if you do not mind
losing  some  colours  you  can  get faster operation by using either of
these  keywords.   MAXDEPTHTWO limits the screen display to a depth of 2
for HIRES (width 640) screens.  For LORES (width 320) screens double the
depth is allowed before slowdown occurs.

BOOTANYFLOPPY
Does  not  check  for valid boot code.  Will boot from any MS-DOS floppy
disk.

SERIAL=name.device,unit,flags
If  you  have more than the internal serial port on your machine or just
want  PC  Task to use the device instead of going direct to the internal
serial  port hardware, you can use this keyword.  For using the internal
port with the serial device use "serial.device,0,0".

PARALLEL=name.device,unit,flags
If you have more than the internal parallel port on your machine you can
use  this  keyword.    What  PC-Task  defaults  to  when you dont give a
PARALLEL  keyword  is "parallel.device,0,32".  The 32 means it will open
in shared mode.

FONT=name.font
If  you  wish to specify your own font for use during emulation use this
keyword.  You can supply 8*8, 8*14 and 8*16 fonts.

NEVERBLANKPOINTER
Stops the mouse pointer from ever being turned off.

FORCEFASTMEM
Force  PC-Task  to get the PC memory from fast ram.  This is only of use
if you have more chip memory than fast memory.

NOOPTIONWINDOW
This stops the option screen/window from appearing when loading PC-Task.
This  option  should  be  used when you want to use the options you have
previously saved and go straight to the emulation.

PUBSCREEN=PUBSCREENNAME
PC-Task  has  the  ability  to open its option and emulation window on a
public  screen.    This is how you are able to use it as a window on the
Workbench  screen.    It  also  means  you can open it on your favourite
program  (as  long  as  it uses a public screen).  To use this ToolType,
substitute  the  public  screen name for PUBSCREENNAME.  For example, if
you wish to open the window on Workbench you would use:

PUBSCREEN=Workbench

And to open the window on your first DirWork 2.1 screen:

PUBSCREEN=DIRWORK_1

NOGOLDENGATE
Use this to ignore a GoldenGate I or II board.

BOOTHARDDISKFIRST
If  used  PC-Task  will  ignore any floppy disks in your drives and boot
from drive C if available.

BADPAL
Allows  the 68020+ processors to use the 68000 version of PC-Task.  This
may  be  of  use  to people who have a bad 68030 board that doesn't read
words from odd locations.

DISKMASK=MASKVALUE
Some hard disk controllers cannot DMA to all memory locations.  This can
cause problems with PC Task, but this ToolType can fix the problem.  The
MASKVALUE  determines  the  highest memory location PC-Task will use for
disk transfers.  Some typical examples would be:

DISKMASK=0xFFFFFFFE
DISKMASK=0xFFFFFF

Some controllers that may exhibit problems when DMA'ing to 32bit RAM:

GVP Series II SCSI/RAM
A570 with ROM revision below 6.6
A2091 with ROM revision below 6.6


3.1 General Emulating Information
---------------------------------

The PC emulator starts by displaying the memory available for the PC and
drive  A-D's  allocation.  Insert a 720K DOS boot disk (or 1.44MB if you
have  a  high density drive) into drive A, which is usually the internal
drive  DF0:,  which  the  emulator  will try to boot off.  If no disk is
found  in  drive  A,  the emulator will try to boot off the hard disk C.
Once PC Task has booted you will be able to run PC software as you would
on a real PC.


3.2 Turning the Mouse Driver On
-------------------------------

To  turn  the  mouse  driver  on press LeftAmiga-P.  This should be done
prior to starting the PC program that you wish to use the mouse with.

You  can  also use the MS-DOS utility PCTMouse.EXE that is supplied with
PC-Task to turn the mouse driver on.  If you want the mouse driver to be
on  always,  you  can  put the PCTMouse.EXE command in your AUTOEXEC.BAT
file (see your MS-DOS manual for more details on the AUTOEXEC.BAT file).

Note:  If  you are using a screen for PC-Task the top part of the screen
is  cleared  when you turn the mouse driver on and you can no longer use
the  screen's  drag  and  depth  gadgets.  This means you cannot use the
mouse  to  move  the  screen to the back.  LeftAmiga-M will allow you to
switch screens.


3.3 Rebooting & Quitting the Emulator
-------------------------------------

PC-Task  can  be  rebooted just like a real PC, using the same keys as a
PC.  To do this, press the Ctrl-Alt-DEL keys all at the same time.

To  quit  the emulator press LeftAmiga-RightAmiga-DEL or LeftAmiga-DEL.
You  can also use the MS-DOS utility PCTQUIT.EXE, which is supplied with
PC-Task, from the MS-DOS shell.


4.1 Creating a Bootable MS-DOS Disk
-----------------------------------

In order for you to be able to use the PC-Task emulation (or even a real
PC)  a  bootable  MS-DOS  disk  is  needed  unless  you  have a bootable
HardDiskFile  or  partition from which to boot.  To create a system disk
(720K bootable) for use with PC-Task, you can insert a 3,5" DSDD (double
sided  double  density)  disk  in  a real PC's drive A: and enter at the
MS-DOS prompt:

format A: /s           Or
format A: /s /f:720    Or
format A: /s /n:9

Insert this disk when you boot the emulator.


4.2 Getting Around in MS-DOS
----------------------------

There  are many versions of DOS for PC's.  Here is a quick guide to DOS.
We  recommend  you purchase a guide for DOS if you are not familiar with
it.    There  are  many  available,  and  any good PC store or technical
bookshop should be able to help you.

DOS  is  in  some  ways similar to the Shell/CLI.  If you type 'dir' you
will get a directory listed of the current directory and if you type 'cd
<directory>' you will change your current directory.  Your MS-DOS manual
will  give a list of all the commands available.  One difference to note
is  the use of the backslash (\) instead of the foreslash (/) used under
AmigaDos.

As  we  have  said before, the floppy disk drives are called drive A and
drive  B and the hard disks are called drive C, D, etc.  Remember to use
'<drive>'  to  change the current drive, instead of 'cd A:'.  e.g.  'C:'
or 'A:'.

Filenames under MS-DOS have a maximum of 8 characters with a 3 character
extension  describing  the type of file.  Files ending with .EXE or .COM
are usually programs which can be run by typing their name.  Script type
files with a .BAT extension are text files containing a list of commands
to  execute  which  you  can execute by just typing their name.  General
text files usually end with .DOC or .TXT.

Some  common  files you will see are AUTOEXEC.BAT and CONFIG.SYS.  These
are  both  text  files  and are similar to the AmigaDOS startup-sequence
located in the s: directory.  The CONFIG.SYS file is executed first, and
contains  commands  which  configure  your  computer, such as device and
mouse  drivers.    The  AUTOEXEC.BAT  file  is  executed  next, and runs
commands such as setting your path, running virus checkers, and starting
memory resident programs.


4.3 Using CopyToA, CopyToI & DirA
---------------------------------

PC-Task  comes  with two MS-DOS utility programs which allow you to copy
files  between  the  PC devices PC-Task is using and your Amiga devices.
These  programs  are  located  on  the MSDOSUtil disk (see Section 1.4 -
Installing  PC-Task) are are used whilst running the PC Task emulation.
The programs are:

CopyToI AmigaPathFile IBMPathFile
Allows you to copy a file from your Amiga device (such as RAM, hard disk
or floppy) to your PC device.  For example:

CopyToI DH0:file.dat a:file.dat

This copies the file file.dat from DH0: to the floppy disk in drive A.

CopyToA IBMPathFile AmigaPathFile
Allows  you to copy a file from your PC device to your Amiga device.  It
works  the  same  way  as  CopyToI  but  in the opposite direction.  For
example:

CopyToA a:file.dat DH0:file.dat

This  copies  file.dat  from  your  PC floppy drive A to your Amiga hard
drive DH0:.

To  print  a  file  using  your  Amiga  printer driver use the following
example:

CopyToA a:file.txt PRT:

To  copy  a  file directly to your Amiga parallel port use the following
example:

CopyToA a: file.txt PAR:

DirA AmigaPathFile
Allows  you  to display the contents of an Amiga drive while running the
PC-Task emulation.  For example, typing:

DirA work: files/

will  display  all  the  contents  of  the work:files/ directory on your
Amiga's drive.


4.4 Getting Software to Run
---------------------------

If  a  program  does  not  work  it  may if you use a different graphics
adapter.  CGA is the most compatible adapter in PC-Task.

Make  sure  the program you are trying will work on a normal PC and does
not  require  a  80386 or greater processor machine, or more memory than
you can allocate.

Use  the 640K conventional memory setting on the options screen as it is
the most compatible.



4.5 Obtaining as Much Memory as Possible
----------------------------------------

If you have 1.5MB or less memory available on your machine you might not
be  getting the full 640K for your PC emulation.  Try one or more of the
following:

Software Methods
Make  a  boot  disk that only runs PC-Task (include TDPatch1213 if using
AmigaOS 1.2/1.3).

Select MDA from the option screen, as it uses the least memory.

Switch  the  serial  and  parallel  ports  to  off in the PC-Task option
screen.

Disconnect external Disk Drives.

Lower the value of "Minimum Leave Available" on option screen.

Run  the  LeaveSlowFast  program  from  a  Shell/CLI   if   you   have a
512KChip/512K Slow Fast machine.

Do not crunch the PC-Task program.

Hardware Methods
Many  A500/A501 machines and A2000's have 512K chip memory and 512K fast
memory.    Since  this  memory is in separate locations PC-Task can only
allocate a largest possible area of 512K.  Most of these machines can be
allocated  to  have  1MB  of chip memory by a repair centre.  This helps
PC-Task  access  more  memory  for emulation.  There is no speed loss as
this "fast" memory is actually as slow as chip and not real "fast".

Alternatively you could buy more memory!



4.6 Achieving Faster Emulation
------------------------------

Software Methods
Use  the MDA Graphics Adapter.  This mode only uses 2 colour text and is
one of the fastest video modes to update.

When using either CGA, EGA, VGA or SVGA add MAXDEPTHTWO or MAXDEPTHTHREE
to  the  PC-Task  icon  ToolTypes  or  your  Shell/CLI arguments.  These
keywords  reduce  the  number  of colours displayed and therefore make a
large  difference  to  speed  on  a machine with only chip and slow fast
memory.

Do not run other programs in the background when using the emulator.

Use AmigaOS 2.0+.

When  using  PC-Task  in  its  own window or on a graphics board, screen
updates will be considerably faster under AmigaOS 3.0+.

Hardware Methods
Having at least 1MB of true Fast RAM (2Mb or more is recommended).

Faster  processors  such  as  a  68020, 68030 or 68040 will increase the
emulation speed.  It is very important to have at least 1MB of 32bit RAM
when using faster processors.

AGA machines, such as an A1200 or A4000, or machines with 24bit graphics
boards  have  faster  graphics updates.  Some display modes PC-Task uses
slow down emulation on ECS or earlier chipset machines.



5.1 File Exchange with Floppy Disks
-----------------------------------

Files  on  an  MS-DOS disk can be accessed from the Amiga environment by
using  CrossDos as supplied with AmigaOS 2.1+, MSH, MultiDOS and similar
products.    The files on these disks may then be accessed transparently
from  within  any  Amiga  program.    You are also able to specify these
devices  as  either  drive  A or B in PC-Task's Floppy Disk Options (see
Section 2.3 - Floppy Disk Options).

Warning:  Filesystems  usually make the assumption they are the only one
with  access  to  a drive, hence they often keep data internally.  Don't
write to a drive from AmigaDOS and under PC-Task and expect both systems
to  know about the change.  You can use the disk change command from the
Amiga  side  to tell the Amiga filesystem that the disk has been changed
since  it was last accessed but no such command exists under MS-DOS.  We
suggest  you don't write to a drive from the Amiga side while PC-Task is
running to avoid this problem.



5.2 Using a 5.25" 40 Track Drive
--------------------------------

Amiga  owners  with 40 Track, or 40 Track capable, 5.25" disk drives can
use  them  under  PC-Task.  They are accessed by using a mountlist entry
that  indicates  to PC Task that they have 40 Tracks (not 80).  This can
be done by adding the following to your "devs:mountlist" file:

MS3:
Device                 =trackdisk.device
Unit                   = 2
Flags                  = 0
Surfaces               = 2
BlocksPerTrack         = 9
LowCyl                 = 0
HighCyl                = 39
#

Where  the  value for unit corresponds to 0=DF0:, 1=DF1:, 2=DF2: and the
value for BlockPerTrack corresponds to 9=360K, 8=320K.

You  should  use  an  MS-DOS  device (such as mfm.device that comes with
Workbench 2.1 +) instead of trackdisk.device.

If you are running AmigaOS 1.2 or 1.3 you will need to provide an MS-DOS
device  as  trackdisk.device  won't  be  patched by TDPatch1213 and will
therefore result in errors.

MS3:
FileSystem                = L:CrossDOSFileSystem
Device                    = mfm.device
Unit                      = 2
Flags                     = 0
Surfaces                  = 2
SectorsPerTrack           = 9
SectorSize                = 512
Reserved                  = 1
Interleave                = 0
LowCyl                    = 0
HighCyl                   = 39
Buffers                   = 5
BufMemType                = 0
StackSize                 = 600
Priority                  = 10
GlobVec                   = -1
DosType                   = 0x4D534400
#

Execute the command "mount MS3:" from a Shell/CLI.  Then specify MS3: in
the  drive  A  or  drive  B text gadget on the option screen.  This will
allow you to use that drive as a 360K 5.25" disk drive.



5.3 Creating a HardDiskFile
---------------------------

A HardDiskFile is an Amiga datafile which PC-Task uses as an MS-DOS hard
disk.  To get the best speed out of HardDiskFiles you should create them
on a freshly formatted or defragmented AmigaDOS hard disk partition.

Step 1
Click on the Create HardDiskFile gadget on the option screen.

Step 2
Click  on  the  file name text gadget and enter the file name (including
path) you wish to assign to your hard disk file.

eg. Work: IBMHardDriveFile

Step 3
Click  the  size text gadget and enter the size in megabytes you wish to
use.    A value of less than 32MB is recommended when using version 3.33
or below of MS-DOS.

Step 4
Click  the  GoDoIt gadget.  If all is well the file should be created on
your  hard  drive  after  a  period of time.  Do not reset your computer
while creating a hard disk file as this may invalidate your hard disk.

Step 5
Click the HardDrive C text gadget and enter the name you entered in step
2.  Save this configuration.

Step 6
Start  the emulator and boot off an MS-DOS disk that contains the MS-DOS
programs  FDisk  and Format.  Do not use FDisk and Format programs which
you  may  have  copied  from  a PC portable, FDisk and Format are MS-DOS
commands,  not  contained  in COMMAND.COM, that come separately with the
MS-DOS package.

Note: You can use the MS-DOS 5.0 install disk for steps 6 to 8.

Step 7
Execute  the FDisk program and partition the hard disk (Note: Usually it
is sufficient to enter return to all options).

Step 8
Now use the format command:

format c:           (To format only)
format c: /s        (To make the hard disk bootable)

Or make the hard disk bootable by using the command:

sys c:

Step 9
You should now be able to access hard disk C.

Make  sure  that  the partition you have created the HardDiskFile on has
buffers.  This will speed up its operation.  You do this by either using
HDToolBox  or  the  Addbuffers command in a Shell/CLI.  Using 29 buffers
per  megabyte  of  HardDiskFile  is the optimum, ie.  if you have a 20MB
HardDiskFile, use buffers of 580 (20x29).



5.4 File Exchange with HardDiskFiles
------------------------------------

CrossDos  -  as  supplied  with  AmigaOS 2.1+, MSH, MultiDOS and similar
products  currently do not allow reading of PC Task and bridgeboard type
hard  disk  files.    Provided  on  the  PC-Task disk is a device called
"hardfile.device"  which  can  be  used  to allow reading and writing of
files from these drives.

To  access the hard disk file, add an entry to your "devs:mountlist" and
mount  the device.  You must also assign HF: to the directory containing
the  hard disk file.  The hard disk file must be named HardFileX where X
is  the  unit  you  wish to use.  When PC Task creates a HardDiskFile it
always  uses  32  BlocksPerTrack,  4  Surfaces  and varies the number of
cylinders  (16 per MB).  The hardfile.device automatically goes past the
partition  information,  losing  the  first track of the hard disk file.
The  mountlist  must  allow  for this missing track.  A simple way to do
this  is to set surfaces to 1 instead of 4, and to multiply the cylinder
number by 4 and subtract one for the missing partition track.

A  simple  way to calculate the HighCyl requires is to use the following
calculation:

HighCyl = (Size in MB X 4 x 16) - 2

For a 4MB HardDiskFile your HighCyl would be:

HighCyl = (4 x 4 x 16) - 2 = 254

Below is an example of a 1MB HardDiskFile under AmigaOS 2.1+:

MH0:
Device                   = hardfile.device
Unit                     = 0
Flags                    = 0
Surfaces                 = 1
BlocksPerTrack           = 32
LowCyl                   = 0
HighCyl                  = 62
Reserved                 = 0
FileSystem               = L:CrossDOSFileSystem
Stacksize                = 4000
Priority                 = 5
GlobVec                  = -1
Buffers                  = 5
BufMemType               = 1
DosType                  = 0x4D534400
#

Below is an example for an MSH 1MB HardDiskFile:

MH0:
Device                   = hardfile.device
Unit                     = 0
Flags                    = 0
Surfaces                 = 1
BlocksperTrack           = 32
LowCyl                   = 0
HighCyl                  = 62
Reserved                 = 0
FileSystem               = L:MessyFileSystem
Stacksize                = 4000
Priority                 = 5
GlobVec                  = -1
Buffers                  = 5
BufMemType               = 1
DosType                  = 0
#

Do not use this device name (e.g.  MH0:) as the hard drive specification
for drive C or drive D in PC Task.

Warning:  Filesystems  usually make the assumption they are the only one
with  access  to  a drive, hence they often keep data internally.  Don't
write to a drive from AmigaDOS and under PC-Task and expect both systems
to  know  about the change.  You can use the diskchange command from the
Amiga  side  to tell the Amiga filesystem that the disk has been changed
since  it was last accessed but no such command exists under MS-DOS.  We
suggest  you don't write to a drive from the Amiga side while PC Task is
running to avoid this problem.



5.5 Creating a Hard Disk Partition
----------------------------------

Setting  up a partition on your hard disk is more complicated than using
a  file as a hard disk, as described in Section 2.4 - Hard Disk Options.
Only  advanced  users  should  attempt to set up a PC partition and even
then  must  keep  in mind that the wrong setup may cause loss of data on
the hard disk.

You  must  assign an area of your hard disk for creating a PC partition,
either  by  using partitioning software such as Commodore's HDToolBox or
GVP's  Faaastprep (if using a drive attached to a GVP controller), or by
creating  a  mountlist   entry   for   the   partition   in   the   file
"devs:mountlist".    If  using versions of MS-DOS below 3.33 a partition
cannot be larger than 32MB.

The DOSType (sometimes called the Identifier) must be set to 0x4d534800,
then  specify  the  partition  as hard disk C or D on the PC Task option
screen and use FDisk and Format to partition it.  If you wish to be able
to  boot  from  this partition you must specify the drive as hard disk C
and  boot  from  a floppy.  Follow steps 6-9 in Section 5.3 - Creating a
HardDiskFile for FDisking and formatting your partition.

MS-DOS has a series of restrictions on the size of various parameters of
a  hard  disk.    PC-Task  solves this problem if the DOSType=0x4D534800
through the following formula:

TotalNumberOfBlocks=
((HighCyl+1)- L- LowCyl) *Surfaces*BlocksPerTrack
MSDOS_BlocksPerTrack=26
MSDOS_Surfaces=((TotalNumberOfBlocks/26)/1024/)+1
OR id ((TotalNumerofBlocks/26)/1024)=1 < 2 MSDOS_Surfaces=2
MSDOS_CYLINDERS=(TotalNumberOfBlocks/26)/MSDOS_Surfaces

If  you  do  not  set  DOSType=0x4d534800, PC-Task will pass on the real
drive parameters to MS-DOS.  They must be within these restrictions:

Surfaces        - Must have a value in range of 1 to 255
BlockPerTrack   - Must have a value in range of 8 to 63

Also: ((Highcyl+1)-LowCyl) Must have a value in range of 1 to 1024.



5.6 File Exchange with Hard Disk Partitions
-------------------------------------------

CrossDos  -  as  supplied  with  AmigaOS 2.1+, MSH, MultiDOS and similar
products  can  read  and  write  to  MS-DOS  hard disk partitions.  Most
products  currently  have  reservations  about  accessing hard disks, so
proceed  completely  at  your  own  risk.   The following information is
provided as a guide.  Consult the other product documentation for a more
complete explanation.  This subject is further complicated by the option
of  getting PC-Task to give MS-DOS different parameters to the real ones
using  DOSType=0x4d534800  as  outlined in Section 5.5 - Creating a Hard
Disk Partition.

CrossDos    handles    the    partition    information    if    you have
DosType=0x4D534800.    You  need  to  create a mountlist with the actual
Device,  Unit,  Flags, LowCyl, HighCyl, Surfaces and BlocksPerTrack.  We
suggest  that  you use HDToolBox to read these parameters.  Consult your
Amiga  Hard Drives manual for more information on using HDToolBox.  Your
mountlist  must  use  a  separate  device  name  to the one you use with
PC-Task.

PCC:

/* Replace these values with your Hard Disk's values */
Device                 = scsi.device
Unit                   = 0
Flags                  = 0
Surfaces               = 4
BlocksPerTrack         = 32
LowCyl                 = 551
HighCyl                = 653

/* These values will not normally change */
FileSystem             = L:CrossDOSFileSystem
Stacksize              = 4000
Priority               = 5
GlobVec                = -1
DosType                = 0x4d534800
Buffers                = 30
BufMemType             = 0
#

Note:  If  in HDToolBox, the parameters given for Heads x BlocksPerTrack
do  not  equal  BlocksPerCylinder, then assume that Heads are equal to 1
and BlocksPerTrack are equal to BlocksPerCylinder.

Warning:  Filesystems  usually make the assumption they are the only one
with  access  to  a drive, hence they often keep data internally.  Don't
write to a drive from AmigaDOS and under PC-Task and expect both systems
to  know  about the change.  You can use the diskchange command from the
Amiga  side  to tell the Amiga filesystem that the disk has been changed
since  it was last accessed but no such command exists under MS-DOS.  We
suggest  you don't write to a drive from the Amiga side while PC-Task is
running to avoid this problem.



5.7 Using an Amiga CD-ROM Drive
-------------------------------

PC-Task  comes  with  a  very  basic CD-ROM driver called PCTCDROM.SYS.
This,  combined  with  the  MS-DOS CD-ROM extension software, allows the
reading  of  CD-ROM's from PC-Task.  This is included with MS-DOS 6, but
can  also be obtained separately for MS-DOS 5 users.  Internet users can
go  via  anonymous   ftp   to   the   ftp.cdrom.com   site   and   fetch
/cdrom/cdext.exe  (a  self-extracting  archive).    It  should   also be
available  on  Microsoft  BBS's  and  the  MSL  library on CompuServe as
CDEXT.EXE.

Your CONFIG.SYS file must have an entry:

DEVICE=PCTCDROM.SYS /D:device,unit

Where  device is the Amiga device to which the CD-ROM is connected (eg.
scsi.device)  and  unit  is the unit number.  An example CONFIG.SYS file
is:

LASTDRIVE=F
FILES=20
DEVICE=SETVER.EXE
DEVICE=PCTCDROM.SYS /D:scsi.device,0

You must enter manually or have in your AUTOEXEC.BAT file a line like:

MSCDEX.EXE /D:MSCD001 /M:8 /V

The only argument that is important to PC-Task is the /D:MSCD001.

Notes: MSCDEX V2.20 does not run under DOS 5.0 unless you use the MS-DOS
command SETVER on it.  Do this if it comes up with incorrect DOS version
error message.

If  you  are  using  the  CSA  accelerator  board  in an Amiga 1200, and
encounter  problems  while  using CD-ROMs under PC-Task, try turning off
the caching and burst mode.



APPENDIX A - Common Problems
----------------------------

No cursor
Try  one  or  more  of  the  following:  turn off mode promotion, reduce
overscan,  move  the  screen  to  the  right,  don't  use VGAOnly, try a
different screen mode.

Disk Full requester when selecting CreateHardDiskFile
You  have  tried to create a file larger than the space available on the
hard disk you specified.  Either reduce the size of the HardDiskFile and
try again or give a filename with a path to a different hard disk.

PC-Task68020+ hangs with GVP board
Some  old  GVP  68030  Accelerator Boards have a PAL (a type of computer
chip)  that  will  not allow reading/writing from odd locations.  If you
find  that  the  PC-Task68020_60/PC-TaskTurbo68020_60 version crashes or
hangs  soon after the emulation starts this could be the problem.  These
people  should  contact  GVP  for  a  replacement  PAL  which fixes this
problem.    See  Section  2.10 - ToolTypes/Shell Arguments on the BADPAL
option.

Wrong program for your processor
You  have  tried  to  run  the  incorrect  version  of  PC-Task for your
processor.  Try another version of the PC Task program.

Error opening or using: parallel.device
Task  cannot  allocate  the parallel.device for use.  Possibly caused by
another program using the serial port.

Error opening or using: Timer
PC-Task  cannot allocate the timer required for use.  Possibly caused by
another  program  using  timers.  Try PC-Task again after quitting other
programs.

Keyboard seems to miss keys or similar
Delete  the KEYB entry or any other keyboard related utilities from your
AUTOEXEC.BAT  unless  it  is  needed  to  remap  to a German keyboard or
similar.



APPENDIX B - Hints & Tips Using PC-Task
---------------------------------------

Following is some points we have picked up along the way which will help
you when using PC-Task.  Some of these are found elsewhere in the manual
next to a related point.

If  you  have  an  A600  you are still able to use the numeric keypad by
using  the  keypad commodity which is available from most Amiga dealers,
the  Fred  Fish  library  and most other sources of freely distributable
software.

Character  sets do not work in MDA or CGA on PC Task.  However they dont
work on a real PC under these modes.

To  get  lower right or upper right characters on foreign keymaps, use a
combination  of  one  or  more of ALT, CTRL and SHIFT with the key.  eg.
the  \ on the German keymap can be obtained by pressing ALT-CTRL-\.  For
a  listing  of  available  keymaps  and  characters refer to your MS-DOS
manual.

Do not use disk compression software under PC Task, such as DoubleSpace.

If  PC-Task  cannot get a screen with enough colours on your Amiga, such
as when you access a 256 colour PC mode on a non-AGA Amiga (or without a
graphics  board),  PC-Task  will use less colours.This means the colours
for that software will look wrong.

Speed  test  programs  are  not a good indication of the actual speed of
PC-Task.

When  using  the  8086 emulation, and running a test program, it may say
the PC-Task is using a NEC V20 or V30 CPU.

Blinking text is not supported.

Windows  for Workgroups 3.11 requires a 80386 or greater to run, so will
not work with PC-Task.

CGA video drivers for Windows 3.1 are available from Microsoft's BBS.

Turning  multitasking  off  does not increase PC Task's emulation speed.
Please do not request us to do this.

Some screen blankers do not work correctly with PC-Task running.  If you
experience problems, disable your screen blanker before running PC-Task.



APPENDIX C - PC Boot Procedure
------------------------------

When  you  switch  on  a PC or start PC Task, inbuilt routines (commonly
called  the  BIOS) carry out initialization procedures.  The system then
checks  for  a bootable disk in drive A or hard disk C to read from, and
gives  control to the DOS contained on this boot disk.  The first sector
on  a  DOS  disk  (located  on  track 0 sector 1 side 0) called the boot
record  is loaded and executed.  It contains a routine that reads in the
ROM  BIOS  interface  for  the  DOS,  usually contained in a file called
IBMBIO.COM  or  IO.SYS.    The  DOS  program  file  called IBMDOS.COM or
MSDOS.SYS is loaded and executed.

Following  this,  the  root  directory of the boot disk is checked for a
CONFIG.SYS  file  which  contains  information  about device drivers and
various  other configuration details.  The AUTOEXEC.BAT file is executed
line by line similar to the Amiga's "S:startup-sequence" file.

COMMAND.COM,  the interface between DOS and the user is then loaded.  It
produces the A:>prompt, or similar, at which you type commands in the PC
environment.



APPENDIX D - Video Modes
------------------------

The modes supported by PC-Task are listed below:

Mode          Type         Size     Graphics Adapters          Colours

Mode $00     Text        40*25     CGA, EGA, VGA, SVGA            2
Mode $01     Text        40*25     CGA, EGA, VGA, SVGA           16
Mode $02     Text        80*25     CGA, EGA, VGA, SVGA            2
Mode $03     Text        80*25     CGA, EGA, VGA, SVGA           16
Mode $04     Graphics   320*200    CGA, EGA, VGA, SVGA            4
Mode $05     Graphics   320*200    CGA, EGA, VGA, SVGA            4
Mode $06     Graphics   640*200    CGA, EGA, VGA, SVGA            2
Mode $07     Text        80*25     MDA, EGA, VGA, SVGA            2
Mode $0D     Graphics   320*200    EGA, VGA, SVGA                16
Mode $0E     Graphics   640*200    EGA, VGA, SVGA                16
Mode $0F     Graphics   640*350    EGA, VGA, SVGA                 2
Mode $10     Graphics   640*350    EGA, VGA, SVGA                16
Mode $11     Graphics   640*480    VGA, SVGA                      2
Mode $12     Graphics   640*480    VGA, SVGA                     16
Mode $13     Graphics   320*200    VGA, SVGA                    256
Mode $100    Graphics   640*400    VGA, SVGA                    256
Mode $101    Graphics   640*480    SVGA                         256
Mode $102/6a Graphics   800*600    VGA, SVGA                     16
Mode $103    Graphics   800*600    SVGA                         256
Mode $104    Graphics  1024*768    SVGA                          16
Mode $105    Graphics  1024*768    SVGA (1Mb), SVGA (2Mb)       256
Mode $106    Graphics  1280*1024   SVGA (1Mb), SVGA (2Mb)        16
Mode $107    Graphics  1280*1024   SVGA (2Mb)                   256



APPENDIX E - MS-DOS Hard Disk Transfer
--------------------------------------

Creating  a  hard  disk  partition  for  use  with PC-Task is one thing.
Making  this partition compatible with a real MS-DOS machine is another.
Whilst  AmigaDOS's RDB's (Rigid Disk Block) occupy the first 2 cylinders
of  a  given hard disk, MS-DOS uses a different method.  Thus installing
RDB's  on  a  disk  that  is  to  be used as an MS-DOS device on another
(non-Amiga)  machine  will  render the disk useless.  To get around this
problem we require a mountlist.

Any device that is listed when the "info" command is used, is "mounted".
Most  Amiga hard disk controllers auto-mount drives which contain RDB's.
However,  when  a  hard disk, or controller, does not contain or support
RDB's,  a  mountlist  is  required.    This  is  a  file   either called
"mountlist"  found  in the devs: drawer (AmigaOS 1.2-2.04), or as a file
named  the  same  as  the  required  device  name  in "devs:dosdrivers/"
(AmigaOS 2.1+).

The  mountlist  contains  the  relevant  information  required  to  tell
AmigaDOS  the  specifications  of  the  partition  being  mounted.  This
consists  of  the  filesystem  being used, the DOSType, the actual drive
geometry and so on.

As  we  are  trying  to  use  the hard disk with an MS-DOS format on the
Amiga,  we  require  an  MS-DOS  filesystem  such  as  MSH  or CrossDos.
CrossDos is a commercial product, that allows the reading and writing of
MS-DOS formatted disk's (both floppy and hard) transparently from within
AmigaDOS.  CrossDos is included with AmigaOS 2.1+.

CrossDos  will  look  for  the  first  MS-DOS  partition, and change the
geometry  you  set  to  match  this.   PC Task requires the actual drive
geometry,  and  so  we  must not use the CrossDosFileSystem with PC Task
when  we  FDisk and format the drive.  If we just use CrossDos, the disk
may  appear  to  format  ok, but will be unreadable on an MS-DOS machine
because the information written by FDisk will not be present.

In  order  to get the right drive geometry, we suggest you use HDToolBox
on  the  Amiga.    When the program is run, it will scan the SCSI bus to
find any attached devices.  Click on the device that you wish to format,
and  select  Change  Drive  Type.    Select  Define  New  and  then Read
Configuration.    You  will  need  to  write  down  the number of Heads,
Cylinders  and  BlocksPerTrack.   When you have written this down simply
Cancel and Exit the program.  Do not save the changes to the drive!

These numbers can then be placed into a mountlist.  Surfaces is equal to
the  number  of  Heads.  LowCyl should be 0, and HighCyl is equal to the
number of Cylinders minus 1.

The  following  is  a  mountlist for use with PC Task.  It is for a 44MB
SyQuest cartridge and the cartridge is readable on real MS-DOS machines,
and Macintosh systems running "AccessPC" or similar.

PCD:
Device         = <your scsi device>
Unit           = <your unit number>
Flags          = 0
Surfaces       = 1
BlocksPerTrack = 34
LowCyl         = 0
HighCyl        = 2549
DosType        = 0x4d534800
#

Simply insert this into your mountlist file and type "mount pcd:".  This
will  make  AmigaDOS  aware  of  the  drive, but you will not be able to
access the drive from AmigaDOS.

Now  boot up PC-Task and specify PCD: as drive C: at the option screen.
Follow  the instructions in Section 5.5 - Creating a Hard Disk Partition
to FDisk and Format the drive.

You  should  now  be  able  to read from and write to the hard disk with
PC-Task  and  transfer  files  between  AmigaDOS  and  PC-Task using the
CopyToI and CopyToA commands (see Section 4.3 - Using CopyToA, CopyToI &
DirA).    While  using these utilities is suitable for a small number of
files,  you  may  be required to transfer hundreds of files between a PC
and  your  Amiga.    In instances like this it is far easier to use your
favourite  directory  utility  such  as  DirWork  to  copy all the files
across.   In order to do this you require CrossDos and another mountlist
that  gives your device a filesystem to use under AmigaDOS.  Below is an
example mountlist entry for a 44MB SyQuest cartridge.

PCC:
FileSystem          = L:CrossDOSFileSystem
Device              = <your scsi device>
Unit                = <your unit number>
Flags               = 0
Surfaces            = 1
BlocksPerTrack      = 34
LowCyl              = 0
HighCyl             = 2549
Buffers             = 5
BufMemType          = 1
StackSize           = 600
Priority            = 5
GlobVec             = -1
DosType             = 0x4d534800
#

When  this  device is mounted, you will be able to read and write to the
device just like any AmigaDOS partition.  Its simply a matter of using a
CLI or a directory utility like DirWork to copy any needed files across.
It is important to note that all filenames will be truncated to MS-DOS's
8.3  format.    CrossDos takes the first 8 characters before a point and
the  first  three after.  You may have to rename your files as the files
TESTFILE1.PICTURE and TESTFILE2.PICTURE would both be named TESTFILE.PIC
when copied to the MS-DOS device.

We  suggest  that  you name your devices as we have here.  While it does
not  matter  what  you call your device, the last letter of the CrossDos
mountlist  is  very  important.  As with AmigaDOS, MS-DOS hard disks may
contain  several  partitions.  The last letter of the CrossDos mountlist
denotes which partition on the disk to mount.  Ending the device name in
C  will  access  the first partition, ending in D will access the second
partition and so on.

Warning:  Filesystems  usually make the assumption they are the only one
with  access  to  a drive, hence they often keep data internally.  Don't
write to a drive from AmigaDOS and under PC Task and expect both systems
to  know  about the change.  You can use the diskchange command from the
Amiga  side  to tell the Amiga filesystem that the disk has been changed
since  it was last accessed but no such command exists under MS-DOS.  We
suggest  you don't write to a drive from the Amiga side while PC-Task is
running to avoid this problem.

In  order  to  use another size device, all that needs to be changed are
the  Surfaces  (equivalent  to the number of Heads), BlocksPerTrack, and
the HighCyl (the number of Cylinders -1).

A mountlist for an 88MB SyQuest cartridge for PC-Task would be:

PCD:
Device           = <your scsi device>
Unit             = <your unit number>
Flags            = 0
Surfaces         = 1
BlocksPerTrack   = 64
LowCyl           = 0
HighCyl          = 2709
DosType          = 0x4d534800
#

and for CrossDos would be:

PCC:
FileSystem        = L:CrossDOSFileSystem
Device            = <your scsi device>
Unit              = <your unit number>
Flags             = 0
Surfaces          = 1
BlocksPerTrack    = 64
LowCyl            = 0
HighCyl           = 2709
Buffers           = 5
BufMemType        = 1
StackSize         = 600
Priority          = 5
GlobVec           = -1
DosType           = 0x4d534800
#

A mountlist for a 270MB SyQuest cartridge for PC Task would be:

PCD:
Device            = <your scsi device>
Unit              = <your unit number>
Flags             = 0
Surfaces          = 1
BlocksPerTrack    = 192
LowCyl            = 0
HighCyl           = 2729
Buffers           = 5
BufMemType        = 1
StackSize         = 600
Priority          = 5
GlobVec           = -1
DosType           = 0x4d534800
#

and for CrossDos would be:

PCC:
FileSystem        = L:CrossDOSFileSystem
Device            = <your scsi device>
Unit              = <your unit number>
Flags             = 0
Surfaces          = 1
BlocksPerTrack    = 192
LowCyl            = 0
HighCyl           = 2729
Buffers           = 5
BufMemType        = 1
StackSize         = 600
Priority          = 5
GlobVec           = 1
DosType           = 0x4d534800
#



APPENDIX F - Technical Support
------------------------------

Technical support for PC-Task can be received by any of the following
methods.

Internet:  pctask@quasar.dialix.oz.au

Amiganet:  Either by using the PC-Task EchoMail area or,
           netmail to Tech Support at 41:300/584.0

Note:  If  you  do  not recieve an E-Mail reply assume your mail was not
received or our reply bounced.

Voice, Fax & BBS:

 +61 3 583 8806 (Voice)
 +61 3 585 1074 (Fax)
 +61 3 584 8590 (The Galaxy BBS 1200-28,8K)

Mail:

 Quasar Distribution
 PO Box 88
 Southland Centre
 Victoria 3192
 Australia



APPENDIX G - Bug Reporting
--------------------------

Please refer to Appendix A - Common Problems, to see if there is already
a  solution  to your problem.  If your problem is not listed then try to
isolate the problem.  To do this check to see if the problem occurs when
only Commodore supplied software is running, as third party programs can
often cause conflicts with other programs.

If  the  problem  still occurs and you believe you have found a bug with
the  PC-Task  software,  please provide as much information as possible.
The following information should always be provided with a bug report to
make isolating and fixing the problem possible.

Machine Model:
Kickstart Version:
Worbench Version:
Memory :
Expansion Boards:

The  AmigaOS  2.0+ program, ShowConfig, normally in the Tools directory,
provides the above information, except machine model.  To use ShowConfig
open a shell and enter:

ShowConfig >ram:config      To produce a file called ram:config.
ShowConfig >PRT:            To print the information to your printer.

Also include the following information which is specific to PC-Task.

PC-Task Version:
MS-DOS Version:
Initial BIOS Screen-
                   Memory Available:
                   Location Allocated:
AUTOEXEC.BAT file:
CONFIG.SYS file:

If  the  problem  only occurs with a certain program, please provide the
program  where  possible  (please  check  copyright restrictions and ask
before E-Mailing the program to Technical Support).



APPENDIX H - References
-----------------------

CrossDos
This is the MS-DOS filesystem that is provided with AmigaOS 2.1+

DirWork
This  is a commercial directory utility, also written by Chris Hames and
published by Quasar Distribution.

EMS40.SYS
This  is  a  freely  distributable Expanded memory driver that will work
under   PC-Task.      It   is   available   via    anonymous    ftp from
wsmr-simtel20.army.mil  and  the  support BBS in the PC Task Updates and
Utils file area.

Fish Library
Is  a  group of disks containing Freely Redistributable Software.  Disks
and  CD-ROMs  containing  the library can be obtained through Amiga User
Groups and software dealers.

Microsoft
The  publishers of MS-DOS, Windows and numerous other packages.  Updates
are  available  via  anonymous  ftp  from  ftp.microsoft.com   or   from
Microsofts support BBS (+1 206 936 6735).

MSH
"Messydos  File  System Handler" copyright Olaf "Rhialto" Seibert.  This
is  freely  distributable  shareware software package which is available
from  the Fred Fish Library collection.  If you use this software please
reward  the  author.  It allows you to read and write MS-DOS 720K floppy
disks  and  hard  disks from the Amiga environment as if they were Amiga
format disks.

MultiDos
MultiDos is an MS-DOS filesystem and is Copyright 1990, 1991 by Kjell H.
Didriksen.    All  rights reserved.  It is freely distributable, but may
not  be  distributed  for  profit  without  written  permission from the
author.  It can be found in the Fred Fish Library or BBS's and networks



APPENDIX I - Glossary
---------------------

AGA
Advanced  Graphic Architecture.  The chipset which is found in the Amiga
1200 and 4000 models.

AmigaDOS
The disk operating system that is used by the Amiga range of computers.

CLI
The command line interface.  This is used, via the Shell, to communicate
with the computer through a series of commands.

Contiguous RAM
Consisting  of a series of adjacent items.  Contiguous RAM is a block of
RAM.

Default
A  value  or  action  that is assumed if no other values or actions have
been specified by the user.

Depth
Often  when  talking  about screens on the Amiga the word depth is used.
In  standard  display  modes  you can equate the palette from the depth.
For example a depth of 4 means 4 bits are allocated for each pixel.  The
number  of colours that this would allow would be 2 to the power of 4 or
16  colours.   So for normal display modes (not HAM, HAM8 etc) Colours=2
to the power of depth.

Device
A physical mechanism such as a printer or disk drive.

Double-click
To rapidly press and release a mouse button twice

Drawer
Corresponds to an AmigaDOS directory.  This allows files to be stored in
a tree-like structure.

E-Mail
Electronic mail

Gadget
A  graphical  representation for a function can be activated by clicking
on it with the mouse.

GoldenGate
The GoldenGate II bridgecard lets you use AT compatible PC plug-in cards
in  your  Amiga PC slots, as Amiga devices controlled by Amiga software,
if a custom driver is available.  The GoldenGate I & II expansion boards
were  created by David Salamon.  PC-Task will, if a port is unknown, try
to use the GoldenGate port.

Keyword
A  Word  that  is  recognized by a command as identifying an argument or
specifying an option.

Mountlist
A  text  tile  in  the  DEVS:  directory that contains information about
devices that have been attached to or installed in the Amiga.

MS-DOS
The disk operating system that is used by PCs

Patition
A  subsection of a hard disk usually treated as if it is a separate hard
disk.

Path
The  series of device, directory and subdirectory names that defines the
location  of  a  file.    The  example  "DF0:hello"  is  the path to the
directory "hello" on the floppy disk drive "DF0:" If you wanted to refer
to  a  file  called  "world"  in  that directory you would give the full
filename (including path) of "DF0:hello/world"

Processor
The  main  CPU  (central  processing  unit)  that  the computer executes
instructions  with.   The Amiga range of computers is based on the 68000
and later processors.

Public Screen
A screen that can be used by any application, such as Workbench.

Tool Types
A method of passing arguments used by the Graphic User Interface.  It is
a  field  in  the  information  window  of  a project or tool icon where
optional parameters can be entered.



---------------------------------END-----------------------------------
