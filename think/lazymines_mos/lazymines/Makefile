#
# Makefile automatically generated by MKMK V6.55
# Thu Mar 17 18:05:13 2016
#

CC= ppc-morphos-gcc-5
OBJS= layout.o lazymines.o images.o tooltypes.o requesters.o counter.o \
      button.o localize.o highscores.o field.o timer.o chunkyiclass.o
CFLAGS= -DBNULL=NULL -O2 -noixemul

lazymines: $(OBJS)
	$(CC) -o $@ $(OBJS) -noixemul
	strip -R.comment $@

convscorefile: convscorefile.o

layout.o: layout.c game.h display_globals.h counter.h layout.h timer.h

lazymines.o: lazymines.c display_globals.h localize.h tooltypes.h \
             requesters.h highscores.h field.h counter.h layout.h images.h \
             game.h timer.h button.h strings.h

images.o: images.c chunkyiclass.h display_globals.h layout.h images.h

tooltypes.o: tooltypes.c game.h tooltypes.h counter.h timer.h

requesters.o: requesters.c display_globals.h localize.h game.h requesters.h \
              strings.h counter.h timer.h

counter.o: counter.c display_globals.h images.h counter.h

button.o: button.c display_globals.h button.h

localize.o: localize.c localize.h strings.h
	$(CC) $(CFLAGS) -DCATCOMP_CODE -DCATCOMP_BLOCK -c $<

convscorefile.o: convscorefile.c

highscores.o: highscores.c display_globals.h requesters.h localize.h game.h \
              highscores.h strings.h counter.h timer.h

field.o: field.c localize.h display_globals.h layout.h images.h counter.h \
         game.h field.h strings.h timer.h

timer.o: timer.c timer.h

strings.h: catalogs/lazymines.cd
	catcomp $< cfile $@


clean:
	-delete $(OBJS) convscorefile.o strings.h

.PHONY: install
install:
	catcomp catalogs/lazymines.cd catalogs/danish.ct \
CATALOG Catalogs/dansk/LazyMines.catalog
	catcomp catalogs/lazymines.cd catalogs/german.ct \
CATALOG Catalogs/deutsch/LazyMines.catalog
	catcomp catalogs/lazymines.cd catalogs/italian.ct \
CATALOG Catalogs/italiano/LazyMines.catalog
	catcomp catalogs/lazymines.cd catalogs/norwegian.ct \
CATALOG Catalogs/norsk/LazyMines.catalog
	catcomp catalogs/lazymines.cd catalogs/polish.ct \
CATALOG Catalogs/polski/LazyMines.catalog
	catcomp catalogs/lazymines.cd catalogs/swedish.ct \
CATALOG Catalogs/svenska/LazyMines.catalog

archive: clean
	lha -r u RAM:lazymines_mos // lazymines lazymines.info
	lha d RAM:lazymines_mos *.subversion* *.svn*
