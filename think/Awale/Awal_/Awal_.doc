--------------------------------------------------------------------------
Awalé	    (c) R.Florac    Saint-Vaury le 10 mars 1991        Version 1.0
Chez Corbin, 25 février 2001, Version 1.2 (adaptation SAS C 6.58)
--------------------------------------------------------------------------



			Présentation du jeu
			-------------------

    Ce jeu, aussi appelé awélé, est un jeu traditionnel africain. Il se joue
sur un plateau de bois garni de deux rangées parallèles de six trous et avec
48 petites graines.  Le but du jeu est de prendre à l'adversaire le  plus de
graines possible. Chacune des deux rangées est le camp d'un des deux joueurs.


			      Règles
			      ------

    Les deux joueurs placent  quatre graines dans les trous de	leur rangée.
Tour à tour, chaque joueur s'empare des graines contenues dans l'une de ses
cases et les sème une par une et dans le sens inverse du sens des aiguilles
d'une montre  dans les trous suivants.  Lorsqu'un joueur pose  sa  dernière
graine	dans un  trou de la  rangée  adverse et  que cette  case  d'arrivée
contient alors DEUX  ou TROIS graines, il  s'empare de son contenu. Il vide
également l'une après l'autre les  cases contiguës se situant AVANT la case
d'arrivée  si elles contiennent également deux ou  trois graines et  si ces
cases sont dans le camp de l'adversaire.
    Si l'un des joueurs effectue un semis de 12 graines ou plus, il n'a pas
le droit de repasser par son trou de départ.  Il devra donc le sauter comme
s'il n'existait pas.
    Lorsqu'un des joueurs n'a plus de graines dans son camp, son adversaire
doit  jouer de	telle  façon qu'il en aie à nouveau:  il doit lui  donner à
manger.  De même si un joueur  joue de telle façon  qu'il prenne toutes les
graines de son adversaire:  son jeu sera interdit, sinon son  adversaire ne
pourrait pas jouer au tour suivant.
    La partie se termine quand l'un des joueurs possède plus de  24 graines
ou quand  l'un  des adversaires  ne peut  plus jouer.  Le gagnant est alors
celui qui détient le plus grand nombre de graines.


			Présentation du programme
			-------------------------

    Le programme a été écrit à l'aide du  compilateur (Lattice) C SAS v5.10
(anciennement Lattice). Il comprend un fichier programme (Awalé), une icone
permettant  son  lancement  depuis  le Workbench  (Awalé.info) ainsi  qu'un
fichier  comportant  l'écran  de  jeu  (awalé.pic).  Pour  fonctionner   le
programme  fait appel à la bibliothèque  du  domaine public  iff.library de
Christian Weber  (Aminet). Le fichiers  iff.library  devra donc être  copié
dans votre répertoire  libs:,  si  nécessaire.	D'autre part  le  programme
utilise  la police  diamond 12,  à défaut il utilisera	cependant la police
topaz de la ROM.

    Après  son lancement  (workbench ou CLI)  le  programme attendra  votre
choix pour savoir  qui joue et qui commence. Vous devrez alors utiliser les
menus  (bouton droit de la  souris)  pour commencer.  Vous remarquerez  sur
l'écran les  deux  rangées de cases remplies  chacune de quatre graines: la
rangée du haut appartient au joueur B, celle du bas est au joueur A.
    Au centre de l'écran figure une zone servant à  l'émission des messages
divers concernant le  déroulement du jeu.  En haut et en bas  figurent deux
zones où  seront stockées les graines  gagnées par chacun  des joueurs.  De
petites encoches  permettent  de comparer  les gains  respectifs  des  deux
joueurs.  Deux encoches de couleur rouge, de taille plus importante situent
les gains victorieux (25 graines et plus).
    Nota:  la  couleur	des  graines  n'a  aucune  importance,  différentes
couleurs ont été utilisées uniquement pour agrémenter le jeu. Cependant les
graines sont distribuées en tenant  compte de leur couleur,  jusqu'à la fin
du jeu.



				Les menus
				---------
Menu PROJET
-----------
    La	première rubrique permet le  démarrage d'une nouvelle partie:  vous
pouvez jouer avec un partenaire humain (humain-humain) ou bien jouer contre
un  adversaire	simulé	par  l'ordinateur  (humain-amiga:  c'est  vous  qui
commencez  ou  amiga-humain: c'est  à lui de débuter  la partie).  L'option
Problème vous permet d'entrer la quantité de  graines que vous désirez pour
chacune des  cases ainsi  que les gains respectifs  des deux joueurs  et de
commencer ainsi la partie, en choisissant votre adversaire.
Cette  rubrique peut  être sélectionnée à  n'importe quel  moment durant la
partie mais  attention car la  partie en  cours sera  alors interrompue  de
façon définitive.  A noter les raccourcis clavier  utilisables	pour opérer
ces  diverses sélections: H, B, M ou P utilisés  conjointement à  la touche
"Amiga", à droite de la barre d'espace.

    La rubrique suivante,  Conseil,  vous  permet  d'obtenir un conseil par
l'ordinateur lors du déroulement de la partie.  Elle ne  peut naturellement
être choisie que si la partie a débuté. Le conseil du micro-ordinateur sera
déterminé en fonction du niveau de jeu sélectionné (voir menu NIVEAU).
    Touche associée: C.

    La rubrique  Abandon permet,  comme son nom  l'indique d'abandonner une
partie en cours.  Le joueur  possédant le plus grand  nombre de  graines  a
alors gagné  la partie. Ce choix peut cependant être annulé par la rubrique
"annulation dernier coup", il n'y donc pas de demande de confirmation.
    Touche associée: A.

    La rubrique  Echange  jeux	permet	simplement  le	changement de  camp
(échange des graines ET des gains).  A noter que si vous échangez votre jeu
avec l'ordinateur le tour de jeu passe alors à celui-ci.
    Touche associée: E.

    La rubrique suivante  (dernier coup),  comporte deux sous-menus: rappel
et annulation.	Le  premier permet simplement de  signaler  quelle a été la
dernière case jouée, alors  que le second  permet l'annulation  du  dernier
coup  joué, et ceci même après un coup	perdant (ou gagnant).  Le programme
mémorise ainsi 100 demi-coups, ce qui permet de remonter ainsi pratiquement
jusqu'au début de la partie.
    Touches associées: R et N.

    La rubrique Jeu Amiga  qui suit est destinée, lors d'un jeu d'un joueur
humain	contre l'Amiga a choisir  la façon  de prendre en compte  le jeu du
micro comme suit:
    - ignore: quand le micro a terminé sa réflexion, il effectue son  semis
    sans signaler quelle  est la case qu'il a jouée (utilisez  alors Rappel
    Dernier coup pour savoir éventuellement quelle case a été jouée)
    Touche associée: I.
    - souris: quand le micro  est  prêt à  jouer, il  signale la case qu'il
    veut jouer et n'effectue le semis qu'après que vous ayez cliqué avec la
    souris pour signaler sa prise en compte.
    Touche associée: S.
    - délai : en fin de réflexion le micro signale brièvement quelle est la
    case  jouée  puis  sème   ses  graines.   A  noter	 que  ces  diverses
    signalisations  sont faites  à l'aide d'une main  qui s'affiche sur  la
    case en question.
    Touche associée: D.

    Rubrique explications:  permet  l'affichage  d'un  bref  descriptif des
règles du jeu  dans une fenêtre.  Cliquez  dans le gadget  de fermeture (en
haut à gauche) pour la refermer et continuer le jeu.
    Touche associée: X.

    Rubrique  Quitter:	devinez...  Attention  il  n'y  a  une  demande  de
    confirmation que si une partie est en cours.
    Touche associée: Q.

Menu NIVEAU
-----------
    Il permet  le choix du  niveau de l'adversaire simulé par l'Amiga ainsi
que celui  des conseils éventuels.  Ce niveau  varie de 1 (facile)  à 8 (un
peu   plus  dur...).   Le  temps  de  réflexion  est  dépendant  du  niveau
sélectionné:  il  varie d'un  temps quasi  nul (niveaux  1 à 5) à 2 minutes
environ  (niveau 8)  en  passant par  30 secondes (niveau 7).  En  fait  le
programme utilisant un	algorithme récursif  le niveau n'est limité que par
le  temps  de réflexion,  chacun  des  niveaux	successifs  entraînant	une
multiplication	du temps par  5 environ,  j'ai limité le niveau maximum à 8
mais un  niveau 10 est concevable...  Le temps de  réflexion  pourrait être
notablement réduit en écrivant	les routines de décision en assembleur, les
routines répétitives et  souvent utilisées (semis par exemple) l'ayant déjà
été, mais  je n'ai  pas jugé utile de  le faire, le  niveau  du jeu  obtenu
m'ayant paru largement suffisant pour un programme de ce type.
    Les niveaux les plus faibles, et surtout le niveau 1, pourront paraître
ardus pour un débutant mais avec un peu d'habitude vous vous rendrez compte
que le programme fait alors d'énormes erreurs,  cependant l'agressivité  du
programme  est	alors  telle   que  vos  erreurs   seront   impitoyablement
sanctionnées. Paradoxalement les niveaux suivants (4 par exemple)  pourront
paraître plus faciles, du moins en début de partie. Le changement de niveau
en cours de partie est naturellement  toujours possible, quand	vient votre
tour de jeu.
    Nota: les menus ne peuvent être sélectionnés pendant le  temps que dure
la réflexion du micro, qui ne peut être interrompue. Les temps de réflexion
indiqués le sont pour un Amiga 2000 de base (7 MHz), ils sont naturellement
bien moindre sur une machine accélérée.
    Touches associées: 1 à 8.

Menu DISQUE
-----------
    Ce menu permet la sauvegarde d'une partie EN COURS  (donc avant sa fin)
et permet  son	rechargement  ultérieur.  Il  est  à  noter  que  TOUS	les
paramètres gérant le jeu (niveau, type de jeu sélectionné...) ainsi que les
coups  déjà joués sont sauvés et récupérés,  ce qui permet  de reprendre la
partie telle que vous l'avez quittée.  Le programme utilise le requester de
la  arp.library pour  choisir le  fichier  à  charger  ainsi  que  pour  la
sauvegarde.  Le nom du fichier peut être choisi librement, aucune extension
n'est ajoutée au nom par le programme (Ex: partie_awalé).


			Lancement du programme
			----------------------

    Le programme,  comme indiqué  au début de cette notice, peut être lancé
depuis le CLI ou le Workbench, à l'aide de la souris.  Dans les deux cas le
niveau de jeu et  le mode  de jeu  (indication du  coup joué  par  l'Amiga)
peuvent être déterminés. Le niveau de jeu par défaut  est fixé à quatre, le
mode est le mode "souris" (plus facile pour les débutants).
    Pour démarrer correctement le  programme a besoin du fichier  awalé.pic
qui devra impérativement  se trouver dans le même répertoire que le fichier
programme (utilisez éventuellement la commande Copy du DOS). Ce fichier est
un fichier standard IFF 320x256 en 32 couleurs.

    CLI
    ---
    Syntaxe: [run] awalé [12345678]
	Le nombre qui suit la commande indique le niveau choisi (de 1 à 8).
    Exemples de commandes correctes:
	awalé 5
	awalé

    Workbench
    ---------
    Il	suffit de cliquer  deux fois sur  l'icone du  programme pour lancer
celui-ci.  Le choix du niveau est fait dans le champ TOOL-TYPES (menu  Info
du Workbench)  en y écrivant  NIVEAU=niveau choisi (NIVEAU=1  par exemple).
Le choix du type de comportement  du micro après avoir	joué peut être fait
en  écrivant  JEU_AMIGA=type  où  "type"  peut être l'un des mots suivants:
IGNORE, SOURIS ou DELAI.
    Attention: les indications doivent impérativement figurer en majuscules
et il ne doit pas y avoir d'espaces.
    Le fichier awalé.info comporte déjà ces deux champs avec des indications.
