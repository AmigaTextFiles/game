; Birds of Prey update script by Mark Knibbs <mark_k@iname.com>
; Running this script should automatically update the bop_c file on a copy
; of your Birds of Prey disk 2 to version 1.1.
;
; $VER: Update_Birds_of_Prey 40.1 (30.5.99)
;

FailAt 21

Echo "*N=================================================================*N=                                                               =*N= Birds of Prey update script by Mark Knibbs <mark_k@iname.com> ="
Echo "=                                                               =*N=================================================================*N*NMake a backup copy of your original Birds of Prey disk 2 and"
Echo "insert the backup into any drive.*N*NIf you have not already made a backup, do so now. Make sure the volume*Nname of the backup is *"Birds of Prey*"*N*NNEVER WRITE TO YOUR ORIGINAL DISK!!!*N*N"

Lab WaitForUser
Ask "Type 'Y' and press Return when you have inserted your backup of*NBirds of Prey disk 2 in any drive, or type 'N' to quit: "

IF NOT WARN
Quit
ELSE

Assign >NIL: "Birds of Prey:" EXISTS
If WARN
Echo "*NPlease insert your backup copy of Birds of Prey disk 2 in any drive.*N"
Skip WaitForUser BACK
ELSE
If NOT EXISTS "Birds of Prey:bop_c"
Echo "Error: *"Birds of Prey:bop_c*" file not found.*N"
Wait 5
Quit
ELSE

If NOT EXISTS bop_c.gpch
Echo "Error: bop_c.gpch patch file not found.*N"
Wait 5
Quit
ELSE

If NOT EXISTS GPatch
Echo "Error: GPatch executable not found.*N"
Wait 5
Quit
ELSE

Echo "*NCopying bop_c file to T: for faster processing. Please wait..." NOLINE
Copy >NIL: FROM "Birds of Prey:bop_c" TO T:bop_c.orig
Echo " done.*N*NCreating version 1.1 bop_c file in T:. Please wait...*N"
GPatch T:bop_c.orig bop_c.gpch T:bop_c.new
IF WARN
Echo "*NThere was an error. Perhaps you already have Birds of Prey version 1.1,*Nor maybe a later version? Contact me."
Delete >NIL: T:bop_c.orig
Wait 5
Quit
ELSE

Echo "*NVersion 1.1 bop_c file created, now copying to your Birds of Prey disk 2*Nbackup..." NOLINE
Copy >NIL: FROM T:bop_c.new TO "Birds of Prey:bop_c"
Echo " done. Now cleaning up..." NOLINE
Delete >NIL: T:bop_c.orig T:bop_c.new
Echo " done. Enjoy playing Birds of Prey version 1.1!"
Wait 5
ENDIF
