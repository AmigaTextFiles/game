OBJS= map.o subtask.o watcher.o civmanager.o public_port.o version.o
CFLAGS=opt

civvie.sasc: $(OBJS)
	sc link $(OBJS) to $@

subtask.o: subtask.c
	sc strmerge nostkchk $(CFLAGS) subtask.c

map.o: map.c
	sc $(CFLAGS) $*.c

watcher.o: watcher.c
	sc $(CFLAGS) $*.c

civmanager.o: civmanager.c
	sc $(CFLAGS) $*.c

public_port.o: public_port.c
	sc $(CFLAGS) $*.c

version.o: version.c
	sc define CIVVIE=\"civvie.sasc\" $*.c