
The following docs AND the included mouse pointer are part of the
King`s-Quest-Fix package from Timo Kaikumaa! I used and modified
them with his kindly permission! THANK YOU, Timo!


S P A C E  Q U E S T  2  P A T C H
""""""""""""""""""""""""""""""""""

Included patches

A patch to remove the "Name-of-thePlayer" Inquiry.
A better looking(?) mouse pointer for the game.
Information about changing the game palette.


Introduction

The Adventures Space Quest 1 and 2 require a name for the player.
That's stupid, because from Space Quest 3 on, the player is always
called "Roger Wilco". So, here is the patch. It removes the disturbing
"Name-of-the-Player" Inquiry within the game. That's all! :-)

Note that both SQ1 and SQ2 default to "Roger Wilco" in case the user
simply enters nothing for his name.


How to proceed

As you may have already noticed, I haven't included a standard Amiga
Installer script or actually any installation scripts at all. This is
because it would be too easy to destroy your original game disk with
incorrect use of a ready-to-use script (people do not usually read
documents unless they have to, and so they might try this patch on their
original disk). It is also because I'm lazy.

In the following, you have to type in various commands. Do not type
the « and » characters around commands. They are just separating the
commands and some indicated file names from the rest of this text.

In order to install the game the following steps need to be made:

· First, make sure the original disk is write-protected.

· Now, make a copy of the original disk. Don't worry if you tried to run
  the game from the duplicated disk - it won't work yet. You can use any
  copier you want. The only requirement is that the disk is processed
  track-by-track basis. For example, Workbench DiskCopy, XCopy, SuperDuper
  or even DMS will do fine.

  Actually you could also work with the original disk as well, but this is
  strongly discouraged. If something goes wrong during the following steps,
  you might cause a permanent damage on your original game disk! By using
  the copy of the original disk, all you are able to destroy is just the
  copy.

· Put the original disk in a safe place. It is not needed anymore.

· Insert the duplicated disk into any drive. Open a Shell (or CLI) and
  change your current directory onto that drive (e.g. by typing «CD DF0:»
  if you are using the internal drive DF0:)

· The game executable (file named «SQ2») has a strange set of file
  protection flags. They need to be changed first so that file could be
  modified. Type «Protect SQ2 +rwed» to set the common protection flags.
  You can also type «Protect SQ2 -hspa» to remove the non-common flags.

· Now you should be aware of the directory where the files coming along
  with this document are resided. Let's say they are in a directory called
  «RAM:SQ2-fix/». In the likely case they are somewhere else, replace
  references to this example directory with their actual location.

  Type in the following command:
  «RAM:SQ2-fix/SPatch -oSQ2 -pRAM:SQ2-fix/SQ2.pch SQ2».

  This will make all necessary modifications to the game executable.
  Note that the file is shorter after this operation.
  (Original: 128708 Bytes Patched: 95456 Bytes!)

· If you would like to have a nicer-looking mouse pointer image in the game,
  try this: «Copy RAM:SQ2-fix/pointer Data/». Otherwise ignore this step.
  See the option chapter below for further information on the subject.

  Assuming you have created a directory for the game called «SYS:games/SQ2/»
  you can copy the files for example by typing «Copy "" SYS:games/SQ2/ ALL».


Options

There are two things in here: palette and the mouse pointer of the game.
First, let's talk about the pointer. In my opinion the mouse pointer of
the first generation of Sierra adventures looks pretty ugly. The image
of the pointer is stored in a file called «pointer» located in «Data»
subdirectory in respect to the main directory (installed games) or root
directory of the disk (non-installed games). This file is 80 bytes long
and contains the binary representation of the pointer sprite in hexadecimal
format. The user of a hex editor can easily figure out how this file is
organized by testing different patterns in here (the file has nothing extra
in it, just the raw pointer data). The pointer included in this software
archive is something that suits my taste, but nothing more. Feel free to
create even better looking pointer, if you think that my version is an
ugly one too!

Another thing to discuss are the colors used in old Sierra adventures.
Actually, in all versions of Space Quest 2 I have seen the colors are
quite ok, but in some other Sierra games of that age they are not. For
instance the skin color might be just too reddish. To make things
complete, I'll also describe how colors can be altered. To begin with,
here are the palette informations from various Sierra 16-color adventures.

The color scheme used in 1987 version of King's Quest 1:

  000, 00F, 080, 0DB, C00, B7D, 850, BBB,
  777, 0BF, 0E0, 0FD, F98, F70, EE0, FFF.

The palette used in 1989 King's Quest 3:

  000, 00B, 0B0, 0BB, B00, B0B, C70, BBB,
  777, 00F, 0F0, 0FF, F00, F0F, FF0, FFF.

Finally, a palette from more modern Sierra games (this one is taken
from King's Quest 4):

  000, 008, 080, 088, 800, 808, 830, 888,
  555, 44F, 0F0, 0FF, F44, F0F, FF0, FFF.

TIP: Use the KQ4 palette for your games and change the value F44
     (2nd line, 4th from behind!) to F98. You get strong colors
     and a beautiful skin color! ;-)

All the above information was taken by using the «Palette» tool included
in the good old OS1.3. The program opens up a palette requester on the
frontmost screen, even if this happens to be a screen owned by a Sierra
game. To make that work, you need to have e.g. the icon for Palette
available in the top portion of the Workbench. Now, when the game is
running, pull its screen downwards enough to make the Palette icon
visible. Then double-click the icon to start the Palette program. It
should show up on the game screen. This allows you to play with the
colors and even use the altered palette as long as the game is running.
But the palette information still needs to be saved in the game
executable.

Again, a hex editor comes handy. The file to be edited is the main
executable, the same file that has already been patched. In this point
it might be a good idea to tell how the above information is present in
the file.

All color components are stored as a separate words in successive
locations. For instance the colors of the 1987 version of the game form
the following hexadecimal string (the spaces and commas are only used
to make this readable, in reality they naturally don't exist):

  0000 0000 0000, 0000 0000 000F, 0000 0008 0000, 0000 000D 000B,
  000C 0000 0000, 000B 0007 000D, 0008 0005 0000, 000B 000B 000B,
  0007 0007 0007, 0000 000B 000F, 0000 000E 0000, 0000 000F 000D,
  000F 0009 0008, 000F 0007 0000, 000E 000E 0000, 000F 000F 000F.

To change this information, one first needs to find out the exact
position of these bytes. Some byte combinations (especially those
with all zeros) may exist also somewhere else in the file, therefore
it is suggested to search for the palette by using the bytes of light
grey color (000B000B000B) as a search key because such bytes are
unlikely to occur anywhere else.


Disclaimer

You are using this software at your own risk! Under no circumstances will the
authors be liable for any direct on indirect damage or data loss resulting
from the use or misuse of these files or the documents.


Authors

Timo Kaikumaa
Atanväylä 14 C 12
33580 Tampere
FINLAND

E-mail:    timok@cs.tut.fi
Home page: http://www.cs.tut.fi/~timok (currently in Finnish only)

Hubert Maier jun.
Grashof 5
83324 Ruhpolding
GERMANY

E-mail:    Hubert_LH@TalkNet.de
Home page: Maybe in the Future! MAY BE! :-)

