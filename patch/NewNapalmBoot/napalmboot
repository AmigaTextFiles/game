;     Revised Napalm_Boot by Samuel Byford
;
; contact me at:  sam@biffordyoungest.u-net.com
;
;      or http://www.photopoetry.co.uk



if not exists "T:"
 assign t: ram:
endif

set q `requestchoice title="Request" body="This will reboot your computer and run Napalm.  Please make sure that Naalm CD is in your CD-Rom drive." gadgets="Okay, Let's go !!!|cancel"`

if eq $q "1"
Assign NAPALM: ""
Mount NAPALM_BOOT: FROM Setup/Boot-Mountlist
Makedir NAPALM_BOOT:S
Copy C:Assign TO NAPALM_BOOT:
cd sys:

Echo "CD *"`CD`*"*NC/ASSIGN C: C*NASSIGN DEVS: DEVS*NASSIGN LIBS: LIBS*NASSIGN L: L*NASSIGN S: S*NASSIGN FONTS: FONTS*NSetpatch >NIL Quiet*N" TO ram:boot1.napalm

cd NAPALM:
Echo "CD *"`CD`*"*NAssign ENV: RAM:*NAssign T: RAM: *NMount Sys:Devs/Dosdrivers/CD0 >NIL: *NAssign Napalm_CD: CD0: >NIL: *NExecute Napalm*NRemRad force*NWait 1*NSetup/Boot-Reset" to ram:boot2.napalm
Join ram:boot1.napalm ram:boot2.napalm to NAPALM_BOOT:S/Startup-Sequence
Wait 1

Setup/Boot-Reset
endif
