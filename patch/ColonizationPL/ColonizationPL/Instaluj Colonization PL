;   Script by LITWIN/Ind
;       2000-07-10  -  Dzieï moich urodzin !!!
;
;       LITWIN/Ind
;       Mariusz Litwiïczuk
;       ul. Rynek 17/7
;       22-523 Horodîo
;       woj. lubelskie
;

(user 2)
(welcome "Witam w skrypcie instalacyjnym polskiej wersji jëzykowej do gry Colonization  - wersja finalna. Dedykowana jest ona osobie Marcina Matyli.")
(message "Opis ten umiejscawia sië na miejscu angielskiej wersji jëzykowej."
    " W przypadku instalacji na twardym dysku dodaîem jednak skrypt, który"
    " przywraca oryginalne ustawienia. Niestety instalacja na dyskietkach"
    " pociâga ze sobâ drobne problemy. Otóû jest zbyt maîo miejsca na"
    " dyskietkach, wobec czego zostanie skasowany plik `Installer'(skrypt"
    " instalacyjny pozostanie.)")
(message " \n\n"
        "\n\nTîumaczenie to naleûy do kategorii \n\n *** CARDWARE ***"
        "\n\nJeôli uûywasz go, lub uûyîeô, powinieneô wysîaê na mój adres"
        " pocztówkë z widokiem okolicy, w jakiej mieszkasz !!!" (all))

 (set typ_instalacji
	(askchoice
		(prompt "Jakâ formë instalacji wybierasz ?")
		(help "Instalacja na twardy dysk, a dyskietki trochë sië pomiëdzy sobâ"
    " róûniâ.\n\n INSTALACJA NA TWARDY DYSK\n"
    "Aby zainstalowaê tîumaczenie na twardym dysku, naleûy najpierw"
    " posiadaê zainstalowanâ na nim grë Colonization. Instalacja najpierw"
    " tîumaczenia, a póúniej gry mija sië z celem."
    "\n W jaki sposób jest to dokonywane ? Otóû nazwy plików oryginalnej wersji"
    " jëzykowej, tj. te z jëzykiem angielskim sâ zmieniane na `*.BAK', które"
    " póúniej moûna ewentualnie z powrotem przywróciê na ich oryginalnâ lokacjë,"
    " odzyskujâc w ten sposób jëzyk angielski (ale teû tracâc polskâ wersjë"
    " jëzykowâ, której to pliki z kolei zostaniâ przemianowane, celem"
    " wykorzystania w przyszîoôci). Zostanie dodany odpowiedni"
    " skrypt umoûliwiajâcy takâ zamianë.")
		(choices "na twardy dysk" "na dyskietki"))
  )

;Nie wiem, co jest "nie tak" z niûej wymienionymi liniami, zawinâîem je w
;jeszcze jeden "nawias" (jako caîoôê, jeôli =0), i... zaczëîo speîniaê
;warunek... Wg mnie powinno i  wczeôniej, ale nie chciaîo...

(if (= typ_instalacji 0)        ;jeôli =0, to instalujemy na HDD
((set @default-dest
    (askdir
		(prompt "Proszë wejôê do katalogu gry Colonization")
		(help "Musisz wejôê na partycjë, a takûe dalej, do wnëtrza katalogu"
" Colonization, w którym zainstalowaîeô grë. Po chwili zostaniesz zapytany o"
" dalsze dziaîanie. W przypadku nie wykrycia pliku `Colonization' oraz"
" katalogów gry, instalacja zostanie przerwana.")
		(default "Colonization:"))
        )

     (set #Col-plik @default-dest)
     (set #Col-plik (tackon @default-dest "Colonization"))
     (set #Col-Exe (tackon @default-dest "Exe"))

;    (message #Col-Exe " !!!" (all))
;    (message @default-dest " !!!" (all))

;--------------------------------- Czy "Colonization" to katalog ?
(if (= (exists #Col-plik) 2)
    (abort "Nie jestem pewien, czy jesteômy wewnâtrz katalogu gry `Colonization',"
    " a jeôli jesteômy, to dlaczego nazwa `Colonization' to katalog ?!?!"
    "\n PRZERYWAM INSTALACJË !!!"))
;--------------------------------- Czy istnieje katalog Exe ?
  (if (= (exists #Col-Exe) 0)
    (abort "Wedîug mnie nie jesteômy wewnâtrz katalogu gry `Colonization',"
    " brak jest katalogów gry !!!"
    "\n PRZERYWAM INSTALACJË !!!")
  )

    (message "!!! UWAGA !!!" "\n"
        "Dotâd na twój HDD nic nie zostaîo zapisane. Od tej chwili"
        " jednak rozpocznie sië procedura kopiowania plików. Czy mogë"
        " kontynuowaê ???"
        (all)
    )

(set #Col-01 (tackon @default-dest "Exe/GameSmallENG.txt"))
(set #Col-01n (tackon @default-dest "Exe/GameSmallENG.txt_BAK"))
    (rename #col-01 #col-01n)
(set #Col-02 (tackon @default-dest "Exe/LabelsENG.txt"))
(set #Col-02n (tackon @default-dest "Exe/LabelsENG.txt_BAK"))
    (rename #col-02 #col-02n)
(set #Col-03 (tackon @default-dest "Exe/MenuENG.txt"))
(set #Col-03n (tackon @default-dest "Exe/MenuENG.txt_BAK"))
    (rename #col-03 #col-03n)
(set #Col-04 (tackon @default-dest "Exe/NamesENG.txt"))
(set #Col-04n (tackon @default-dest "Exe/NamesENG.txt_BAK"))
    (rename #col-04 #col-04n)
(set #Col-05 (tackon @default-dest "Exe/PediaSmallENG.txt"))
(set #Col-05n (tackon @default-dest "Exe/PediaSmallENG.txt_BAK"))
    (rename #col-05 #col-05n)
(set #Col-06 (tackon @default-dest "Exe/Colony.txt"))
(set #Col-06n (tackon @default-dest "Exe/Colony.txt_BAK"))
    (rename #col-06 #col-06n)
(set #Col-07 (tackon @default-dest "Exe/Debug.txt"))
(set #Col-07n (tackon @default-dest "Exe/Debug.txt_BAK"))
    (rename #col-07 #col-07n)
(set #Col-08 (tackon @default-dest "Exe/GAMEENG.Txt"))
(set #Col-08n (tackon @default-dest "Exe/GAMEENG.Txt_BAK"))
    (rename #col-08 #col-08n)
(set #Col-09 (tackon @default-dest "Exe/WoodCutENG.txt"))
(set #Col-09n (tackon @default-dest "Exe/WoodCutENG.txt_BAK"))
    (rename #col-09 #col-09n)
(set #Col-10 (tackon @default-dest "Exe/PediaENG.txt"))
(set #Col-10n (tackon @default-dest "Exe/PediaENG.txt_BAK"))
    (rename #col-10 #col-10n)

;Kopiowanie czcionek
    (copyfiles
	(source "Col_d1/Fonts/")
	(dest "FONTS:")
    (all))

;Kopiowanie plików z pierwszego dysku
    (copyfiles
	(source "Col_d1/Exe/")
	(dest #Col-Exe)
    (all))

;Kopiowanie plików z drugiego dysku
    (copyfiles
	(source "Col_d2/Exe/")
	(dest #Col-Exe)
    (all))

;Kopiowanie plików z trzeciego dysku
    (copyfiles
	(source "Col_d3/Exe/")
	(dest #Col-Exe)
    (all))

;Kopiowanie skryptu zmiany wersji jëzykowej
    (copyfiles
	(source "Zamiana_jëzyka")
	(dest @default-dest))

;Kopiowanie skryptu zmiany wersji jëzykowej
    (copyfiles
	(source "Zamiana_jëzyka.inf")
	(dest @default-dest)
    (newname "Zamiana_jëzyka.info"))

;Kopiowanie opisu
    (copyfiles
	(source "ColonizationPL.Guide")
	(dest @default-dest)
    (infos))

(message "Polskie tîumaczenie gry Colonization zostaîo zainstalowane."
    "\nÛyczë miîej zabawy."
    "\n\nPamiëtaj o zasadach CARDWARE !!!"
     (all))

);To ta podwójna pëtla. Dlaczego bez niej nie dziaîa ???
);Koniec instalacji na HDD

(if (= typ_instalacji 1)
((set czojs
	(askchoice
    (prompt "!!!UWAGA !!!\n"
    "Zainstalowanie polskiej wersji jëzykowej na dyskietkach, ponosi"
    " za sobâ utratë wersji angielskiej - nie ma jej gdzie przekopiowaê"
    " (brak miejsca). Brak jest takûe miejsca dla instalacji wersji polskiej."
    " Wymaga to usuniëcia pliku Installer-a z dysku nr 2.\n \n Czy jesteô pewien,"
    " iû chcesz zainstalowaê na dyskietkach polskâ wersjë jëzykowâ, tracâc"
    " przy tym angielskâ (oraz systemowy Installer) ???"
        (help "A moûe najpierw przekopiuj sobie gdzieô angielskie pliki ?")
        (choices "Nie" "Tak"))
))

(if (= czojs 1);dlaczego po odjëciu pëtli w niûszym rozkazie to nie dziaîa??
((askdisk
	(dest "Colonization Disk 1")
	(prompt "Proszë wîoûyê dyskietkë "
		"\nColonization Disk 1")
	(help "Zostanâ na niej nagrane polskie pliki."
        "\nI jeszcze jedno. Ja posiadam oryginalne dyskietki z grâ. Do"
        " takich dyskietek napisaîem ten skrypt. Nie wiem, jak zachowa sië"
        " on w stosunku do jakichô pirackich kopii. Na pewno sië wysypie,"
        " jeôli na dysku nr 2 nie znajdzie pliku `Installer'.")
  )

;--------------- Przekopiowanie plików na dysk 1
    (complete 0)
    (copyfiles
	    (source "Col_d1/Fonts")
    	(dest "Colonization Disk 1:FONTS")
        (all)
    )
    (complete 20)
    (copyfiles
	    (source "Col_d1/Exe")
    	(dest "Colonization Disk 1:Exe")
        (all)
    )
;--------------- Przekopiowanie plików na dysk 2
 (askdisk
	(dest "Colonization Disk 2")
	(prompt "Proszë wîoûyê dyskietkë "
		"\nColonization Disk 2")
	(help "Zostanâ na niej nagrane polskie pliki."))
    (complete 40)
    (delete "Colonization Disk 2:Installer")
    (complete 50)
    (copyfiles
	    (source "Col_d2/Exe")
    	(dest "Colonization Disk 2:Exe")
        (all)
    )
;--------------- Przekopiowanie plików na dysk 3
    (complete 70)
 (askdisk
	(dest "Colonization Disk 3")
	(prompt "Proszë wîoûyê dyskietkë "
		"\nColonization Disk 3")
	(help "Zostanâ na niej nagrane polskie pliki."))

    (copyfiles
	    (source "Col_d3/Exe")
    	(dest "Colonization Disk 3:Exe")
        (all)
    )
)
    (complete 100)

 (message "Polska wersja jëzykowa zostaîa zainstalowana !!!" (all))

)
));Koniec instalacji na dyskietki


