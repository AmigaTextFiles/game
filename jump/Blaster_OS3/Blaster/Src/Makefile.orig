# Makefile for Blaster, Copyright Oliver Pearce 2004
NAME		= blaster
VERSION		= 1.0.0
CC		= gcc
CXXFLAGS		+= -D_VERSION=\"$(VERSION)\" -g
GCC =g++
CXXSOURCES	= gegner.cpp granate.cpp level.cpp main.cpp \
						panel.cpp schuss.cpp spieler.cpp
INCLUDES	= coRect.h gegner.h granate.h level.h main.h panel.h schuss.h spieler.h


#############################################################

OBJS=$(CXXSOURCES:.cpp=.o)

%.o	: %.cpp
	$(GCC) $(CXXFLAGS)  `sdl-config --cflags`  -c -o $@ $<
	
$(NAME) : $(OBJS)
		$(GCC) $(CXXFLAGS) $(OBJS)  `sdl-config --libs` -lm  \
		-lSDL_mixer -o $(NAME)

clean :
	rm -f *~ $(OBJS) $(NAME)

install : $(NAME)
	#install -d $(DESTDIR)/usr/local/bin
	install -m755 $(NAME) $(DESTDIR)/usr/local/bin
	install -d $(DESTDIR)/usr/local/share/blaster
	install -d $(DESTDIR)/usr/local/share/blaster/images
	install -d $(DESTDIR)/usr/local/share/blaster/sounds
	cd data; install -m755 *.bdt $(DESTDIR)/usr/local/share/blaster
	cd images; install -m755 *.bmp $(DESTDIR)/usr/local/share/blaster/images
	cd sounds; install -m755 *.wav $(DESTDIR)/usr/local/share/blaster/sounds

