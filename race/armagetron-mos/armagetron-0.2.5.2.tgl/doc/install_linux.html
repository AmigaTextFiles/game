







































 
 
 











<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="date" content="2003-08-09T15:37:47+01:00">

   <meta name="author" content="Manuel Moos">
   <title>Armagetron: Documentation</title>
   <meta name="description" content="Armagetron: Documentation">
</head><body>

    



<table width="90%" align=center>
<tr>



<td align=center width="15%">
<a href="index.html" target="_top">First Start</a>
</td>

<td align=center width="15%">
<strong> Installation</strong> 
</td>


<td align=center width="15%">
<a href="network.html" target="_top">Network Play</a>
</td>

<td align=center width="15%">
<a href="config.html" target="_top">Configuration</a>
</td>

<td align=center width="10%">
<a href="faq.html" target="_top">FAQ</a>
</td>

<td align=center width="15%">
<a href="compile.html" target="_top">Redistribution</a>
</td>


</tr>
</table>



<a name=><h1 align=center> Installation</h1></a>

<a name=><h2 align=left>General comments</h2></a>
<p align=justify>
All installation has to be carried out as root. Installation from a source archive is recommended,
as Armagetron will be tailored for your system and missing libraries will be identified and
pointed out to you. Only as a last resort, you should choose the binary archives. The binary RPMs
and Debian packages are a reasonable choice if your system supports them and you can get hold of
the corresponding library packages in the right versions.
</p>
<p align=justify>
The executable should not be started directly, as it will not find its data
files. Instead, call the scripts installed in <strong>/usr/local/bin</strong>.
</p>
<p align=justify>
It is very important that Armagetron and all of its dependencies are built with the same
compiler. The different versions of gcc tend to be slightly binary incompatible with each other,
and on complex projects like this one these small glitches tend to cause unexplainable problems.
The distributed binaries are compiled with gcc 2.95.3, sometimes I do tests with gcc 3.3 and 
gcc 3.2.2.
</p>

<a name=libs><h2 align=left>Required libraries</h2></a>

<ul>
<li>OpenGL or <a href="http://mesa3d.sourceforge.net/" target=_top><strong>Mesa</strong></a> for rendering</li>
<li><a href="http://www.libsdl.org" target=_top><strong>SDL</strong></a> version 1.2.x (Simple Direct Media Layer) for input and sound output</li>
<li><a href="http://www.libsdl.org/projects/SDL_image/index.html" target=_top><strong>SDL_image</strong></a>
version 1.2.x for the textures
which itself needs the libs</li>
<li><a href="http://www.libpng.org/pub/png/pngcode.html" target=_top><strong>pnglib and zlib</strong></a>
(they should be included in your distribution)</li>
<li>Optional: <a href="http://www.libsdl.org/projects/SDL_mixer/" target=_top><strong>SDL_mixer</strong></a></li>
<li>Binary versions only: libstdc++-libc6.2-2.so.3. Use 
<a href="http://rpmfind.net/linux/rpm2html/search.php?query=libstdc%2B%2B-libc6.2-2.so.3&submit=Search+...&system=&arch=" target=_top><strong>rpmfind</strong></a>
or
<a href="http://www.google.com/search?q=libstdc%2B%2B-libc6.2-2.so.3&sourceid=opera&num=0&ie=utf-8&oe=utf-8" target=_top><strong>google</strong></a>
to find a RPM with that library for your system. Sorry, Debian users: I don't know what you need to do; use the
source packages instead.</li>
</ul>

<p align=justify></p>

<a name=><h2 align=left>Installation</h2></a>

<a name=source><h3 align=left>Source archive</h3></a>
<p align=justify>
Unpack the archive and change into the unpacked directory; type 
<pre>./configure
gmake install</pre>
Everything will be copied to <strong>/usr/local/games/armagetron</strong>. Should there already be a version,
make will fail; use <strong>gmake update</strong>. If <strong>gmake</strong> is not found on your system, try 
<strong>make</strong>; however, only GNU make is supported.
To build the dedicated server, add the option <strong>--disable-glout</strong> to the configure script.
To change the installation path, use the option <strong>--prefix=new_path</strong>.
Type <pre>armagetron --uninstall</pre> to uninstall.
</p>

<p align=justify>
Please <a href="http://armagetron.sf.net/contact.html" target=_top><strong>report it</strong></a> if this procedure gives you errors you cannot
resolve; the goal is to make it work on as many systems as possible.
</p>

<a name=rpm><h3 align=left>Binary RPM</h3></a>
<p align=justify>
Type <pre>rpm -i filename.rpm</pre> The RPM build is quite untested, so it may be
that it has registered too many dependencies and you are not allowed to install it; 
you may use the additional switch <strong>--nodeps</strong> to ignore these errors. However, you
may then end up with a broken installation.<br>
The documentation can then found in <strong>/usr/share/doc/packages/armagetron</strong>.
To uninstall, type <pre>rpm -e armagetron</pre>
</p>



<a name=><h3 align=left>Source RPM</h3></a>
<p align=justify>
Type <pre>rpm --rebuild filename.src.rpm</pre> 
This should build binary RPMs suitable for your system in <strong>/usr/src/redhat/RPMS/i386</strong> ( RedHat )
resp. <strong>/usr/src/packages/RPMS/i386</strong> ( SuSE ); you may have to look into the other subdirectories
of <strong>RPMS</strong> to find them. Proceed as described in the <a href="install_linux.html#rpm" target=_top>previous paragraph</a>.<br>
Alternatively, type <pre>rpm -i filename.src.rpm</pre>
This should extract a source package in <strong>/usr/src/.../SOURCES</strong> you can handle like
described <a href="install_linux.html#source" target=_top>in the first section</a>. You can
surely ignore all failed dependencies with <strong>--nodeps</strong> since the 
dependencies were all there when you built the package. ( It is possible,
if not likely, that the automatic dependency generation of RPM produces
junk. )
</p>


<a name=><h3 align=left>Binary archive</h3></a>
<p align=justify>
Unpack the archive and change into the unpacked directory; type <pre>./install</pre>Everything will
be copied to <strong>/usr/local/games/armagetron</strong>. Type <pre>armagetron --uninstall</pre> to uninstall.
</p>

<a name=><h2 align=left>Dedicated Server</h2></a>
<p align=justify>
To install the dedicated server from binaries,
follow all the procedures above with the corresponding
download files; the server will be installed in
<strong>usr/local/games/armagetron_dedicated</strong> and can be invoked by
<pre>armagetron_dedicated</pre> If you want it to run in the background,
start it with the command line <pre>armagetron_dedicated --daemon</pre>
</p>
<p align=justify>
The dedicated server will read its configuration from 
<strong>/usr/local/games/armagetron_dedicated/config</strong> and <strong>~/.armagetron/var</strong>.
</p>


<a name=><h2 align=left>Result</h2></a>




<p align=justify>
The contents of the installation directory should be something like this:
</p>

<table >
<tr><td><strong>bin</strong></td><td> (the directory with the executables and scripts)</td></tr>
<tr><td><strong>models</strong></td><td> (the directory for the cycle models)</td></tr>
<tr><td><strong>sound</strong></td><td> (the directory for sound files)</td></tr>
<tr><td><strong>textures</strong></td><td> (the directory for textures and the icon)</td></tr>
<tr><td><strong>doc</strong></td><td> (the documentation you are just reading)</td></tr>
<tr><td><strong>language</strong></td><td> (the game's text messages)</td></tr>
<tr><td><strong>config</strong></td><td> (static configuration files)</td></tr>

<tr><td><strong>var</strong></td><td> (game logs and custom configuration)</td></tr>
</table>


<p align=justify>
The system wide configuration is stored in 

</p>


<p align=justify>
Additionally, if you installed the moviepack/moviesounds
from the <a href="http://armagetron.sourceforge.net/addons.html" target=_top><strong>addons page</strong></a>,
you'll see the two directories
</p>

<strong>moviepack</strong><br>
<strong>moviesounds</strong><br>




<p align=justify>
containing ONLY files and no subdirectories.
When you have run Armagetron, you'll see the additional files
</p>

<table>
<tr><td><strong>highscores.txt,ladder.txt,won_matches.txt and won_rounds.txt</strong></td><td> (score statistics files)</td></tr>
<tr><td><strong>user.cfg</strong></td><td> (Armagetron custom configuration file)</td></tr>
</table>

<p align=justify>
Inside <strong>~/.armagetron/var</strong>,
You may want to create your own 
<a href="config.html#files">configuration files</a>
</p>

<table>
<tr><td><strong>autoexec.cfg</strong></td><td> (config file read at every start)</td></tr>
</table>
inside <strong>~/.armagetron/var</strong> or the 
<strong>config</strong> subdirectory for your 
custom modifications; that way, they don't get overwritten by the defaults the
next time you install an update.



<a name=cl><a name=><h3 align=left>Command line switches</h3></a></a>
<table>
<tr><td valign=top width=200><strong>-h, +h, --help		 </strong> </td><td> get help </td></tr>
<tr><td valign=top width=200><strong>-v, +v, --version		</strong> </td><td> print version number </td></tr>
<tr><td valign=top width=200><strong></strong> </td><td></td></tr> 
<tr><td valign=top width=200><strong>--datadir <Directory>	</strong> </td><td> systemwide data directory; read game data (textures, sounds and text) from this directory.  </td></tr>
<tr><td valign=top width=200><strong>--userdatadir <Directory>   </strong> </td><td> user data dir; try to read all game data from this directory first. </td></tr>
<tr><td valign=top width=200><strong>--configdir <Directory>     </strong> </td><td> read game configuration (.cfg-files) from this directory.</td></tr>
<tr><td valign=top width=200><strong>--userconfigdir <Directory> </strong> </td><td> user configuration directory; try to read the configuration from here first. </td></tr>
<tr><td valign=top width=200><strong>--vardir <Directory>        </strong> </td><td> save game logs, highscores and user configuration in this directory. </td></tr>
<tr><td valign=top width=200><strong></strong> </td><td></td></tr> 
<tr><td valign=top width=200><strong>-f, +f, --fullscreen        </strong> </td><td> start in fullscreen mode</td></tr>
<tr><td valign=top width=200><strong>-w, +w, --window, --windowed</strong> </td><td> start in windowed mode  </td></tr>
<tr><td valign=top width=200><strong></strong> </td><td></td></tr> 

<tr><td valign=top width=200><strong>-d, +d, --daemon            </strong> </td><td>allow the dedicated server to run as a daemon (will not poll for input on stdin)</td></tr>

</table>

<p align=justify>
The various directories you can set have the following impact on how the game loads and saves files.( Usually, you don't have to bother about it; there are reasonable defaults. But if you want to do
some meddling with the data, these options are your ticket. )
</p>

<a name=><h4 align=left>Data</h4></a>
<p align=justify>
Sounds, textures and models will be first looked for in the directory specified with <strong>--userdatadir</strong>. If they are not
found there or if <strong>--userdatadir</strong> was not used, they are looked for in the directory specified with <strong>--datadir</strong>.
This directory defaults to the current directory if not specified. 
</p>

<a name=><h4 align=left>Configuration</h4></a>
<p align=justify>
(I'll leave out the bits about "if option xxx is not set" from now on )
Configuration files are first looked for in <strong>--userconfigdir</strong>, then <strong>--userdatadir/config</strong> ( the dir passed to <strong>--userdatadir</strong>, appended with <strong>/config</strong> ),
then <strong>--configdir</strong> and finally <strong>--datadir/config</strong>.
</p>

<a name=><h4 align=left>Logs and user configuration</h4></a>
<p align=justify>
Log files ( game results, the settings made in the in game menu )  are loaded from <strong>--vardir</strong>, then, if not found there, from <strong>--userdatadir/var</strong> and finally from <strong>--datadir/var</strong>.
They are only saved in the first of these directories that was specified.
</p>

<p align=justify>
The starter scripts will use the options <strong>--datadir /usr/local/games/armagetron --userdatadir ~/.armagetron --configdir /etc/armagetron</strong>. So, your personal configuration will sit in <strong>~.armagetron/var</strong>.

</p>


<a name=><h2 align=left>Play</h2></a>
<p align=justify>
Type <pre>armagetron</pre>
as a normal user to play.
</p>

<p align=justify>
In case you want to install a permanent server: in 
<strong>/usr/local/games/armagetron_dedicated/rc.d</strong> is a a System V init script; putting soft link 
to it into <strong>/etc/init.d/...</strong> will start the server as the user "armagetron" 
as a background process when your system starts. Feel free to adapt it to your needs.
</p>

<br>



<p align=center>This document was created by
<a href="http://armagetron.sf.net/contact.html" target=_top><strong>Manuel Moos</strong></a>
</p>

<p align=center>
Last modification: Sat Aug  9 15:37:47 CEST 2003

</p>
<p align=center><!--#spaceportsbanner--></p>



<table width="90%" align=center>
<tr>



<td align=center width="15%">
<a href="index.html" target="_top">First Start</a>
</td>

<td align=center width="15%">
<strong> Installation</strong> 
</td>


<td align=center width="15%">
<a href="network.html" target="_top">Network Play</a>
</td>

<td align=center width="15%">
<a href="config.html" target="_top">Configuration</a>
</td>

<td align=center width="10%">
<a href="faq.html" target="_top">FAQ</a>
</td>

<td align=center width="15%">
<a href="compile.html" target="_top">Redistribution</a>
</td>


</tr>
</table>


</body>
</html>
