.c.o:
	LC $(CFLAGS) $*.c

.asm.o:
	ASM -IASM: $*.asm

OBJS		= zmachine.o io.o code.o mem.o zbios.o console.o getopt.o wb.o sound.o
LIBS		= LIB:lc.lib LIB:amiga2.0.lib

CFLAGS		= -DAMIGA -cmiqws -b1 -r1 -v -mt0
LFLAGS		= SC SD ND DEFINE __main=__tinymain

all:		ZorkMachine

console.o:	console.c ZorkMachine.h

ZorkMachine:	$(OBJS)
		BLINK FROM LIB:c.o $(OBJS) TO $@ LIB $(LIBS) $(LFLAGS)
