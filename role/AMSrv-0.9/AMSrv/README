			    AmigaMUD


This is pre-release version 0.9 of AmigaMUD. It replaces versions
0.5, 0.6 and 0.7, all of which have been uploaded to Aminet. Please
feel free to distribute this pre-release as widely as possible. V0.8
was not widely distributed. This is expected to be the last pre-
release of AmigaMUD. I hope to do whatever bug fixes are needed, but
no other changes, before turning this into the first non-beta release,
V1.0.

At least one user, Nils-Arne Dahlberg, has solved all of the quests in
the standard scenario, including the fairly difficult "Heart" quest.
Any others out there managed this?

See the request for pictures and icons at the end of this file. I have
yet to receive any of either, despite some good intentions out there.

Note that this is a BETA release. The system has been tested fairly
extensively on a V2.04 A3000 (I run Enforcer continuously) and on a
V1.3 A1000. Some testing was also done on a V1.3 A2500 and I am now
developing and testing on a V3.1 A4000T. The MUD client has run on
A500's, A1200's and a CDTV (with disk and keyboard).

This release is freely distributable - send it anywhere you like. You
don't have to pay me anything, but I'm much more receptive to
suggestions and requests that come with "donations", which can be sent
to:

	Chris Gray
	#808 - 8515 - 112 St.
	Edmonton, AB
	CANADA	T6G 1K7

Please do NOT send physical letters to me without donations if you
want an answer. As many people who sent me letters about Draco and
Amiga Empire will attest, I simply never get around to answering such
letters. If the letter comes with, say, $50.00, however, I'll probably
answer it right away, and perhaps even send you the latest version. I
prefer to use electronic distribution means, however, since then I
have fewer versions to keep track of.

I am much better at answering electronic mail, which can be sent to:

	cg@ami-cg.GraySage.Edmonton.AB.CA

I also read several Amiga and most MUD newsgroups. I hope to see lots
of wildly enthusiastic articles about AmigaMUD! I suggest newsgroup
comp.sys.amiga.games as the main discussion group, with perhaps some
general MUD-related discussions in rec.games.mud.misc . A lot of the
discussion on V0.5 was in newsgroup comp.sys.amiga.datacomm.


This Release

There are 4 archives in this release. You only need the first one if
you just want to play MUD on someone else's server. If you want to run
a server, you will need the second one as well. If you want to create
your own scenario, you will need all 4 archives.

The first archive, AMClnt-0.9.lha contains:

    README - this file
    ChangesFromV0.5 - notes on what changed from the first version
    ChangesFromV0.6 - much smaller list of changes for this version
    ChangesFromV0.7 - changes between V0.7 and V0.9
    mud.library - the shared library that clients and servers use
    MUD - the actual client program
    Intro.txt - introductory document - read this first
    MUD.txt - how to run the MUD program
    Playing.txt - tips and detailed information on playing within the
	standard AmigaMUD scenario
    Building.txt - how to do online building, both using commands and
	using mouse-buttons
    ToDo.txt - stuff left to do
    birds - a sound sample that will be played occasionally. Place it
	in AmigaMUD:Sounds/birds .
    some icon files

The second archive, AMSrv-0.9.lha contains:

    MUDServ - the AmigaMUD server program
    MUDAgent - the remote client agent program
    MUDShut - the server shutdown program
    MUDFlush - the server flush program
    SMUD - the simple MUD client program
    AgentKill - the Workbench-started agent killer program
    MUDServ.txt - how to be a sysadmin
    MUDAgent.txt - details on the agent program
    SMUD.txt - the simple MUD local client program
    Decisions.txt - some ramblings on possibilities
    MUD.data - the database for the sample scenario
    MUD.index - database index file for scenario
    some icon files

The third archive, AMDoc-0.9.lha contains [this is all of the
    programmer stuff in one archive; the previous release had this in
    two parts]:

    MUDCre - the program used to create the initial database
    Programming.txt - basic information on wizard mode, and on
	programming in AmigaMUD
    Builtins.txt - complete reference on all builtin functions
    simple.m - the source to a simple scenario
    ProgConcepts.txt - tutorial style documentation on writing
	scenarios in AmigaMUD
    Scenario.txt - tutorial/notes on programming within the standard
	scenario, and on using parts of it in new scenarios

The fourth archive, AMScen-0.9.lha contains the complete source to the
    standard scenario. Some extras are included this time.


Quick Setup

The client will run just fine on a 512K Amiga with one floppy disk. To
set up for such a situation, unpack the AMClnt-0.9.lha archive
somewhere, setup a bootable floppy with at least 180K of space, copy
the file "MUD" to somewhere accessible on it, and copy the file
"mud.library" to the "libs" directory (the "libs:" assign location) on
the floppy. The first copy can be done from Workbench by dragging the
MUD icon to where you want it, and the second can be done by having
booted from the floppy you want to install to, and double-clicking on
the "CopyLib" icon.

If you have a hard drive, then you just need to unpack the AMClnt-0.9.
lha archive wherever you want it, and then double click on "CopyLib".

The MUD program looks in location "AmigaMUD:" for any IFF pictures or
sounds that the scenario requests. I haven't supplied many such since
I don't have any. However, MUD will still try to find them. So, you
need to have an assign of that name (or a partition or mounted floppy
with that name) or you will be continually clicking "CANCEL" on the
standard requester.

Installing the server is a bit harder, since it needs a bit more
space. The server will run on a two-floppy 1.5 Meg V1.3 system (like
my Amiga 1000), but more memory and a harddrive make things easier. I
think more memory will be needed on a V2.0 system, but I'm not in a
position to easily test that. The most space a server system needs is
for the database files. They will nearly fill a single density floppy
by themselves. To allow for this, the server program MUDServ can be
told where to look for the files, so it does not have to be in the
same place as the database files. To run on my A1000, I put the
database files on one floppy, and the various AmigaMUD programs, etc.
on a much trimmed down Workbench disk, in a directory called 'MUD'. I
put a tooltype "PATH=DF1:" into the MUDServ icon, telling it where to
find the database files, along with "CACHE=100000" and a stack size of
25000. I have "mud.library" in LIBS: on that floppy, and all of the
programs (MUDServ, MUD, MUDFlush, MUDShut, AgentKill, MUDAgent) in the
MUD directory.

On a harddrive, you can keep everything in one directory, but I
suggest keeping the database files in one directory and the programs
in another, so that it is easier to backup the database files. You
will want to put a proper "PATH=" in the MUDServ icon, and a cache
size suitable for your system. On my A4000T I use 500000, which
results in very infrequent disk I/O once the system has settled down.
I also have a "go" file which runs MUDServ from a shell, with
appropriate parameters. It contains:

    run <path>/MUDServ >nil: <nil: -c500000

If you are not running the server locally, you can add tooltypes to
the MUD icon that will point it at your modem (the default is the
standard serial port, running at 19200 BPS), and you can put in a
modem command to dial the server you will be calling. See MUD.txt for
details. If you are running the server locally, you can put "LOCAL=
TRUE" into MUD's icon, or just set variable "MUDLOCAL=TRUE" to tell
MUD to connect to a local server instead of a remote one.


Quick Running

To start MUD, just double-click on its icon, or, from a shell, type
"MUD" or "run MUD" to start it up. It will initially open two windows,
one for graphics and one for text. If it is doing a local connection,
MUD will connect to the server, and you will be asked for your
character name. If MUD is connecting remotely, the graphics window
will go away, leaving a full-screen text window. In this phase, MUD is
acting like a simple terminal program. Characters you type will be
sent to the serial port (and modem), and characters received from the
modem will be displayed on the screen. If you set up a modem command,
it will be executed as soon as the window opens, so the first thing
you see may be the dialing sequence. When you are connected to the
remote system, you must arrange for it to let you have binary access
to the MUD server. How this is done will depend on the remote system.
If the remote system is not running a BBS or anything else, then the
"MUDAgent" program may answer the phone, and you will have nothing to
do to set up. Once the MUDAgent program is running on the remote host
system, you should see a line saying:

    REMOTE END DETECTED

and the graphics window will come back. Shortly after that you should
get a prompt for your character name. At this point you are using the
AmigaMUD reliable protocol, and modem line noise will be hidden from
you (unless it gets so bad that something gives up!)

When you are prompted for a character name, you should enter the name
you wish to use for your MUD character. This name should not contain
any spaces or punctuation marks. If this is the first time you have
connected, then you may have to type in a "character creation
password", depending on how the MUD administrator has set it up. It is
also possible that you cannot create new characters, and will have to
ask the MUD administrator to do it for you. If you are allowed to
create a new character, then you will have to enter a password for
that character, and then enter the same password again to verify that
you typed what you thought you typed. This password should be known
only to you, so that other people cannot connect to your MUD character
and have it do or say things that you don't want it to have done or
said. On later connections, you will only have to type in your
password once (assuming you get it right).

It is possible that the host system is running software which cannot
run the MUDAgent program in its reliable-protocol mode. In that case,
you will only be able to connect to the AmigaMUD server there in text-
only mode. You will not have graphics output, and you will not have
mouse input. If that is the case, you will probably prefer to use a
normal terminal program instead of the "MUD" program. AmigaMUD is much
less interesting in text-only mode.


What I Want From You

I want this stuff tested! In as many ways and circumstances as
possible!

I want pictures! As you can readily tell, my talents as a graphics
artist are close to non-existant. I have not attempted to draw any
pictures for use in the scenario. The scenario, however, has been
programmed to make use of some of them. I welcome submissions for
these pictures. The pictures of locations must be 160 pixels wide by
100 pixels high using the following palette:

    0x000,	/* 00 - black */
    0x777,	/* 01 - dark grey */
    0x999,	/* 02 - medium grey */
    0xccc,	/* 03 - light grey */
    0xfff,	/* 04 - white */
    0xd00,	/* 05 - brick red */
    0xf00,	/* 06 - red */
    0xf80,	/* 07 - red-orange */
    0xf90,	/* 08 - orange */
    0xfc0,	/* 09 - gold */
    0xfd0,	/* 10 - cadmium yellow */
    0xff0,	/* 11 - lemon yellow */
    0xbf0,	/* 12 - lime green */
    0x0f0,	/* 13 - green */
    0x8e0,	/* 14 - light green */
    0x2c0,	/* 15 - dark green */
    0x0b1,	/* 16 - forest green */
    0x0ca,	/* 17 - blue green */
    0x0db,	/* 18 - aqua */
    0x1fb,	/* 19 - light aqua */
    0x6fe,	/* 20 - sky blue */
    0x6ce,	/* 21 - light blue */
    0x00f,	/* 22 - blue */
    0x69f,	/* 23 - dark blue */
    0xc1f,	/* 24 - violet */
    0xc0e,	/* 25 - purple */
    0xf1f,	/* 26 - magenta */
    0xfac,	/* 27 - pink */
    0xdb9,	/* 28 - tan */
    0xc80,	/* 29 - brown */
    0xa70,	/* 30 - medium brown */
    0xa87	/* 31 - dark brown */

Currently, pen usage is as follows:

    0 - shows up in the borders, due to the Amiga hardware
    1 - initial pen, button letter background, button highlighted letters
    2 - button outer border
    3 - button middle border
    4 - default icon pen, button inner border
    6 - default cursor pen
    9 - button letter colour, button highlighted background colour
    17, 18, 19 - normally used by the pointer (hardware sprite 0)

The pens used by the buttons can be changed, as can those for the cursor
and the icons. (commands 'icon[s]' and 'cursor').

The scenario knows the names of the above set of colours. This is used
for the above commands and in some of the building commands.

The following filenames can be IFF ILBM files in AmigaMUD:Images and
will automatically be used instead of the generated graphics, if they
are present on the client machine. I need any or all of these as nice
images.

    bguild - the builder's guild
    mall - the minimall
    newsRoom - the newsRoom
    pr_alley2 - north end of the alley, leading to the pasture
    pr_alley4 - south end of the alley
    pr_cavern - the big cavern with boulder in middle
    pr_chamber - the chamber with building and lots of doors
    pr_chamber5 - the goblin chamber
    pr_chasm1 - the east chasm area
    pr_chasm2 - the west chasm area
    pr_crossroads - the crossroads
    pr_doors2 - doors room before
    pr_doors3 - doors room after
    pr_entrance - the first Proving Grounds location
    pr_forest2 - south of the hill
    pr_forest6 - the northernmost stream location
    pr_forest7 - north of the hill
    pr_road2 - to the west of the crossroads
    pr_tunnel57 - off to the goblin crawlways
    pr_tunnelX4 - end of tunnel north of chasm
    questRoom - Questor's office
    securityDoor - just before the utility tunnel
    sq_alcove - the entrance alcove
    sq_ante - the entrance antechamber
    sq_kitchen - the kitchen!
    sq_valley1 - south end of valley
    sq_valley12 - north end of valley
    sq_valley13 - middle of valley, with tree
    streets - the town streets
    telegramOffice - the telegram office
    utilityNorth - the north end of the utility tunnel
    utilityPit - in the pit below the utility tunnel
    utilitySouth - the south end of the utility tunnel
    utilityStart - the start position in the utility tunnel
    utilityTunnel - the in-between in the utility tunnel

Note that the newsroom and the telegram office are not present in the
version of the database included here. Names starting with 'pr_' are
in the Proving Grounds. Names starting with 'sq_' are in the squirrel
area. If you make good images of any of these, just uuencode them and
email them to me. If I include your picture in the next release, you
will get credit for it.

I could also use some different icons, especially for the monsters in
the Proving Grounds. All of them are 15 x 15 (leaving space between
them) one-bit-per-pixel images. I need icons for:

    rat, snake, dog, gremlin, wolf, troll, black bear, deer, moose,
    goblin, spider + larger varieties of many

Better version of the icons I already have would be fine, too.
