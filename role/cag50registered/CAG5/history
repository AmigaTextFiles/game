SOME OF THE HISTORY OF CAG 5+

CAG 5.0 IS A MAJOR IMPROVEMENT OVER ALL VERSIONS.
NOT ALL THE CHANGES MADE WERE ADDED HERE.

CAG5 HANDLES BETTER BOBS AND DOUBLE BUFFERED SCREENS
ALL BOBS ARE NOW REMOVED EVERYTIME THE PICTURE
IS REMOVED OR DRAWN - GREAT EFFORT HAS BEEN DONE
TO HANDLE BOBS THE BEST WAY POSSIBLE.

I ALSO NOTICED IN AMOS PRO THAT THE RESTRICTIONS THAT
SOME COMMANDS HAD OF JUST WORKING WITH EVEN ADDRESSES
DISAPPEARED FOR SOME STRANGE REASON (MAYBE THOSE
RESTRITIONS ONLY HAPPENED IN 68000 MACHINES) WHICH
ALLOWED ME TO GAIN MORE SPEED IN SOME PARTS OF CAG.

PLEASE NOTICE CAG 5.0 ISN'T 100% FINISHED BUT EVEN THAT
WAY I DECIDED TO RELEASE IT OR IT WOULD NEVER BE 
RELEASED.


CAG 5.0  1.May.99
=================

IMPROVEMENTS:

o Fixed bug in the Load/Save command. It now Loads and Saves
  information about placed bobs and icons. Now saved positions
  have the extension ".SAV" and 2 extra files are saved, one
  containing data about placed bobs ".DAT1" and other containing
  data about placed icons ".DAT2".

o New commands
  -bigpic n  ;n between 0 and 65535. Shows a picture using full
              screen. Use DESC to restore the old picture
              (Ctr9 put at 0 so that next DESC restores the original
              room picture)

  -MouseBetween x1 y1 x2 y2 ;True if mouse is between x1,y1 and
                             x2,y2. Easier to use than
                             YMouse and XMouse.

  -LimitMouse x1 y1 x2 y2 ;Limits the mouse between coordinates
                           x1,y1 and x2,y2

  -;  ;It allows you to add comments in the conditions:
       Eg: ; This is a comment

o In the CAG doc now exists the pics of both Robert and Marco
  and also pressing 'g' makes a window appear in which we select
  which page to go to.

o Fixed one more bug in the TEXT EDITOR (ROOMS,MESSS,SYSMESSs) that
  could crash CAG. ONLY two? left to fix (it has to do to having
  all lines written and writing something that makes the last line
  go down)

- Objects can now use colours in their description
  and the commands Inven, Inven1, Listobj and Listobj1
  have been improved to accept it

- Diagnostic improved and now has more options (not
  fully working yet

- Instead of SETMAP it uses SETKEYBOARD which comes
  with the WB

- Commands BOB and PLACE BOB improved so that
  if you already have a bob put on screen at
  a certain coordinate and you attempt to put it there
  again they aren't redrawn again avoiding the cls
  -Still need to do the same for PLACEICON

- Save as executable now saves "B*I.coord" as
  "B&I.coord" as the old name caused problems
  with crunchers like LZX

- Command PICTURE now removes all bobs from screen
  before showing the picture and doesn't put
  ctr 9 at 0 ??????????????<can't remember what I mean with this

- replaced many functions dealing with words with deek instead
  of =peek(ad)*256+peek(ad+1) as I did in the past given a 
  gain of 80%  AMOS didn't accept deek, doke, leek, loke using
  odd addresses in the past and now is accepting for some
  strange reason. Don't know if it is an improvement I didn't
  notice in AMOS PRO V2 or if it is somethings allowed by a
  020+ CPU

- harmless bug fix: when crunching a picture in the screen of
  the pictures part of the word "Crunching..." isn't left on
  the screen anymore

- BUG FIXED: Commands Take and Drop didn't put/remove the bobs
  of the objects from/to the screen using BOBS 1

- During the play of the games CAG now decrunches faster
  pictures crunched by decrunching them directly to the screen
  without saving them 1st to RAM: and then to the bank and
  decrunch them. This also uses less memory. In old versions of
  AMOS you could only decrunch pictures from even addresses.

- Game Setting improved a lot by allowing the user to change
  some counters from there without the need of doing that
  during the game.

- The requesters now have underlined
  C and O in "CANCEL" and "OKAY" to
  make easy the choice

- Added Intuition Window at the start
  of CAG for people who register CAG.
  Still not working.

- If the text doesn't fit in one requester
  line the last word of it is automatically
  sent to the new line.

- The command IFFANIM now works.
  It closes screen 1 if exists and plays
  there the animation (screen 0 isn't
  touched). After finishing
  puts ctr 9=0 (so that next DESC refreshes
  the picture) and ctr 34=0 turning same
  resolution off so that after a desc an
  error doesn't occur. After a desc if you
  were using SAME RES before the animation
  you must turn it on again if you want
  it to be used.

- The assigns CAG: and DEMOS: are no longer
  made since they aren't needed anymore.

- The help about the commands is no longer in
  DEMOS: in lots a files but just in one file
  in the same directory as CAG and it is
  loaded to memory everytime you load CAG
  which means that when you want help to a
  command it is read from memory and not
  from disk.

- The default CAG mouse pointer is now
  the same as the one used in the other
  programs

- If you get a database free size negative,
  when you get back to the main menu
  a requester saying that possible
  memory corruption has occurred appears
  and CAG is blocked.

  When you get negative values in the
  dbase left is because something went
  wrong. eg: if when inserting something
  CAG didn't detect that there was no
  space in the dbase it will add the data
  beyond the dbase block affecting non
  reserved parts of the memory which is
  dangerous. there are still someparts
  of CAG not detecting the end of the database
  but they are being removed (mainly INSERT
  buttons).

- BUG fix - when an error requester appears
  in the picture editor the picture is hidden
  and the requester shown. In the past it
  was possible for the request to be hidden
  behing the picture making it extremely
  hard to select its "OKAY" gadget

- Text Editor and Object Editor look
  improved a lot

- In the CAG screen dealing with pictures the arrow gadgets
  to select the shown size of the picture now go in when
  pressed and if you press them very carefully they will now
  only advance/go back one pixel and not always lots of
  pixels<-better control over those gadgets.

- Edit enhanced in all parts of CAG (except during the play
  of the game) which means that you can now use the mouse
  to change the position of the cursor and that is no
  longer only possible in the conditions editor

- The command "Color" was renamed again "Colour" because it
  is more correct in english ("color" is american).
  the colour value is now shown in hexadecimal which makes
  easier to understand the colour being shown there and to
  insert it as well.

- It is now possible to put remarks in the conditions
  by starting the line with a ;   . Everything after it
  in the line will be ignored
  Eg1: ;Below small routine
  Eg2: ;      Below ; Big ; das ;:"weqe

- Command Load changed the way it works. 
  It still resets counter 9 but no longer makes an
  automatic DESC (leaving the conditions).
  This was made to get more power since the big problem
  was always to restore the directory in that present
  game position so that pictures could be correctly
  loaded from disk.
  Eg: if in a LOAD people changed the directory because
      the saved position was not in the current directory,
      it was
      hard for the game to restore it after a SAVE
      as a DESC was made and there was no way for
      the game to know a LOAD had been made. Now it is
      a lot easier.

      Eg: All you have to do is to create a procedure
          specially to restore the directory.
          Use a counter to keep the disk which is
          to be used, for example 255. This counter
          (or any other) everytime you told the user
          to change disk during the game it would assume
          a particular value.
                 Eg: =1 ;disk 1 being used
                     =2 ;disk 2 being used 
                         ...etc

          After a LOAD or SAVE you could jump to 
          a procedure (Eg: Procedure 5) which could have
	  something like:

                 ? ?: equal 255 1 cd "cowabunga_disk1:" desc
                 ? ?: equal 255 2 cd "cowabunga_disk2:" desc
                       ... etc.
       
      
-when you make a mistake in the conditions a line is drawn over the
 mistake. Colours:
                  red=mistake
		  blue=word(verb/noun) not found in vocabulary

-in the diagnostic you can see in red the system counters

-in the text editor it is now possible to export and
 import ASCII files. One can use CED and load things into CAG.
 First menu isn't working yet.

-main menu, there are more spaces in the red text at the bottom of
 the screen so that people with more memory can watch all the
 memory they have(it now fits there)

-fixed a few bugs in several parts of CAG mainly in the CONDITIONS
 EDITOR: a) holding down mouse button in the cond. editor no longer
            makes the cursor invisible and CAG doesn't try to convert
	    the line to code, this only happens when you try to go
	    to other line or press any of the buttons (gadgets) in the
	    bottom of the screen.

	 b) If you go to page two a new sign appears "«"

         c) going back to page one the cursor doesn't appear all to the
	    left but all to the right

	 d) have improved printing in the conditions editor but didn't
	    test it and one of the operations isn't working (option:|ALL| )

-with the "«" in the conditions editor a bug was created by accident.
 when pressing RIGHT AMIGA+x it would clear the input but it would
 also cause damage to the screen.


o MAIN MENU:
  -Changed the © notice in the main menu of CAG back to Shareware again
   and wrote also 1992-1996 instead of only 1996 (gives more impact)
   The © notice is also inside a box which gives more impact.
   It is now written in black and all options have been moved up one line.

  -The pull down menu called OTHER no longer has the compile option because I
   am not going to do it anymore but I activated the debug option even though
   it still only has an option which can only be used by me to track down
   unpoped gosubs. Due to the fact that AMOS PRO can't trap errors of the type
   "POP WITHOUT GOSUB" after it is pressed CAG exits
   (reason why it can only be used/only works from inside AMOS PRO)

  -Part of the interface for the debugger is done but  at the moment
   it can only be used to see the size of each thing in the DBASE. It
   still doesn't check the database for mistakes or possible corruption.
   That will be done later.
   
  -Pull down menus now look better (written in black over white). Still
   don't know how to add a black border to them...must look in the
   manual...


o DIAGNOSTIC:
  -The button MENU never goes pink again when pressed

  -When you show the list of the counters the ones
   which belong to (are used by) CAG system are displayed in RED so that
   people don't use them as their owns by accident


o VOCABULARY
  -You can now abreviate NOUN with N and BOTH with B
   Ex: 10 APPLE N       20 XXXXXXX B
       10 APPLE NOUN    20 XXXXXXX BOTH

  -If you select DELETE XXXXX and there isn't any vocabulary
   in the dbase a requester now says " 'xxxxx' not found.".

  -Dangerous BUG?:
   In the vocabulary, calls originated by pressing PAGE UP/DOWN
   weren't poped which means they weren't taken from the stack and after
   dozens and dozens and dozens and dozens of PG UP/PG DOWN CAG would crash.

   There is still an unPOP call everytime the VOCABULARY is entered but I
   still haven't been able to find where it is being caused.

   NOTICE: BEFORE fixing this bug I loaded CHEEKY PURGE and in the
           vocabulary I pressed PG UP and PG DOWN over 200 times and CAG
  	   didn't crash (Strange...).

o Fixed the bug that caused CAG not to display bobs sometimes in
  double buffered screen. How it happened:
  DEMO.CAG  and CHEEKY PURGE 
  if you opened drawer,closed drawer,opened drawer (this
  time it would not open(only the bob didn't appear)
  this happened because the automatic switch between the logical and
  the physical screen wasn't happening.
  I Fixed this by adding LOCATE X CURS,Y CURS in the routine which does
  nothing but makes AMOS PRO switch "automatically" between the screens
  as it should. Later I must change that LOCATE to SCREEN SWAP which I
  only found out yesterday and works around two times faster.


o Returning back to the main menu from most parts of CAG will no longer
  close and open the screen which means more speed and no more black screen
  (which was extremely anoying).


o TEXT EDITOR (Now better than ever, and can still be improved...):
   -Clicking around in non text areas with the mouse no longer
    refreshes the text cursor (it no longer get "invisible")

   -When writting/deleting/.../... text the cursor is now visible

   -Pressing CURS UP in the first line will no longer cause the cursor
    to refresh

o TEST ADVENTURE
   -When testing your game screen zero now opens faster if it uses a
    resolution of 640x256x8 (the same as main menu) because there is
    no need of opening the screen again.
    If you are using a diferent screen size it will only be faster
    when you start a new game (When you reply 'Yes' to a 'Play Again?')
    because CAG checks if the screen zero it is going to open is equal
    to the one already opened and if that happens there is no need to
    open it again.
 
o MUSICS/SAMPLES:
  -Musics now written music because it has no plural

  -Put requester in MUSIC/SAMPLES saying "No music selected." and
   "No sample selected." in case you try to play a music or sample
   which doesn't exist.

  -Holding down the left mouse button over a selected sample/music
   will no longer refresh the '>' getting rid of that anoying refreshment

  -Clicking in a blank line between a Sample or Music will no longer move
   the '>' to the music/sample below that line

o OBJECTS:
  -screen 1 in objects (preview of bob) now uses 64 colours instead of
   just 32.

o CONDITIONS EDITOR:
  -Now has the options below in shaded mode if you aren't editing PROCEDURES
   or LOCAL CONDITIONS.

o BEGIN IN ROOM:
  -Can now be exited with <ESC> too-it was about time I did this...

o Now all buttons called "EXIT" or "MENU" (which make you return to the
  main menu) are written in black over red-it gives more style this way.

o Menu called OTHER is now called TOOLS

  -Fixed bug which happened in VOCABULARY when pressing PAGE UP/PAGE DOWN
   could make the cursor position change to strange coluns or make extra
   spaces to appear if there was nothing up/down concercing the current
   page on screen.



VERSIONS 2.0
============

o Changes=all because have rewritten the entire program.

o Changed the look, added multitasking gadget top right

o Added error window in case error happens

o Checks the size of the files and only reads files = or above 300 bytes
  thus can save some time and doesn't try to read files with size=0

o The window where the files and versions were shown has more
  lines which means more file can be seen

o Put a button to print the files listed to printer

o optimized the display of the files versions on the screen
  by replacing a loop FOR/NEXT to decode the name of the file from
  a$=dirnext$ with a b$=mid$(a$,2,instr(a$," ",2)-2) which is faster and
  smaller

o the title of the program is now in black. Do you think it looks nicer
  this way?



BOBSICONS 2.0
=============

o fixed a few bugs (such as an error when going to screen
  1 in the mode ICONS and Show and no icon with that #)
  and reduced the code to the limit.

o Gained more 3 pixels in the picture height (you can see more 3 lines)
  in low resolution screens

o Buttons now go in and out

o When passing with the mouse over the main load/save options they
  change colour

o When grabbing BOBS or ICONS the box (rectangle) in the picture is only
  refreshed when the mouse is moved getting rid of that anoying cls

o Error requester now exists

o BUG FIX: you can now  grab BOBS or ICONS from right to left and
           from down to up

o Replaced exit gadget with a new one but must still add gadget in/out

o You can now grab again 256 BOBS (0-255). It has always been possible
  to grab them but not to see more than 253?  from inside BOBS/ICONS.
  It is now possible!!!!!!!!! It was a bug of mine!!!!! sorry!!!!!!

o <SPACE> now toggles between showing the "full" screen (hiding the
  tool bar) and standard look.



PIC CRUNCHER 2.2
================

o Almost entirely rewriten to make it look better
  and work better. Now, when crunching and decrunching,
  the pointer get busy (clock appears), ratio now xx.x instead
  of just xx. properties above the command #

o HARMLESS BUG FIXED: When compressing a picture (standard)
  the "newsize" and "ratio" shown didn't have in mind
  the size of the picture header (6 bytes)

o you can now use short cut keys
  such as:
      L-load pic
      S-SAVE pic
      C-clear
      DEL-delete picture
