         Integrated Legends Database V 3.0 for Amiga computers
         ------------------------------------------------------

UPGRADING FROM AN OLD VERSION - FLOPPY DISK SETUP
   Version 3.0 comes on two disks; a program disk and a data disk.
To upgrade, boot with the new version and bring up a CLI window.
Insert the disk with your OLD data directory on it in df0: (or df1:
if you have two or more drives), and type 
"copy df0:data DATA: all quiet".  If you have two or more drives, 
type in "copy df1:data DATA: all quiet".
Then, for each of your old maps, type in "update nnnn" where nnnn
is the save name of your old map file.
   If you created any other directories, you should be familiar
with AmigaDOS already and should have no trouble copying them over
to the data disk (there isn't much space left on the new program 
disk).

UPGRADING FROM AN OLD VERSION - HARD DRIVE SETUP
   Basically, all you have to do is copy the contents of the new disk
to wherever you previously installed the database.  This could be 
accomplished by typing in:
"copy df0:#? games:legends/"

Then, for each of your old maps, type in "update nnnn" where nnnn
is the save name of your old map file.
   If you created any other directories, you should be familiar
with AmigaDOS already and should have no trouble copying them over
to your data directory.

SYSTEM REQUIREMENTS:
   Any Amiga series computer. A hard drive is NOT necessary.
If you own an Amiga 1000, you must have more than 256 Kilobytes of RAM.
1 Megabyte of RAM is optimal for version 3.0. The program works 100% 
in a WB2.04 environment, I am not sure how well it works under 3.0,
although it should work nicely.  Comments on the program's performance
in this environment would be much appreciated.

   For single-floppy users, I have created a small file called "ramc".
It is run automatically on bootup and places certain often used commands
into ram.  It makes certain operations much speedier and cuts down on
disk swapping.

HARD DISK INSTALLATION - NEW USERS:
   The database program is set up in a workbench environment. It does not
need to be installed if you plan to run it off the floppy. However, to
install the program on your hard drive, the following procedure should
be adequate:

From the WorkBench, make a copy of the Empty drawer and rename it to
whatever you deem appropriate. 

Then, from the CLI (open it if necessary), type:

1> copy df0:#? dh0:<new directory name> quiet
1> makedir dh0:<new directory name>/data
1> copy df0:data dh0:<new directory name>/data all quiet

You do *not* need copies of the following files:
   Preferences, Printer.info, CLI.info

Two more things need to be done. Use a text editor to edit the
startup-sequence on your hard drive, and add the line:

assign DATA: dh0:<new directory name>/data

Also, you must have a temporary directory (preferably on-disk) set up
somewhere.  To do this, type in:

makedir <temporary directory name>

and add the line:

assign T: <temporary directory name>

to your startup-sequence.

After this procedure, reboot.


CONVERTING MAPS FROM VERSION 1.0
   Before you try the conversion, back up all your data files !!
   Just in case...

   Version 3.0 is fully backwards compatible with version 1.0. However,
if you have any maps which were created using 1.0 I urge you to follow
these instructions, especially if you are playing in more than one
Legends module:

1. Boot your computer with the new version. Open the CLI window.
2. rename all of your old _items files to sensible names such as coa_items
   or rti_items.
3. assign DATA: to your old data directory. Run the conversion progam for
   each of your old maps.
   Repeat step 3 for all of your old data directories.
4. copy all old data files into the new data directory, either:
   a) the "data" directory on your copy of the distribution disk, if you
      plan to run from the floppy, or
   b) the new data directory on your hard drive. (See installing the
      Database on a hard drive)
5. Finally, delete the _strings file from your new data directory. (This
   is not actually necessary, but saves about 10K of disk space.)

I sincerely apologize to those 1.0 owners who are sweating over the map
conversion. I didn't appreciate certain limitations that I was programming
into the database until it was too late - these have been fixed and future
releases will require little or no effort to use old maps.



                              USING THE PROGRAM
                              -----------------

1. The main screen
   The main screen contains the following:
   
   * a portion of the actual map is shown in a box in the upper left.
     In this version, different force types have different icons, 
     various terrain patterns are available, and roads and rivers are
     clearly shown.
   
   * province information (if you have created or loaded a map) will be
     shown on the right hand side of the screen.
   
   * the grey box below the map is the command box.  Normally it is 
     blank; slecting a command (via keypress) will jump straight to said
     command.  The 'HELP' key will list all available options or sub-
     options.
     Pressing 'ESCAPE' will abort the current command sequence.
   
   If the cursor is over a province with one or more locations, it is 
   possible to view the "top" (first listed) force by pressing ENTER,
   or double-clicking on the province with the mouse.  To view another
   force in the same province, click on the force name in the province
   overview, or just (V)iew it.
   
   Terrain entry has been greatly simplified: while the left mouse 
   button is down, pressing a key will change the terrain of the 
   selected province to whatever terrain matches the keypress.
   (For example, if Swamp is represented by the symbol 'V', pressing
   that key with the mouse button down will change the current province's
   terrain to Swamp).
   
   To make a province coastal from the map window, press '1' while 
   holding down the LMB.
   
   To make a province a powerpoint, press '2' while holding down the
   LMB. The province will be outlined in a nice red box.  This really
   isn't very satisfactory, and may be changed.
   
   Also, clicking on a province will move the cursor there. 

1.1 Using the Menus
      Most menu selections available are shortcuts to different commands.
   The "Output" menu allows the user to toggle redirection of output
   from reports and searches to any combination of the screen, printer,
   and output file.
      When you have "activated" a file or your printer, ALL reports 
   generated will go to the specified output, whether the report comes
   from a direct report or as the result of a search.

      Currently, all reports will go to at least the screen.
      

2. Commands

Note: all commands that could potentially remove the current map from the
display (such as (N)ew) will be preceeded by a prompt asking whether or
not you wish to save the current map file.

(P)roject   Brings up another menu:

   (N)ew    Create a new map. You will be prompted for size, name, and
            item file to use.  The program does not initialize the terrain 
            table to the defaults, sorry.  You will have to activate
            the defaults yourself (see the 'T' command).

   (L)oad   Load a map from the DATA: directory.  I apologize for the slow
            speed of map loading and saving, but it was necessary to use 
            the disk for backing store due to the large size of the map.
            On a system with lots of memory (>1 MB) or a hard disk, you 
            won't notice much of a slowdown.  1MB floppy systems *will* be
            slow (but, as a bonus, the program works. :)

   (Q)uit   Exit the program.

The following commands are only available if you have loaded or created a
map:

   (S)ave   Save the map currently being worked on. The name can be up
            to 8 characters long and contain no extensions. Note that the
            name you call the save file does NOT have to be the same name
            that you give the map. For example, one of my maps is called
            "Legends - crown of Avalon #5" and the save name is "coa5".
   
   (P)rint Map print a section of the map to your printer, a file, or
            both depending on what output options you have selected (see
            1.1. above)

   (C)hange ID allows you to globally change a common item ID number from
            X to Y. Use this command after finding out the real ID number
            of a common item/status/training/etc that you had previously
            given a "dummy" ID number. 


(!)         Toggle optimized saving on and off. Once in awhile,
            particularly after adding a large number of characters or
            locations, you should use this command and then save the map.

(E)dit prov Edit the province indicated by the cursor.
            Clicking in a box, or pressing the highlighted letter of that
            box's name, will allow you to edit the contents of the box. 
            Rivers and roads may be toggled on and off by clicking on the
            appropriate direction.  Powerpoints and coastal status may
            be toggled on and off with the LMB or hotkey.

(T)errain   Edit the terrain names, keys, and graphic symbols.
            Clicking on the name of a terrain type displayed will activate
            that terrain; after that, any keypress will change the terrain
            key, and clicking on a terrain icon will change the icon
            for the selected terrain type.
            The 'DEFAULT' button will give you a default terrain table.
            WARNING: If the "Deafult" option is selected with a non-blank
            terrain table, strange things may happen (forests will turn 
            into swamps, mountains will become plains, etc, etc).
            The 'NAME' button allows you to change the name of the
            selected terrain type.
            'ESC' will exit, as usual.

(M)ove to   Position the cursor at a specific province.

(D)elete    Delete a character, location, guild, or market.

(V)iew      This replaces the "Report" and "Add/Edit" commands in earlier
            versions.  With this command, you may generate a report on 
            a force, character, guild, or marketplace.  It is possible to
            edit the object you are viewing; in fact this is now the ONLY
            way to edit a game object.
            While viewing/editing an object, you may (V)iew another 
            without exiting the current report.  (saves wear & tear 
            on the Escape key).

(B)urst char This command is good for adding many characters to a single
            location very quickly, which is useful when you first run
            across a major location or a ruin.

(S)earch    This brings up another menu:
   (R)esource  - search all provinces and marketplaces for a specific
                  item type, which can be anything (dwarven slaves for
                  example).
   (C)hars     - multiparameter character search.  Can search on skill,
                  race, culture, special status, etc, or any combination
                  of the above (for example, "find all human barbarians
                  with at least level 5 bard skill, near Tamor Elosium")
   (F)orce     - multiparameter force search. Much like Character search.
   (G)uild     - search for a guild type
   (M)arket    - search for markets ( proximity search only; use (R)esource
                  search to find specific items).
   coat of (A)rms - find all or a subset of game objects (forces, guilds,
                 characters, etc) flying a particular coat of arms, or
                 owned by a certain character.

   Using the multiparameter searches is fairly intuitive.  The database
   will search ALL objects of the type you are searching, with the 
   following search restrictions:
      i.   Fields that were left blank are not considered for the search.
      ii.  A field set to "Any" will find any non-zero value, which may
           be useful for finding all Nomad Orcs with "a special status"
           (no status in particular).
      iii. Any field with a value other than "Any" requires an exact
           match.
      
   During searches, pressing the <Esc> key will halt the search.


2.1 ARROW KEYS:
   Moving around the map is accomplished via the arrow keys. Any information
you may have about the current province is displayed on the righthand side
of the screen.


                           ----------------------

3 Miscellany

3.1 PROVINCE DATA:
Each province may contain data on the following:
* fertility value
* lumber rating               * iron rating
* stone rating                * cleared land
* up to 4 special resources.
* herd information
* rivers and roads


3.2 "Last Update" fields:
   This is an optional field, intended for the purpose of indicating how
recent or reliable information is. On my maps, this field contains the turn
number that said information was aquired.


3.3 Marketplaces
   Marketplace slots are set "to sell" by default. If a market is open
to buy an item, indicate this by entering the negative of the buying
price (for example, if the marketplace was purchasing bows for 10 crowns
each, you would enter -10 for the price.)


3.4 Common Item/Status numbers:
   When entering an item, special status, resource, soldier type, etc. as
found in the Legends rulebook, simply enter the number (e.g. "201" for
human). Use the <return> or <enter> key to accept a default.

   While entering a common item, pressing the "help" key will activate
a help window with the item file displayed. The following keys then take on
certain attributes:
   UP ARROW         - scrolls up the list
   DOWN ARROW       - scrolls down the list
   HELP             - deactivates the item list
   SHIFT+UP ARROW   - top of list
   SHIFT+DOWN ARROW - bottom of list

   If you enter an item number for which there is no description, you will
be prompted for one, and the item will then be added to your item file. Be
patient, this can take a while if your item file is large and you are 
running the program from a floppy disk.
   The item list will attempt to follow you around.  For example, if you
are typing in "201" (for human), the item list will position itself at
that entry.  This can't be turned off, sorry.  If it is really annoying,
send me mail.  I'll get to it. :)

3.5 Character stats:
   When entering an attribute, loyalty rating, or prestige, either an
actual number (e.g. "12") or a maximum four letter description (e.g.
"<avg" for below average) can be used.

3.6 Churches:
   When entering the guild type for a church, the number to enter is 10
plus the religion number.

3.7 Identifying game objects
   When asked to identify a location, character, guild, or marketplace,
you have two options - either enter the id number, or type in the name. If
you type in only part of the name, the program will search through all
characters, markets, etc. and create a list of possible matches. After you
are presented with the first name in the list, you may scroll up and down
the list with the arrow keys, accept a name by pressing CR, enter another
search pattern, or enter an actual ID number.
   Currently, the program will only keep a list of 100 names that match
your search pattern. Any more will be lost, so try and enter a reasonable
search pattern (i.e. "a" is not a good search pattern).

3.8 Disk Management:
   Supplied with the distribution disk is a large selection of printer
   drivers. These take up a lot of space. Select one that works with
   your printer (generic probably will), and DELETE THE REST. An easy
   way to do this is:

1> copy devs/printers/<name> to ram:
1> delete devs/printers/#? quiet
1> copy ram:<name> devs/printers

   Where <name> is the name of the printer driver you have chosen.

   On a hard drive, of course, this is irrelevant.



                            ------------------

SPECIAL KEYS:
   Three keys play a large role in getting around the database:

   <enter/return>    used as a terminator when entering data or accepting
                     a default
   <space bar>       used during searches to find the next match
   <escape>          usable at almost any point to 'back up' to the last
                     menu or option, or quit a search.
                     
MOUSE/KEYBOARD USE:
   The report screens have many buttons and boxes.  To edit information
in the boxes, simply click in them with the left mouse button, OR press
the corresponding key.  I have used light green to indicate the relevent
keypresses, but not quite all of them have been implemented yet.
   When in doubt, click on it with the LMB.  You can't do anything 
terrible (but if you manage to crash the program, let me know).

                           --------------------

4.0 The common item files:

   These files contain lists of Legends "items" used by the database. There
are many, many items that I have not discovered yet, and so they are not
in the item files.  There are three pre-made item files, called coa_items,
rti_items, and nic_items.  Use whichever is appropriate for your module,
and/or edit the above files.

   If you decide to edit an item file, please keep in mind the following
restrictions:

1) All items must be in numerical order (lowest to highest). The program
   will abort if this condition is not met.

2) I have established a convention for putting diety names in the item
   files. Add 2000 to the religion number, that is the item # of of that
   religion. For example,

   Crown of Avalon                  Realm of Immortals
   ---------------                  ------------------
   2000,Atheist                     2000,Atheist
   2001,Alevereth                   2001,Vol
   2002,Rasinoah                    2002,Valandara
   etc...

3) Items and statuses without ID numbers:
   Let's say that one day your character is hacking and slashing an
   opposing army to bits, when suddenly, thanks to her power 2 mithril
   sword, she morphs into a Local Hero. Wow! Great! But what is the
   ID# of that status?
   I am suggesting the following convention: number any unknown items
   or statuses starting from ID# 2100 and up. e.g.

   2100,Local Hero
   2101,Greater Enchanted
   2102,City Watch               (a troop type found in RTI)
   etc...

   You may use the (C)hange ID command from the (P)roject menu to globally
   alter an ID number from X to Y, which is useful when/if you discover the
   real ID number.

Restriction 1) may disappear in future versions.

                           ---------------------

   I have tried to make this program as user-friendly as possible. When in
doubt, hit the three 'special' keys mentioned above - something will
probably happen. If you think you have found a bug, or have a suggestion
for improving the database, please contact me at:

Gordon Lipford, 8512-147 Street, Edmonton, AB, T5R 0X8.
Internet address: glipford@undergrad.math.uwaterloo.ca

