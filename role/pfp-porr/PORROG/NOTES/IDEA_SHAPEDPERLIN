Notes on idea about shaped perlin noise:
========================================

People on rec.games.roguelike.development have often talked about
the issues of generating worlds, and one method often put forward
(one which I've thought about using for Porrog, in various
versions) was using perlin noise to generate heightfields
(or terrain types, or both).
However, it was pointed out that normal 2d perlin noise is not going
to give you things like canyons, or other more-or-less linear fractal
forms (er, I prolly put that wrong. I expect it would be better
expressed in terms of things having a fractal dimension of about 1.5
or something). I set to thinking, how could one get around this?

I thought that it could be possible to "compress" the noise in
certain directions at various points. This sounded messy though.
I decided to look back at more Perlin docs.

On Hugo Elias's page on Perlin noise (which IIRC was where I first
read about it), there was a part talking about smoothing the noise.
Saying how it was especially useful for the 2d noise, because it
made it look less *square*. Now, this wasn't quite what I was
looking for, but the averaging code made me think: what about a
similar filter, that didn't use the 8 neighbours (in fact, for
making it less "square", the 4 *diagonal* neighbours would be
better), but maybe used different shaped filters.
IE- the filters might average with neighbours on 2 opposite
sides more than with on the other 2 sides. Or it might average
with points further away in certain directions. In other words,
the filter would be more *directional*, making the noise perhaps
less rounded!

But clearly, if we did this, point A might take point B into account
far more than point B took point A into account. And if the filters
were the same shape, it would not be a great improvement.

Aha! In addition to our 2d perlin heightfield, we define 2 more
2d noise maps: One, to determine shape, and one to determine
orientation!!
The shape map would be perlin again. Median value would represent
"roundish filter", maximum value "extreme directional filter",
and minimum value "opposite extreme directional filter".
The "opposite extreme" would be same as "extreme", but at a tangent
to the direction.

The orientation map would have to have an equal distribution, as
otherwise the worlds would have a very streaky appearance (eg lots
of horizontal lines). Then, with our equal distribution, 0 would
be horizontal and 0.5 would be vertical.

Er, but hmm. How are *these* filters applied? At what point? Before
composition? After? On one frequency component? I had been thinking
of atomic sized filtering, but that of course only leaves the
fractal forms at that scale :P It would make a lot of sense to have
it applied at the lowest frequency (highest scale) components.
OTOH, it could be applied at a varying scale.... Use ANOTHER 2d
perlin map to define the filtering scale ;)

Of course, this might not be of any real use for generating things
like chasms (but yes, possibly rivers), perhaps the algorithm
should take into account the actual form of the heightfield to
determine some of the other factors (such as shape, orientation
and scale). Whether the things that would be appropriate to take
into account would be actual height, persistence, surface normals.
I have no idea!!!

Hehe, I really ought to see how this actually works out before
proposing more... Tomorrow, a bit of perline noisemap code!
Tonight, sleep.

================================
