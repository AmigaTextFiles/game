;
;-----------------------------------------------------------------------------
;           ******************************************************
;           *                                                    *
;           *                   WARHAMMER v1.1                   *
;           *                                                    *
;           ******************************************************
;
;                           ©1994 By Witold Miotk
;-----------------------------------------------------------------------------
;
;                                Witold Miotk
;                              Nowe Osiedle 5/3
;                               83-300 Kartuzy
;                                   POLAND
;
;-----------------------------------------------------------------------------
;
;                Warhammer v1.0 (27.12.1994) - Skrypt Instalacyjny
;
;


(set @abort-button "Przerwij Instalacjë")
(set @special-msg "Wystâpiî jakiô bîâd. Spróbuj jeszcze raz!")
(set @language "polski")
(complete 0)
(user 2)

; Procedura wyjôcia z instalacji
(procedure WYJSCIE
   (complete 100)
   (exit "\n\nPrzyjemnej pracy z programem WARHAMMER")
)

; Czy na pewno instalowaê?
(set NAPEWNO
  (askbool
   (prompt "*****************************\n"
           "*      WARHAMMER v1.1       *\n"
           "*****************************\n\n"
           "Oto staîeô sië szczëôliwym posiadaczem wspaniaîego programu WARHAMMER. "
           "W zwiâzku z tym pojawiîy sië dodatkowe pytania:\n\n"
           "Czy masz twardy dysk?\n"
           "Czy chcesz zainstalowaê na nim program?\n"
)
   (help  "Nie musisz odpowiadaê. Jeôli sië wstydzisz, lub nie "
          "masz ochoty na instalacjë programu na swoim \"twardzielu\", "
          "to po prostu kliknij na opcjë PRZERWIJ INSTALACJË - i po kîopocie.\n"
          "\nJeôli jednak masz twardy dysk i trochë wolnego miejsca, "
          "jeôli dodatkowo jesteô naîogowym graczem w gry systemu WARHAMMER, "
          "to koniecznie zainstaluj ten niezmiernie przydatny program.\n"
          "\n\nMówië Ci to ja - jego autor. Zrób to, a nie poûaîujesz!!!!"
          "\nPo wykonaniu kompletnej instalacji, caîy program zajmie okoîo"
          " 370KB miejsca na dysku.\n\n"
          "UWAGA ! Aby instalacja przebiegîa bezbîëdnie naleûy wystartowaê"
          " system z twardego dysku, a nie z dyskietki WARHAMMER'a !!!"
)
    (choices
     "Tak"
     "Nie !!!"
    )
  )
)

(if (= NAPEWNO 0)
    (exit (QUIET))
)

; Wybór plików do instalacji
(set WYBOR1
   (askoptions
       (prompt "Wybierz pliki do instalacji:")
       (help "WARHAMMER - Plik gîówny programu. Bez niego praca bëdzie oczywiôcie niemoûliwa. "
             "(327Kb).\n"
             "\nWARHAMMER.DOC - Dokumentacja programu. Wîaôciwie nie wpîywa "
             "bezpoôrednio na jego pracë, jednak sugerujë zaznaczyê ten plik."
             " W razie jakichkolwiek problemów z programem bëdziesz mógî wîaônie "
             "w nim znaleúê potrzebnâ pomoc. (41KB)."
             ""
       )
       (choices
         "Warhammer"
         "Dokumentacja"
       )
   )
)

; Wybór dodatkowych plików do instalacji
(set WYBOR2
   (askoptions
       (prompt "Pliki dodatkowe:")
       (help "W_GRACZE - Przykîadowy plik, zawierajâcy utworzonâ wczeôniej listë graczy. \n"
             "\nW_PRZECIWNICY - Jak wyûej, tyle tylko, ûe plik zawiera dane przeciwników."
             "\n\nObydwa pliki zawierajâ oryginalne zapisy graczy i przeciwników,"
             " pochodzâce z jednej z naszych sesji gry w WARHAMMER'a. Oczywiôcie pliki te nie sâ"
             " niezbëdne do prawidîowej pracy programu. Jeûeli wiëc nie bëdziesz"
             " ich potrzebowaê, po prostu pozostaw je niezaznaczone."
       )
       (choices
         "W_gracze"
         "W_przeciwnicy"
       )
   )
)

; Wybór docelowej ôcieûki programu
(set SCIEZKA
   (askdir
   (prompt "Wskaû katalog, gdzie mam zainstalowaê program. Zostanie w nim zaîoûony katalog WARHAMMER")
   (help "Katalog ten oczywiôcie okreôla miejsce instalacji programu"
         " WARHAMMER."
   )
   (default "Work:")
   )
)

; Przygotowania...
(set SCIEZKA (tackon SCIEZKA "Warhammer"))
(makedir SCIEZKA
         (infos)
)

; Instalacja pliku gîównego
(if (= (in WYBOR1 0) 1)
    (copyfiles
       (source "Warhammer:Warhammer")
       (dest SCIEZKA)
       (infos)
    )
)
(complete 40)

; Instalacja dokumentacji programu
(if (= (in WYBOR1 1) 2)
    (copyfiles
       (source "Warhammer:Dokumentacja")
       (dest SCIEZKA)
       (infos)
    )
)
(complete 60)

; Instalacja przykîadowej listy graczy
(if (= (in WYBOR2 0) 1)
    (copyfiles
       (source "Warhammer:W_Gracze")
       (dest SCIEZKA)
    )
)
(complete 65)

; Instalacja przykîadowej listy przeciwników
(if (= (in WYBOR2 1) 2)
    (copyfiles
       (source "Warhammer:W_Przeciwnicy")
       (dest SCIEZKA)
     )
)
(complete 70)

;Instalacja potrzebnego fontu
(Working "\n\n\n\nTrwa instalacja fontu TopazPL.font\nCzekaj cierpliwie...")
(if (= (and (exists "Fonts:topazpl.font") (exists "Fonts:topazpl/8")) 0)
    (copyfiles
       (source "Warhammer:Fonts/")
       (dest "Fonts:")
       (pattern "topazpl*")
    )
)
(complete 75)

;Instalacja potrzebnej mapy klawiatury
(Working "\n\n\nTrwa instalacja mapy klawiatury angielskiej"
         " z polskimi znakami w standardzie AMIGA PL.\n"
         "Czekaj cierpliwie..."
)
(if (= (and (exists "Devs:keymaps") (exists "Devs:keymaps/usa-pl")) 0)
    (copyfiles
       (source "Warhammer:Devs/keymaps/usa-pl")
       (dest "Devs:keymaps/")
    )
)
(complete 80)

;Instalacja biblioteki diskfont.library
;(Working "\n\n\nInstalacja biblioteki Diskfont.library")
;(copylib
;    (source "Warhammer:libs/diskfont.library")
;    (dest "Libs:")
;)
;(complete 90)

;Instalacja biblioteki AMOS.library
(if (= (exists "Libs:AMOS.library") 0)
   (copyfiles
      (source "Warhammer:libs/AMOS.library")
      (dest "Libs:")
   )
)

(WYJSCIE)
