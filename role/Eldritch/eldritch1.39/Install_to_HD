; $VER: Install Eldritch V1.36 (BETA)     (12 December 1995)
; This script can be distributed with the Eldritch game by
; James N. Weatherall (WEZ of SCROTUM)

; Thanks to Harald Fricke for his comments & improvements to this script!

; ask where to install Eldritch
(set @default-dest
 (askdir
   (prompt "Please select the Directory where you would like to install Eldritch."
           "This script will create an Eldritch directory there.")
   (help @askdir-help)

   ; default path is games: if exists, installer's default otherwise.

   (default (if (exists "games:" (noreq)) "Games:" @default-dest))
 )
)

; Append Eldritch directory name to default destination ...
(set @default-dest
   (tackon @default-dest "Eldritch")
)

; Check that the install directory exists ... otherwise create it.
(if (not (exists @default-dest))s
   (makedir @default-dest (infos))
)

(working "Installing Eldritch Program")
(copyfiles
   (prompt "Eldritch")
   (help @copyfiles-help)
   (source "Eldritch")
   (dest @default-dest)
   (infos)
)

(copyfiles
   (prompt "Bin directory")
   (help @copyfiles-help)
   (source "Bin")
   (dest (tackon @default-dest "Bin"))
   (infos)
   (all)
)

(copyfiles
   (prompt "Displays directory")
   (help @copyfiles-help)
   (source "Displays")
   (dest (tackon @default-dest "Displays"))
   (infos)
   (all)
)

(copyfiles
   (prompt "Graphics directory")
   (help @copyfiles-help)
   (source "Graphics")
   (dest (tackon @default-dest "Graphics"))
   (infos)
   (all)
)

(copyfiles
   (prompt "Sound directory")
   (help @copyfiles-help)
   (source "Sound")
   (dest (tackon @default-dest "Sound"))
   (infos)
   (all)
)

(copyfiles
   (prompt "Install Eldritch.Guide?")
   (help @copyfiles-help)
   (source "Eldritch.Guide")
   (dest @default-dest)
   (infos)
   (confirm)
)

(copyfiles
   (prompt "Templates directory")
   (help @copyfiles-help)
   (source "Templates")
   (dest (tackon @default-dest "Templates"))
   (infos)
   (all)
)

(copyfiles
   (prompt "Install City directory?")
   (help @copyfiles-help)
   (source "Cities")
   (dest (tackon @default-dest "Cities"))
   (infos)
   (all)
   (confirm)
)

(copyfiles
   (prompt "Intro sequence")
   (help @copyfiles-help)
   (source "Intro")
   (dest @default-dest)
   (infos)
)

(copyfiles
   (prompt "Template Generator")
   (help @copyfiles-help)
   (source "TempGen")
   (dest @default-dest)
   (infos)
)

; I have chosen to copy Medplayer library using the copylib command,
; but unfortunately Amos library doesn't like this, so I only install
; it if the user wants me to!

(copylib
   (prompt "Installing medplayer.library")
   (help @copylib-help)
   (source "Libs/medplayer.library")
   (dest "Libs:")
   (confirm)
)

(if (not(exists "Libs:amos.library"))
   (copyfiles
      (prompt "Installing AMOS.library")
      (help @copyfile-help)
      (source "Libs/amos.library")
      (dest "Libs:")
      (confirm)
   )
)

(exit)



