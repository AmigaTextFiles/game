; $VER: Installiere_JdL 2.1 (03.10.96)

;* History:
;*
;* Version  Datum	Bemerkung
;* 2.0	    24.09.96	- Urspruengliches Skript ueberarbeitet und
;*			  deutsche und englische Texte eingefuegt.
;*
;* 2.01     25.09.96	- Als @dest-dir wird nun auf den Wert von
;*			  #Installverz gesetzt.
;*			  Jetzt wird die Protokolldatei im Zielverzeichnis
;*			  abgelegt.
;*			- Aenderung des Textes #wtext1
;* 2.02     26.09.96	- Anpassung an die geanderte Konfigurationsdatei
;* 2.03     30.09.96	- Medplayer-Library ist nicht mehr noetig
;*			- Alte Dateien im "Extension"-Verzeichnis werden
;*			  nach Nachfrage geloescht.
;* 2.10     03.10.96	- Neue Option #NoTxtBuffer eingebaut
;*
;*

;=============================================================================
; German strings

(if (= @language "deutsch")
(
 (set #Warnung
 (cat "Nur um sicherzugehen:\n"
      "Obwohl dieses Installer-Skript ausführlich getestet wurde lehne ich "
      "jede Verantwortung für durch den Gebrauch oder Mißbrauch dieses "
      "Skripts entstandenen Schäden ab.\n"
      "Die Benutzung dieses Skripts erfolgt auf eigene Gefahr..."
 ))

 (set #infotext
 (cat "Einige Dateien im Verzeichnis 'Extension' haben sich geändert oder "
      "sind unnötig geworden und können daher gelöscht werden.\n"
      "Diese Dateien werden nun gesucht und gelöscht."
 ))


 (set #text1a
 (cat "\n\nWillkommen im 'Juwelen des Lichts'-Installer-Skript!"
      "\n\nÜbrigens, hat irgendwer eine brauchbare Dokumentation zum Installer?"
 ))




 (set #text2a
 (cat "\nWo soll das Spiel installiert werden?\n"
      "(Ein neues Verzeichnis namens Juwelen_des_Lichts wird dort angelegt)"
 ))




 (set #text3a
 (cat "\nDieses Skript installiert das Spiel\n -- Die Juwelen des Lichts --\n\n"
      "Es gibt zwei Installationsmöglichkeiten (genaueres im Hilfstext):"
 ))

 (set #text3b
 (cat "Die vollständige Installation kopiert das Hauptprogramm und die Zusatzdateien, "
      "nämlich die Zusatzgrafiken und die Sounds."
      "Aufgrund der Größe der Dateien ist diese Einstellung nur bei der Installation "
      "auf einer Festplatte sinvoll. Benötigt werden ca. 1.5 MByte freien Platz auf der Festplatte."
      "\n\nBei der teilweisen Installation werden die Zusatzgrafiken und Sounds nicht kopiert "
      "und daher kann man mit dieser Einstellung auch auf einer Diskette installieren."
 ))

 (set #text3c
 (cat "Vollständig installieren (nur HD)"
 ))

 (set #text3d
 (cat "Teilweise installieren"
 ))




 (set #text4a
 (cat "Im gewählten Zielverzeichnis ist schon eine neuere Verison von"
      "'Die Juwelen des Lichts' installiert. Die Installation wird"
      "daher abgebrochen."
 ))




 (set #text5a
 (cat "Nicht genügend freier Platz für eine vollständige Installation."
      "Benötigt werden ca. 1.5 Megabyte."
 ))

 (set #text5b
 (cat "Nicht genügend freier Platz für eine teilweise Installation."
      "Benötigt werden ca. 0.8 Megabyte."
 ))




 (set #text6a
 (cat"\nDas Programm kann häufig benötigte Dateien vor dem Programmstart "
     "in einen Puffer kopieren und dadurch den Programmablauf beschleunigen. "
     "Diese Option ist eigentlich nur bei einer Installation auf Diskette sinnvoll."
 ))

 (set #text6b
 (cat "Die Puffer werden beim Programmstart angelegt und darin werden "
      "die Landkarte, die Stadtkarten und die Höhlenkarten "
      "eingelesen um im Spielverlauf schneller verfügbar zu sein. "
      "Allerdings sollte diese Option beim Verwenden einer Festplatte unnötig sein."
      "Sollte nicht genug Speicher vorhanden sein, um die Puffer anzulegen, "
      "dann startet das Programm trotzdem - allerdings ohne Puffer zu verwenden."
 ))

 (set #text6c
 (cat "Keine Puffer anlegen"
 ))

 (set #text6d
 (cat "Puffer anlegen"
 ))



 ; ***** Dies sind die Texte fuer das Konfigurationsfile
 ; ***** Die \n am Ende bzw. im Text sind wichtig!!! Keinesfalls entfernen!!!
 (set #text7a
 (cat "* Dies ist eine automatisch erzeugte Konfigurationsdatei fuer die Juwelen des Lichts\n"
 ))

 (set #text7b
 (cat "* Es werden Puffer angelegt\n"
 ))

 (set #text7c
 (cat "* Keine Puffer anlegen\n#Lowmem\n"
 ))

 (set #text7d
 (cat "* Zusatgrafiken/Verbesserte Grafiken sind nicht aktiviert\n"
 ))

 (set #text7e
 (cat "* Sound ist deaktiviert\n"
 ))

 (set #text7f
 (cat "* Das Speichern der Automappingkarten ist deaktiviert\n"
 ))

 (set #text7g
 (cat "* Zusatgrafiken und verbesserte Grafiken aktivieren\n#Extension=Extension/\n"
 ))

 (set #text7h
 (cat "* Sound aktivieren\n#Sound\n"
 ))

 (set #text7i
 (cat "* Speichern der Automappingkarten aktivieren\n#DKarte=Dungeonkarten/\n"
 ))

 (set #text7j
 (cat "* Deutsche Texte\n"
 ))

 (set #text7k
 (cat "* Textpuffer wird angelegt\n"
 ))

 (set #text7l
 (cat "* Keine Textpuffer angelegen\n#NoTxtBuffer\n"
 ))

 ; ***** Ende der Texte fuer das Konfigurationsfile




 (set #text8a
 (cat "\nDie Zusatzoption Sound wird standardmässig aktiviert."
      "Hierzu wird nun eine interene Routine verwendet, da die MedPlayer-Library offenbar"
      "auf manchen Systemen Probleme bereitet hat."
  ))

 (set #text8b
 (cat "Lasst diese Option aktiviert - es sei denn, der Sound stoert euch..."
 ))

 (set #text8c
 (cat "Keine Sounds"
 ))

 (set #text8d
 (cat "Sounds aktivieren"
 ))




 (set #text9a
 (cat "\nDie Zusatzoption 'Automappingkarten speichern' wird standardmässig NICHT aktiviert."
      "Durch Aktivieren dieser Option werden die während des Spiels vom Programm"
      "gezeichneten Dungeonkarten gespeichert und stehen bei späteren Spielen"
      "wieder zur Verfügung. Allerdings benötigt man bis zu 200 KByte mehr Speicherplatz"
      "auf der Floppy/Harddisk."
 ))

 (set #text9b
 (cat "Wer sich den Speicherplatz leisten kann, der sollte es tun..."
      "Diese Option ist doch sehr nützlich."
 ))

 (set #text9c
 (cat "Karten NICHT speichern"
 ))

 (set #text9d
 (cat "Karten speichern"
 ))


 (set #text10a
 (cat "Installiere die iff.library nach LIBS:\n"
      "Diese Bibliothek wird für die Grafiken benötigt."
 ))


 (set #text11a
 (cat"\nDas Programm kann die nötigen Texte beim Programmstart in den "
     "Speicher lesen und man vermeidet dadurch dauernde Zugriffe auf die "
     "Diskette/Festplatte. Benutzen sie eine Festplatte und/oder haben "
     "Bitte lesen sie den unter Hilfe angegebenen Text lesen für "
     "weiter Informationen."
 ))

 (set #text11b
 (cat "Das Anlegen eines Textpuffers ist besonders sinnvoll beim Spielen "
      "von einer Diskette, da regelmässig Texte nachgeladen werden. "
      "Allerdings benötigt der Puffer ca. 80 KByte Speicher und es kann "
      "daher bei 1 MByte Hauptspeicher zu Speichermangel kommen.\n"
      "Meine Empfehlung: Ausprobieren, denn "
      "sollte nicht genug Speicher vorhanden sein, um den Puffer anzulegen, "
      "dann startet das Programm trotzdem - allerdings ohne Puffer zu verwenden."
      "\n\nFestplattenbenutzer werden den Textpuffer vermutlich nicht "
      "benötigen, da das Nachladen von Festplatte kaum eine Verzögerung "
      "bedeutet."
 ))

 (set #text11c
 (cat "Keinen Textpuffer anlegen"
 ))

 (set #text11d
 (cat "Textpuffer anlegen"
 ))


 ; **** Dies sind Texte, die bei dem Befehl "working" angezeigt werden
 (set #wtext1
 (cat "Prüfe, ob schon eine neuere Version von JdL installiert ist..."
 ))

 (set #wtext1a
 (cat "Prüfe, ob genug Speicherplatz verfügbar ist..."
 ))

 (set #wtext1b
 (cat "Suche nach alten Dateien..."
 ))


 (set #wtext2
 (cat "Kopiere deutsche Anleitung..."
 ))

 (set #wtext3
 (cat "Entpacke Archiv 1 ..."
 ))

 (set #wtext4
 (cat "Entpacke Archiv 2 ..."
 ))

))

; ====================================================



;=============================================================================
; English strings

(if (= @language "english")
(
 (set #Warnung
 (cat "This Installer-Script was tested, but:\n"
      "I am am not responsible for any data loss, or any kind of problem"
      "encountered while using this package.\n"
      "You are using it at your own risk!"
 ))


 (set #infotext
 (cat "Some files in the directory 'Extension' have changed or became "
      "obsolet and may be deleted.\n"
      "Those files will be searched and deleted now."
 ))


 (set #text1a
 (cat "\n\nThis is the 'Jewels of Light'-Installer-Script!"
      "\n\nBtw. has anybody a doc about the Installer?"
 ))




 (set #text2a
 (cat "\nWhere do you wish to install the game?\n"
      "(A new drawer called 'Juwelen_des_Lichts' will be created there)"
 ))




 (set #text3a
 (cat "\nThis script installs the game\n -- The Jewels Of Light --\n\n"
      "You have two options for the installation (for more info see 'Help'):\n"
 ))


 (set #text3b
 (cat "The complete installation copies the main programm and all files."
      "This means, that the additional graphics and sounds will be copied."
      "This method of installation is only possible on a hard disk, because it"
      "needs aprox. 1.5 MB free space."
      "\n\nWith partial installation the additonal graphics and sounds are"
      "not copied - you only need about 0.8 MB. So it is possible to install"
      "on a floppy disk."
 ))

 (set #text3c
 (cat "Complete Installation (only HD)"
 ))

 (set #text3d
 (cat "Partial Installation"
 ))




 (set #text4a
 (cat "There is already a newer version of 'Jewels of Light' in"
      "the destination directory. Installation aborted."
 ))




 (set #text5a
 (cat "Not enough free space for complete installation."
      "You need about 1.5 MB free space."
 ))

 (set #text5b
 (cat "Not enough free space for partial installation."
      "You need about 0.8 MB free space."
 ))




 (set #text6a
 (cat "\nThe game can create memorybuffers when it is started."
      "This increases the game speed if you are playing from a floppy disk."
      "If you install on a hard disk, then you will not need the buffers."
 ))

 (set #text6b
 (cat "The buffers are created at the start of the game. In them, the "
      "country-map, dungeon-maps and city-maps be stored. "
      "This option is not needed if you install on a hard disk. "
      "If there is not enough memory to create the buffers, the game "
      "nevertheless will start, but it will not use buffers."
 ))

 (set #text6c
 (cat "Create no buffers"
 ))

 (set #text6d
 (cat "Create buffers"
 ))



 ; ***** This are the texts of the config file
 ; ***** The \n at the end/in the mid of the text is important!! Do not remove!!
 (set #text7a
 (cat "* This is a computergenerated config-file for 'Jewels of Light'\n"
 ))

 (set #text7b
 (cat "* buffers will be created\n"
 ))

 (set #text7c
 (cat "* No buffers will be created\n#Lowmem\n"
 ))

 (set #text7d
 (cat "* Do not use sound/additional gfx\n"
 ))

 (set #text7e
 (cat "* Do not use sound\n"
 ))

 (set #text7f
 (cat "* Automapping-maps will not be saved\n"
 ))

 (set #text7g
 (cat "* Sound and additional gfx will be activated\n#Extension=Extension/\n"
 ))

 (set #text7h
 (cat "* Activate sound\n#Sound\n"
 ))

 (set #text7i
 (cat "* Automapping-maps will be saved\n#DKarte=Dungeonkarten/\n"
 ))

 (set #text7j
 (cat "* English Texts\n#English\n"
 ))

 (set #text7k
 (cat "* Create textbuffer\n"
 ))

 (set #text7l
 (cat "* Do not create textbuffer\n#NoTxtBuffer\n"
 ))

 ; ***** End of texts for config file



 (set #text8a
 (cat "\nThe option 'sound' will be activated by default."
      "An internal routine now will be used, because the MedPlayer.Library"
      "seemed to cause trouble on some systems."
  ))

 (set #text8b
 (cat "Activate the sound..."
 ))

 (set #text8c
 (cat "No Sounds"
 ))

 (set #text8d
 (cat "Use Sounds"
 ))




 (set #text9a
 (cat "\nThe option 'Save automapping-maps' is disabled by default."
      "If you activate it, the game will save the created maps of the dungeons and you"
      "can use them during following games."
      "Activating this option requires additional 200 KB of disk space."
 ))

 (set #text9b
 (cat "If you have enough disk space - use this option."
      "It is very useful."
 ))

 (set #text9c
 (cat "do NOT save the maps"
 ))

 (set #text9d
 (cat "save the maps"
 ))


 (set #text10a
 (cat "Installing iff.library to LIBS:\n"
      "This library is needed to use the additional gfx."
 ))


 (set #text11a
 (cat"\nThe game can create a buffer for the often used textfile. "
     "So you can prevent to wait for the texts being loaded from disk."
     "Please read the help text for further informations."
 ))

 (set #text11b
 (cat "The creation of a textbuffer is recommended if you are playing "
      "from a floppy disk. But the buffer needs around 80 KByte of memory "
      "and it is possible, that you run out of memory if you only have "
      "1 MByte of memory.\n"
      "Suggestion: Tryto activate the buffer, because "
      "if there is not enough memory to create the buffer, the game "
      "nevertheless will start, but it will not use buffer."
      "\n\nIf you are using a hard disk you will not need the textbuffer, "
      "because loading the texts from your disk will not slow the game "
      "too much."
 ))

 (set #text11c
 (cat "Do NOT create textbuffer"
 ))

 (set #text11d
 (cat "Create textbuffer"
 ))



 ; **** This are texts, that are shown with the command "working"
 (set #wtext1
 (cat "Checking, if a newer version of JoL is already installed..."
 ))

 (set #wtext1a
 (cat "Checking free disk space..."
 ))

 (set #wtext1b
 (cat "Searching for old files..."
 ))

 (set #wtext2
 (cat "Copying english doc..."
 ))

 (set #wtext3
 (cat "Unpacking..."
 ))

 (set #wtext4
 (cat "Unpacking..."
 ))

))

; ====================================================


; *********************************************************************
; * Willkommen...
; *********************************************************************

(welcome #text1a)


; *********************************************************************
; * Abfrage, wo installiert werden soll
; *********************************************************************

(complete 0)

(message #Warnung)

(set #Zielverzeichnis @default-dest)


	(set #Zielverzeichnis
	     (askdir
		 (prompt #text2a)
		 (help @askdir-help)
		 (default #Zielverzeichnis)
	     )
	)


(set #Installverz (tackon #Zielverzeichnis "Juwelen_des_Lichts"))



; *********************************************************************
; * Abfrage, wie installiert werden soll
; *********************************************************************

(complete 1)

(set #installmodus
  (askchoice (prompt #text3a)
	     (help #text3b)
	     (default 1)
	     (choices #text3c #text3d )
  )
)



; *********************************************************************
; * Ist JdL im Zielverzeichnis schon installiert? Falls ja: Version testen
; *********************************************************************

; In dieses Verzeichnis soll JdL installiert werden - ist es dort schon?

(working #wtext1)

(set #datei (tackon #Installverz "JdL"))
(if (exists #datei (NOREQ))
    (
	;*** Version testen: In Version steht nun die Zahl xyz, die sich
	;***		     aus der Version der Form x.yz ergibt

	;*** Die Version des zu installierenden Programms
	;*** steht in einer Datei namens Versionsnummer
	(set #datei "Versionsnummer")

	(set #vernum (getversion #datei))

	(set #ver (/ #vernum 65536))
	(set #rev (- #vernum (* #ver 65536)))
	(set #jdl_version (+ (* 100 #ver) #rev))


	;*** Die Version des bereits installierten Programms
	(set #datei (tackon #Installverz "JdL"))

	(set #vernum (getversion #datei))

	(set #ver (/ #vernum 65536))
	(set #rev (- #vernum (* #ver 65536)))
	(set #version (+ (* 100 #ver) #rev))

	(if (> #version #jdl_version)
	    (
		(message #text4a)
		(exit (quiet))
	    )
	)

     ;******************** Alte Dateien loeschen ******************
     (message #infotext)

     (working #wtext1b)

     (set #datei (tackon #Installverz "Extension/Drachenatem.snd"))
     (delete #datei)

     (set #datei (tackon #Installverz "Extension/Dungeon.snd"))
     (delete #datei)

     (set #datei (tackon #Installverz "Extension/GelungenerZauber.snd"))
     (delete #datei)

     (set #datei (tackon #Installverz "Extension/Lachen.snd"))
     (delete #datei)

     (set #datei (tackon #Installverz "Extension/Orkangriff.snd"))
     (delete #datei)

     (set #datei (tackon #Installverz "Extension/Pfeilfalle.snd"))
     (delete #datei)

     (set #datei (tackon #Installverz "Extension/Registrierkasse.snd"))
     (delete #datei)

     (set #datei (tackon #Installverz "Extension/Schiff1.snd"))
     (delete #datei)

     (set #datei (tackon #Installverz "Extension/Schmiede.snd"))
     (delete #datei)

     (set #datei (tackon #Installverz "Extension/Tempel1.snd"))
     (delete #datei)

     (set #datei (tackon #Installverz "Extension/Treffer1.snd"))
     (delete #datei)

     (set #datei (tackon #Installverz "Extension/Treffer2.snd"))
     (delete #datei)

     (set #datei (tackon #Installverz "Extension/Alchemist.pic"))
     (delete #datei)

     (set #datei (tackon #Installverz "Extension/Drache.pic"))
     (delete #datei)

     (set #datei (tackon #Installverz "Extension/Dwarf_mines.pic"))
     (delete #datei)

     (set #datei (tackon #Installverz "Extension/Elf_Island.pic"))
     (delete #datei)

     (set #datei (tackon #Installverz "Extension/FortressofLight.pic"))
     (delete #datei)

     (set #datei (tackon #Installverz "Extension/Graf.pic"))
     (delete #datei)

     (set #datei (tackon #Installverz "Extension/Koenig.pic"))
     (delete #datei)

     (set #datei (tackon #Installverz "Extension/Orkangriff.pic"))
     (delete #datei)

     (set #datei (tackon #Installverz "Extension/Snowtower.pic"))
     (delete #datei)

     (set #datei (tackon #Installverz "Extension/Sunken_temple.pic"))
     (delete #datei)

     (set #datei (tackon #Installverz "Extension/Titel.pic"))
     (delete #datei)

     (set #datei (tackon #Installverz "Extension/TreppeR.pic"))
     (delete #datei)

     (set #datei (tackon #Installverz "Extension/Vulkantower.pic"))
     (delete #datei)

     ;**************************************************************

    )
)




; *********************************************************************
; * Ist im Zielverzeichnis genug Platz fuer die gewuenschte Installation
; *********************************************************************

(working #wtext1a)

(if (= #installmodus 0)
  (
    (set freierPlatz (getdiskspace #Zielverzeichnis))


    (if (< freierPlatz 1500000)
      (
	(abort #text5a)
      )
    )
  )
)






(if (= #installmodus 1)
  (
    (set freierPlatz (getdiskspace #Zielverzeichnis))


    (if (< freierPlatz 800000)
      (
	(abort #text5b)
      )
    )
  )
)




; *********************************************************************
; * Unterverzeichnis in Zielverzeichnis anlegen
; *********************************************************************

  (makedir #Installverz
	   (infos)
  )

  ;* Dies sorgt dafuer, dass unter anderem die Protokolldatei im
  ;* Installationsverzeichnis landet
  (set @default-dest #Installverz)


; *********************************************************************
; * Abfrage, ob die Option Lowmem (Anlegen von Puffern) und/oder
; * NoTxtBuffer (Kein Textpuffer) aktiviert
; * werden soll
; *********************************************************************

(complete 3)

(set #lowmem
  (askchoice (prompt #text6a)
	     (help #text6b)
	     (default 0)
	     (choices #text6c #text6d)
  )
)


(set #notxtbuffer
  (askchoice (prompt #text11a)
	     (help #text11b)
	     (default 0)
	     (choices #text11c #text11d)
  )
)


; *********************************************************************
; * Konfigurationsfile anlegen
; *********************************************************************
(complete 5)

(set #dummy1 #text7a)



; *********************************************************************
; * Puffer-Optionen im Konfigurationsfile aktivieren
; *********************************************************************

(set #dummy2 #text7b)

(if (= #lowmem 0)
  (
   (set #dummy2 #text7c)
  )
)


(set #dummy2a #text7k)

(if (= #notxtbuffer 0)
  (
   (set #dummy2a #text7l)
  )
)




; *********************************************************************
; * Bei vollstaendiger Installation die Grafiken und optional die
; * Sounds im Konfigurationsfile aktivieren
; *********************************************************************

(set #dummy3 #text7d)
(set #dummy4 #text7e)
(set #dummy5 #text7f)


(if (= #installmodus 0)
  (
   (set #dummy3 #text7g)

   ; *** Das Aktivieren der Sounds ist optional
   (complete 8)


   (set #sound
     (askchoice (prompt #text8a)
		(help #text8b)
		(default 1)
		(choices #text8c #text8d)
     )
   )


   ; * Aktivieren
   (if (= #sound 1)
     (
      (set #dummy4 #text7h)
     )
   )


   ; *** Das Aktivieren des Speicherns der Automappingkarten ist optional
   (set #dkarten
     (askchoice (prompt #text9a)
		(help #text9b)
		(default 0)
		(choices #text9c #text9d)
     )
   )

   ; * Aktivieren+Verzeichnis anlegen
   (if (= #dkarten 1)
     (
      (set #dummy5 #text7i)

      (set #Kartenverz (tackon #Installverz "Dungeonkarten"))

      (makedir #Kartenverz)


     )
   )

  )

)



; *** Das aktiviert die Sprache
(set #dummy6 #text7j)



(set #Konfigdatei (tackon #Installverz "JdL.cnf"))

(set #Konfigdateitext (cat #dummy1 #dummy2 #dummy2a #dummy3 #dummy4 #dummy5 #dummy6))
(textfile (dest #Konfigdatei) (append #Konfigdateitext) )





; *********************************************************************
; * Libraries installieren
; *  - Die iff.library wird nur installiert, wenn Vollstaendige
; *    Installation gewaehlt wurde
; *********************************************************************

(complete 15)

(if (= #installmodus 0)
  (
   ; *** iff.library installieren
   (copylib (prompt #text10a)
	    (source "libs/iff.library")
	    (dest "libs:")
	    (confirm)
	    (help @copylib-help)
   )

  )

)




; *********************************************************************
; * Entpacken der Archive
; *  - Das Archiv jdl_1.lha wird immer entpackt
; *  - Das Archiv jdl_2.lha wird nur bei vollstaendiger Installation
; *    entpackt
; *********************************************************************


(complete 30)
(working #wtext2)

; * Der assign ist noetig, damit lha laeuft...
(makeassign "jdltemp")
(makeassign "jdltemp" #Installverz)

;*** Die jeweilige Anleitung kopieren ********
(if (= @language "deutsch")
  (
    (copyfiles (source "JdL_deutsch.guide")
	       (dest "jdltemp:")
	       (files)
	       (infos)
    )
  )
)

(if (= @language "english")
  (
    (copyfiles (source "JoL_english.guide")
	       (dest "jdltemp:")
	       (files)
	       (infos)
    )
  )
)

;*********************************************




(complete 40)
(working #wtext3)

(run "lha -a -x x jdl_1.lha #? jdltemp:")

(complete 70)

; Was wurde ausgewaehlt?

(if (= #installmodus 0)
  (
   ;**** Alles entpacken
   (working #wtext4)

   (run "lha -a -x x jdl_2.lha #? jdltemp:")

  )
)

; *** Den assign wieder aufheben
(makeassign "jdltemp")

(complete 100)

(exit)

