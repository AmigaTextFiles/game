(for emacs users, this document is best in the -*- outline -*- mode)

kusemono --- sneak into a mutant ant hive and stab them
by Oohara Yuuma <oohara@libra.interq.or.jp>

* what is kusemono

kusemono is a dungeon exploring game where you rely on stealth and
stabbing instead of brute force.  You can run so fast that you are
blinking in the eye of enemies, you can search for enemies
behind a wall and you can kill any unnoticed enemy with one stabbing.
You also have some magic devices for emergency need.

* system requirement

kusemono must be run in a terminal.  Its size must be 80x24 or larger.
It must support colors.  The size of the terminal must not be changed
during the game.

* command line options

** --save-dir _directory_

Save and load the game in this directory.  To see what the default save
directory is, use the --help option.

** --help

Print the help message and exit.

** version

Print the version information and exit.

* premise

You are an assassin sent to the hive of mutant ants.  You have to
kill the Queen.

* victory condition

If the Queen dies, you win the game.  There is no time limit.

* turn-based move

All actions are handled one by one.  If it is your turn, monsters don't
move until you decide your action.

A turn refers to the amount of time taken by one action.  The length of
a turn in the game time depends on what the action is and who do
the action.  Usually all actions take the same amount of time and
you and monsters move at the same speed.

All effects of actions happen immediately.  For example, if you decide
to climb down a stair, you don't stay in the current floor until your
next turn; you enter the next floor now and end your turn.  This means
that monsters in the next floor will move before your first action in
that floor.

* statistics

The ability of you and monsters is described in numbers:

** hit point (HP)

If you take damage, you lose your hit points.  If you lose all of
your hit points, you die.

** power

Your power is the amount of damage you deal to a monster in one attack.
Note that stabbing is always an instant kill (see below).

** shield

When you take damage, if you have shield points, you lose them
instead of hit points.  You lose hit points only if the damage is
greater than your shield points.  Shield points are also spent
when you use a magic device (see below).

Only you have shield points; monsters don't.

* monster sight

The sight of a monster is shorter than yours:

 .................
 .2......2......2.
 ..2.....2.....2..
 ...31111311113...
 ...13111311131...
 ...11322322311...
 ...11232323211...
 ...11223332211...
 .2233333s3333322.
 ...11223332211...
 ...11232323211...
 ...11322322311...
 ...13111311131...
 ...31111311113...
 ..2.....2.....2..
 .2......2......2.
 .................

The numbers above are the sight of the monster at the center.
Larger number means more danger.

* cardinal directions

A direction is cardinal if it is exactly vertical, horizontal or
diagonal.  To keep stealth, it is important not to be in the cardinal
direction of a monster.  Floors in the cardinal directions are shown
in white instead of usual blue.

* attitude

An attitude is how a monster thinks about you.  The color of
the monster symbol is based on its attitude.  The attitude of the monster
under the cursor is also shown in the right side of the map.

There are 4 attitudes:

** uninterested (white)

The monster doesn't care about you.  It just wanders.  Of course,
it can be stabbed.

** concerned (blue)

The monster thinks something is wrong, but it doesn't know it is you.
It may leave its current position to see what is happening.
It can be stabbed.

** active (purple)

It thinks it knows your current position. It wants to kill you and
it runs at full speed.  Although it can _NOT_ be stabbed, it can be
killed with other methods such as face-to-face combat.

** lost (yellow)

It wants to kill you, but it doesn't know where you are.
It is very careful but it can still be stabbed.

* last known position

If monsters are trying to kill you but they don't know your exact position,
the position monsters think you are is shown as the ampersand symbol ('&').
This is called the last known position.

The last known position is shown in red if it is in your sight,
in white if it is out of your sight.  If it is white, probably
a wall is between it and you; it is less likely that a monster
that reaches the last known position finds you.

If monsters exactly knows your position, the last known position is
not shown; instead, your character is shown in red instead of usual white.

* map symbols

Your character is shown as an at-sign ('@') when you are searching,
as an number when you are running (see below).

Alphabets are monsters you can see.  Question marks ('?') are monsters
you can't see but you feel they are there.

&  last known position
.  floor
#  wall
<  up stair
>  down stair

* command

All commands are case-sensitive.  Use the shift key as appropriate.

  b  move down-left
  c  (cancel)
  h  move left
  j  move down
  k  move up
  l  move right
  m  full-screen map
  n  move down-right
  o  (confirm)
  p  message log
  q  quaff from potion bag
  r  read spellbook of swap position (quick)
  s  toggle searching/running mode
  u  move up-right
  x  examine surroundings
  y  move up-left
  z  zap rod of mana ball

  Q  resign the game without saving
  S  save the game and exit

  5  stay during 1/2 time of a normal action; stop running
  .  stay during 1/2 time of a normal action; stop running
  <  climb up/down a stair
  >  climb up/down a stair

* cancel a command

If a command doesn't decide your action, you can cancel the command
by pressing the [c] key.  Note that the [escape] key is not supported.

* save the game

You can save the game by pressing the [S] key.  You can save any number
of times, but each character can have only one save file; if you save,
an old save file is always overwritten.  The save file is created
in the current directory by default.

Saving is only for suspending; each save file can be loaded only once.

If you want to quit the game without saving, you must resign the game;
press the [Q] key, then press the [o] key to confirm.

* move or attack

Use the vi-like key binding ([hjklyubn]), the number keys or the cursor
keys to move.  The numpad can also be used as long as it is configured
to enter a number.

When you try to move to a position a monster is blocking, you attack
the monster instead of moving.  You remain at the current position
this turn even if the target is killed.

* stabbing

When you attack, if the target is not active, it dies no matter
how many hit points it has.  Even the Queen is not an exception.

Only you can stab; monsters can't.

* kill and recharge

You and monsters don't regenerate; you don't gain hit points just because
time passes.

When you kill an enemy, you gain shield points to the maximum.
You can gain hit points by quaffing a potion of healing (see below).
Monsters have no way to heal themselves.

* target a monster with the cursor

Information about the monster under the cursor is shown in the right side
of the map (below information about you).  You can move the cursor to
a monster near you by pressing the space key.

* examine surroundings

You can examine monsters and terrains near you by pressing the [x] key.
Use the direction keys to move the cursor to what you want to examine.
To read a monster description, press the [.] key or the [5] key while
the cursor is on the monster.  If a stair is in your sight, you can examine
its destination by pressing the [<] key or the [>] key while the cursor is
on the stair.

* climb up/down a stair

If you are on a stair, you can use it by pressing the [<] key or
the [>] key.  Both keys are accepted; you don't have to choose the same key
as the symbol of the stair.

If the destination of the stair is blocked by a monster, you attack
the monster instead of climbing.  You remain on the current floor this turn
even if the target is killed.  You can stab in this way.

Monsters can climb a stair.  If you are blocking a stair a monster is
climbing, you are attacked and noticed.  Using the examine surroundings
command ([x]) near a stair will help you (use the [</>] key).

* searching or running

You have 2 modes: searching and running.  You can toggle them by pressing
the [s] key.  Toggling your mode doesn't take time.

** searching

When you are searching, you can feel monsters behind a wall.
They are shown as question marks ('?').

The range of searching expands as you spend turns in the searching mode.
The range begins with 0; just entering the searching mode doesn't
tell you anything.  When you do any action in the running mode,
the range is reset to 0.

Only you can search; monsters can't find you unless they see you.

** running

When you are running, if you are not damaged since your last turn,
you can move up to 3 grids in one turn. The number symbol of
your character is the number of grids you can move.  It is also
shown in the right side of the map.

You can move 1 or 2 grids and then do any other action such as stabbing
in one turn.  If you do, your turn is over; you can't move any more.
You can deliberately end your turn by pressing the [.] or [5] key.

Monsters can run if they are active, but they are not good runners;
they can move up to only 2 grids in one turn and their hit points
must be full.

* magic devices

You have magic devices listed below.  They can be used any number of
times, but you need shield points to use them.  Although only 1
shield point is enough, you lose all shield points when you use
magic devices.

** potion bag (the [q] key)

It can generate a potion.  Unfortunately, it loses effects unless
it is quaffed immediately.  When you use it, you quaff it.

You can choose these potions:

*** healing

You gain hit points to the maximum.

*** speed

Your actions done in the next 8 turns takes 1/2 of time as usual.
Note that this effect is not applied to this turn; quaffing
a potion of speed is not faster than quaffing any other potion.

** spellbook of swap position (the [r] key)

It teleports the target monster to your position and teleports you
to the position of the monster at the same time.  You must manually
specify where the target monster is (the [space] key is useful here).
If nothing is at the specified position, nothing happens and you lose
this turn; you lose only 1 shield point in this case.

Reading the spellbook takes 1/2 time of a normal action.  It is
so quick that it temporarily confuses the target monster.

** rod of mana ball (the [z] key)

It fires a mana ball which explodes when it hits a monster or a wall.
The explosion deals 18 damage to the target and everything that is
adjacent to it.  The range of the mana ball is 7.

The explosion doesn't damage the user even if the user is in it.
You can safely fire it at yourself to attack all adjacent monsters.

It can not be used for stabbing.  You don't gain shield points
by killing monsters in this way.

The explosion makes a large noise which disturbs monsters.
The noise reaches outside of the explosion.

* permanent death

If your character dies, you can't use that character again; you must
start with a new character.

* contact information

Please send bug reports or comments to Oohara Yuuma
<oohara@libra.interq.or.jp>.  Also check the kusemono webpage:
http://www.interq.or.jp/libra/oohara/kusemono/index.html

* history

The first version of kusemono was released on Sat, 12 Mar 2011.
It was written for The 2011 Seven Day Roguelike Challenge
(http://roguebasin.roguelikedevelopment.org/index.php?title=7DRL_Contest_2011).
which is held on the rec.games.roguelike.development newsgroup.

The game was named after an ancient Japanese word.  It means
"a suspicious person" and usually refers to an intruder.
