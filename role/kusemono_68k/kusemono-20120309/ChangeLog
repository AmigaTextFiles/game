2012-03-09  Oohara Yuuma  <oohara@libra.interq.or.jp>

	* list-int.c, list-int.h: new files, implement a double linked list
	* world.c, world.h, dungeon.c, dungeon.h, loop.c, save.c:
	  use priority to handle turn order
	* monster.c: improved the monster decision:
	  + don't consider climbing a stair just because we are not
	    on a stair
	    This stops climbing a wrong stair.  We consider climbing only
	    under these conditions (note that we move to another grid only
	    when we have a path or when we are lost and try a random walk):
	    - if we get a new path to another position and if we reach
	      the destination
	    - if we climb a stair and attack a blocking creature
	    - if we climb a blocked stair and if the blocking creature
	      doesn't consider climbing
	  + when we are active and stuck, keep active
	    This fixes the following problem: all of us suddenly get bored
	    when the combat against the player is too long and not all of
	    us are engaged.
	  + when we are active and stuck, the blocking monster becomes
	    active
	    This is better when the player character uses a spellbook of
	    swap position.
	  + when we are not on the home floor, don't consider returning
	    to the home position if we are on a stair
            This stops sticking to a stair if we climb a stair for
	    some reason and suddenly find that we are not on the home floor.
	* dungeon.c, dungeon.h, monster.c: get_step_map() takes max_step
	* monster.c: when a monster tries to wander, use get_step_map()
	  instead of creature_sees_grid() to list possible destinations
	  (creature_sees_grid() fails to work if glass walls are added)
	* action.c: if a monster climbs a stair and attacks a blocking enemy,
	  handle the monster memory before the damage is dealt
	* dungeon.c, dungeon.h, monster.c: added grid_is_stair()
	* loop.c: when you see a stair, you remember its destination
	* dungeon.c: add_turn_order_here() returns the id of the turn order
	  instead of 0 on success
	* dungeon.c: add_new_creature() calls remove_creature() on error
	* save.c: save_turn_order() and save_grid() return 1 on error
	* README: fixed a typo
	* README: fixed the picture of the monster sight
	* action.c: fixed the comment about the return value of
	  action_exec_walk()
	* dungeon.c: fixed a typo in the error message of
	  add_turn_order_here()
	* world.c, world.h, loop.c: call getmaxyx() only in
	  world_init_curses() (to suppress gcc -Wunused-but-set-variable
	  warning)
	* world.c: fixed error message in world_init_curses()

2011-03-12  Oohara Yuuma  <oohara@libra.interq.or.jp>

	* the 7DRL version
	* initial release
