@DATABASE Editor


@$VER: Editor-Anleitung 0.00 (23.07.97)

@AUTHOR Robert Mueller

@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
@REM
@REM Bei den @{ Anweisungen darf KEIN Leerzeichen nach dem { stehen,
@REM sonst versteht Multiview unter OS3.1 die Anweisung nicht
@REM
@REM Bei @{ muss der Text immer in "" stehen!
@REM
@REM
@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


@NODE MAIN

Bitte lest zuerst die Anleitung fuer das Hauptprogramm durch, bevor
Ihr dies lest - um ein sinnvolles Abenteuer erstellen zu koennen
muss man zuvor wissen, wie das Spiel ablaeuft.

@{"Was tut dieses Programm?" LINK Info}

@{"Gegenstaende" LINK Gegenstaende}
  @{"Monstergegenstaende" LINK Monstergegenstaende}
  @{"Einzigartige Gegenstaende" LINK Einzigartige_Gegenstaende}
  @{"Benutzerdefinierte Gegenstaende" LINK Benutzerdefinierte_Gegenstaende}

@{"Karteneditor" LINK Karteneditor}
  @{"Editor-Modi"  LINK Editor_Modi}
  @{"Elementcycle" LINK Editor_Cycle}

@{"Texte" LINK Texte}

@{"Gespraeche" LINK Gespraeche}

@{"Aktionsfelder" LINK Aktionsfelder}
  @{"Setze Merker        (AFT_SETZE_MERKER)" LINK AFT_Setze_Merker}
  @{"Loesche Merker      (AFT_UNSET)" LINK AFT_Unset}
  @{"Schalter            (AFT_SCHALTER)" LINK AFT_Schalter}
  @{"Karte               (AFT_KARTE_V2)" LINK AFT_Karte_V2}
  @{"Text                (AFT_TEXT)" LINK AFT_Text}
  @{"Gespraech           (AFT_GESPRAECH_V2)" LINK AFT_Gespraech_V2}
  @{"Auto-Gespraech      (AFT_AUTO_GESPRAECH)" LINK AFT_Auto_Gespraech}
  @{"Nachts geschlossen  (AFT_NACHTS_GESCHLOSSEN)" LINK AFT_Nachts_geschlossen}
  @{"Handelsstation      (AFT_HANDELSSTATION)" LINK AFT_Handelsstation}
  @{"Text mit Merker     (AFT_TEXT_MIT_MERKER)" LINK AFT_Text_mit_Merker}
  @{"Goto mit Merker     (AFT_GOTO_MIT_MERKER)" LINK AFT_Goto_mit_Merker}
  @{"Bank                (AFT_BANK)" LINK AFT_Bank}
  @{"Gasthaus            (AFT_GASTHAUS)" LINK AFT_Gasthaus}
  @{"Laden               (AFT_LADEN)" LINK AFT_Laden}
  @{"Troedler            (AFT_TROEDLER)" LINK AFT_Troedler}
  @{"Falle               (AFT_FALLE)" LINK AFT_Falle}
  @{"Geld finden         (AFT_GELD_V2)" LINK AFT_Geld_finden_V2}
  @{"Angriff             (AFT_ANGRIFF)" LINK AFT_Angriff}
  @{"Heiler              (AFT_HEILER)" LINK AFT_Heiler}
  @{"Spezialladen        (AFT_SPEZIALLADEN)" LINK AFT_Spezialladen}
  @{"EP erhalten         (AFT_EP_ERHALTEN)" LINK AFT_Ep_erhalten}
  @{"Gegenstand erhalten (AFT_GET_ITEM_V2)" LINK AFT_Gegenstand_erhalten_V2}
  @{"Sesam               (AFT_SESAM_V2)" LINK AFT_Sesam_V2}
  @{"Schluessel          (AFT_SCHLUESSEL)" LINK AFT_Schluessel}
  @{"Zeitmerker setzen   (AFT_ZEITMERKER_SETZEN)" LINK AFT_Zeitmerker_setzen}

@{"Nichtspielercharaktere" LINK NPCs}
@{"Nichtspielercharaktereditor" LINK NPC_Editor}

@{"Begriffe" LINK Begriffe}
  @{"Merker" LINK Merker}
  @{"Zeitmerker" LINK Zeitmerker}

@{"Bekannte Probleme" LINK Bekannte_Probleme}

@{"Abenteuer erstellen" LINK Tutorial}

@{"Dateiformate" LINK Dateiformate}
  @{"OSCAR-Support-Dateien" LINK OSCAR_Support}

@ENDNODE MAIN



@NODE Info

Dieses Programm dient dazu, Abenteuer zu entwerfen, die dann mit
dem Hauptprogramm Silver abgespielt werden koennen.

@ENDNODE Info



@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
@REM
@REM                   G E G E N S T A E N D E
@REM
@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

@NODE Gegenstaende

  @{"Monstergegenstaende" LINK Monstergegenstaende}
  @{"Einzigartige Gegenstaende" LINK Einzigartige_Gegenstaende}
  @{"Benutzerdefinierte Gegenstaende" LINK Benutzerdefinierte_Gegenstaende}


@ENDNODE Gegenstaende


@NODE Monstergegenstaende

Monstergegenstaende sind besondere Gegenstaende: Diese Gegenstaende
weisen Werte wie Ruestungsstaerke und Waffenstaerke auf, koennen allerdings
nicht von Spielercharakteren ausgeruestet werden.

Der Gedanke hierbei ist: Es gibt einige Monster, etwa Baeren, Ratten und
andere Tiere, die als Waffe ja Zaehne und Klauen haben. Damit diese
Nichtspielercharaktere kaempfen koennen, gibt es Monstergegenstaende
wie Zaehne und Klauen. Diese Gegenstaende verursachen im Kampf Schaden,
koennen aber durch die Spielercharaktere nicht ausgeruestet werden (denn
Zaehne sind ja keine Waffen im eigentlichen Sinn)

@ENDNODE Monstergegenstaende




@NODE Einzigartige_Gegenstaende

Einzigartige Gegenstaende existieren nur innerhalb eines Abenteuers
und koennen nicht aus dem Abenteuer "herausgenommen" werden.

Der Sinn dieser Gegenstaende ist:
  In den Abenteuern gibt es manchmal gewisse Schluesselgegenstaende und
  es wuerde Probleme bereiten, wenn ein Charakter solch einen Gegenstand
  schon aus einem anderen Abenteuer besitzt.

Beispiel:
  In dem Abenteuer "Elfenkrone" wird der Gegenstand "Aldurins Krone" benoetigt,
  um das Spiel zu loesen. Diese Krone erhaelt man erst im Laufe des
  Abenteuers.

  Besitzt nun ein an diesem Abenteuer teilnehmender Charakter diese
  Krone schon, dann waere das Abenteuer ja sinnlos.

  Ist der Gegenstand "Aldurins Krone" aber ein einzigartiger Gegenstand,
  dann ist es nicht moeglich, dass ein Abenteurer diesen Gegenstand beim
  Start des Abenteuers schon besitzt.
  Programmtechnisch ist es so, dass beim Neustart eines Abenteuers
  geprueft wird, ob ein Abenteurer einzigartige Gegenstaende besitzt,
  die dann gegebenenfalls entfernt werden.
@ENDNODE Einzigartige_Gegenstaende


@NODE Benutzerdefinierte_Gegenstaende

Ein benutzerdefinierter Gegenstand waere ein Gegenstand, dessen
Charakteristika der Benutzer des Editors selbst festlegen kann.

Es waere natuerlich schon, wenn man solche Gegenstaende zur Verfuegung
haette, z.B. um abenteuerspezifische Gegenstaende zu erstellen.

Bisher ist dies allerdings nicht/noch nicht moeglich (allerdings gibt
es eine gewisse Ausnahme - siehe weiter unten).

Ein wesentlicher Hindergrundsgrund bei der Implementierung ist die
Notwendigkeit, Gegenstaende identifizieren zu koennen: Bisher werden
Gegenstaende durch ihren Namen oder eine Schluesselnummer identifiziert.

Probleme koennen z.B. dann entstehen, wenn ein benutzerdefinierter
Gegenstand und ein programminterner Gegenstand den gleichen Namen haben.
Hier koennte man durch Ueberpruefen der Schluesselnummer noch Klarheit
erhalten.

Wie unterscheidet man aber benutzerdefinierte Gegenstaende gleichen
Namens und gleicher Schluesselnummer, die aber total verschiedene
Eigenschaften haben?

Bis ich eine brauchbare Loesung dafuer habe, wird es also keine
benutzerdefinierten Gegenstaende geben.


ABER:

Wenn irgendjemand einen Gegenstand benoetigt, dann kann man mir das
mitteilen und ich werde den Gegenstand gerne in die programminterne
Gegenstandsliste aufnehmen und ihn so verfuegbar machen.

@ENDNODE Benutzerdefinierte_Gegenstaende


@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
@REM
@REM                   K A R T E N E D I T O R
@REM
@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


@NODE Karteneditor


Der Hauptbildschirm
===================

Die linke obere Haelfte wird durch einen Ausschnitt der aktuellen
Karte bedeckt.

In der rechten oberen Haelfte werden Informationen ueber die Karte,
das gewaehlte Zeichenelement und dem Element unter dem Cursor ausgegeben.
Im rechten, unteren Eck wird das aktuelle Zeichenelement angezeigt.

Beispielsweise koennte folgendes ausgegeben werden:

        +------------------------------+
A       |@{"Normalmodus" LINK Editor_Modi}                  |
B       |Grafiken: 238                 |
C       |Breite/Hoehe: 19/24           |
D       |Kartennummer: 1               |
E       |Elem: Wiese Nr. 0             |
F       |@{"Cyclebereich" LINK Editor_Cycle}: 0-0            |
G       |Blockkoordinaten: -1/-1       |
H       |Kartenkommentar:              |
I       |Die Stadt Asgendorn           |
J       |Aktionsfelder: 29 (max. 50)   |
K       |Rastangriffe: 2               |
L       |Koordinaten: 8/21             |
M       |Cursor: Wiese BR:100          |
N       |Bereich 0:                    |
O       |Asgendorn                     |
        |                              |
        |                              |
        |                              |
        |                              |

^^^
Diese Buchstaben dienen nur der Zeilenmarkierung

Zeile A: Gibt den momentan eingestellten @{"Modus" LINK Editor_Modi} an
Zeile B: Gibt an, wie viele Grafikelemente verfuegbar sind - diese
         Information wird zusammen mit der Karte gespeichert um Fehler
         zu vermeiden. Es darf naemlich nicht vorkommen, dass die
         Karte z.B. 300 Grafiken benutzt, der Editor aber nur 200
         Grafiken kennt - im umgekehrten Fall ist es kein Problem:
         Wenn der Editor mehr Grafiken kennt als die Karte, dann
         gibt es keine Probleme
Zeile C: Gibt die Breite und Hoehe der Karte an
Zeile D: Dies ist die Nummer der Karte
Zeile E: Gibt den Namen und die Nummer des aktuell gewaehlten Zeichenelements
         an
Zeile F: Gibt an, welche Zeichenelemente der @{"Cyclebereich" LINK Editor_Cycle} umfasst.
         Genaueres folgt unten
Zeile G: Die Koordinaten fuer das Zeichnen eines Blockes.
         Dieses Koordinatenpaar ist die erste Ecke des Blocks
         Steht als Koordinatenangabe -1/-1, dann ist noch keine Ecke
         definiert.
Zeile H und I:
         Hier wird ein Kommentar zur Karte ausgegeben. Der Kommentartext
         kann natuerlich geaendert werden und wird auch zusammen mit
         der Karte gespeichert
Zeile J: Hier wird angegeben, wie viele Aktionsfelder gesetzt sind und
         wie viele man maximal setzen kann.
Zeile K: Gibt an, wie viele verschiedene moegliche Monstergruppen
         fuer Angriffe waehrend einer Rast in dieser Karte festgelegt
         wurden.
Zeile L: Die aktuellen Cursorkoordinaten
Zeile M: Hier wird der Name des Feldes, auf dem der Cursor gerade
         steht, ausgegeben. Ausserdem wird die Bewegungsrate dieses
         Feldes angezeigt, die im Spiel den Zeitverbrauch regelt,
         den man hat, wenn man dieses Feld betritt.
Zeile N und O:
         Hier wird die Nummer und der Name des Bereichs angegeben, zu
         dem das Feld unter dem Cursor gehoert.



In der unteren Haelfte ist die Auswahlleiste fuer die Zeichenelemente.


Die Wirkung der Maustasten
       1) Mit der linken Maustaste kann man Elemente aus der Auswahlleiste
          waehlen
       2) Ein Klick mit der linken Maustaste auf ein Feld im Kartenausschnitt
          beeinflusst dieses Feld je nach eingestelltem Modus
       3) Mit der rechten Maustaste kann man Bloecke markieren:
          Der erste Klick mit der Maus im Kartenausschnitt markiert die
          erste Ecke, ein zweiter Klick die zweite Ecke und gleichzeitig
          wird der gesamte Block so beeinflusst, wie unter 2) angegeben.
          Um eine Blockmarkierung zu loeschen, klickt man einfach
          ausserhalb des Kartenausschnitts mit der rechten Maustaste

          WICHTIG: Dies funktioniert aber nur, wenn das Kartenfenster
                   das aktive Fenster ist - sonst wird die rechten
                   Maustaste nicht korrekt erkannt!

   HINWEIS:
   Da auch Mausbewegungen abgefragt werden, kann es passieren, dass ein
   Druck auf eine der Maustasten "verschluckt" wird, weil gleichzeitig
   die Maus bewegt wurde.
   Entweder muss man die Maus ruhig halten, waehrend man die Maustaste
   drueckt, oder man benutzt die Tastatur (Alt+Linke AMIGA-Taste bzw.
   Alt+Rechte AMIGA-Taste) um die Maustasten zu betaetigen.




Tastaturbelegung in der Normalkarte
===================================

 A              - @{"Aktionsfeld" LINK Aktionsfelder} setzen

 B              - Block markieren/zeichnen
                  Hiermit wird das erste Koordinatenpaar fuer einen Block
                  an der aktuellen Cursorposition markiert
                  Beim zweiten Mal wird der Block von der momentanen
                  Cursorposition zur ersten Position gezeichnet und die
                  Blockmarkierung wird geloescht.

 C              - Blockmarkierung loeschen

 D              - Aktionsfelder entfernen

 E              - Editor beenden

 F              - Fuellen
                  An der aktuellen Cursorposition wird mit dem aktuellen
                  Element gefuellt.
                  Liegt dieses Element im eingestellten @{"Cyclebereich" LINK Editor_Cycle},
                  so wird dieser benutzt.

                  Als Begrenzung fuer den Fuellalgorithmus wird das
                  aktuelle Element verwendet.
                  Liegt dieses Element im eingestellten Cyclebereich,
                  so wird dieser als Begrenzung benutzt.

                  ACHTUNG: Die Umrandung MUSS geschlossen sein.
                           "Offene" Ecken, wie z.B. hier rechts oben

                                ###############
                                #              #
                                #              #
                                ################

                           fuehren zum "Auslaufen"
                           Also Vorsicht!

                  HINWEIS: Der Fuellalgorithmus ist nicht besonders gut...
                           Bestimmte Ecken und Kanten sind ein Hinderniss,
                           da der Algorithmus nur bei konvexen Mengen
                           funktioniert...

 G              - Goto
                  Nach Eingabe von X/Y-Koordinate wird die aktuelle
                  Cursorposition auf diese Koordinaten gesetzt.

 H              - Tastaturbelegung anzeigen

 I              - @{"Cyclebereich 1" LINK Editor_Cycle} setzen
 J              - @{"Cyclebereich 2" LINK Editor_Cycle} setzen
                    Cyclebereich: Cycle_Elem1 bis Cycle_Elem2
                    Beim Setzen eines Elements, dass innerhalb des Cycle-
                    bereichs liegt, wird zufaellig ein Element aus dem
                    Bereich Cycle_Elem1 bis Cycle_Elem2 ausgewaehlt
                    Damit kann man z.B. im Wald verschiedene Baeume setzen

 K              - Kartenkommentar eingeben

 L              - Karte laden
                  Es wird die Karte: 'Karte_<kartennummer>' geladen

 M              - Wechselt in den "Zoom"-Modus
                  Im Kartenfenster wird nun ein verkleinerter Ausschnitt
                  der Gesamtkarte angezeigt, in dem man aber wie im
                  Normalmodus editieren kann, d.h. die Ausswahlleiste
                  mit den Grafiken steht zur Verfuegung,...

                  HINWEIS: Vergroessert man das Fenster, dann erhaelt man
                           einen groesseren Ausschnitt!

 N              - Neue Karte
                  Hier gibt man die neue Groesse der Karte ein, dann
                  werden die Aktionsfelder und die Karte geloescht

 Q              - Quick-Mode on/off
                  Schaltet die Infoanzeige an/aus. Dadurch kann man
                  schneller scrollen.

 R              - Redraw

 S              - Karte speichern

 U              - Undo


 V              - Bereichsnamen eingeben/aendern

 W              - Kartendaten editieren
                  D.h. Eingabe der Werte
                      * Sichtweite am Tag
                      * Sichtweite am Tag mit Licht
                        (dies ist auf die Tageszeit 12:00 bezogen)
                      * Sichtweite bei Nacht
                      * Sichtweite bei Nacht mit Licht
                        (dies ist auf die Tageszeit 24:00 bezogen)

                  Die Sichtweiten duerfen nicht negative sein!
                  Es ist allerdings erlaubt, dass die Nachtsichtweite
                  groesser als die Tagsichtweite ist.

                      * Zeitbedarf
                        Der Zeitbedarf fuer das Ueberqueren eines Felder
                        betragt:
                                Zeitbedarf * 100 * BRate des Feldes


                      * Rastzwischenfall:
                        Gibt die Chance in Prozent an, mit der die Gruppe
                        bei einer Rast ueberfallen wird.

                        Ein Wert von -1 bedeutet, dass in dieser Karte
                        keine Rast moeglich ist.

                        Ein Wert von 0 bedeutet, dass in dieser Karte
                        eine Rast moeglich ist, aber niemals ein
                        Angriff erfolgt.

                        Ist Rastzwischenfall > 0, dann wird man um die
                        Eingabe der Datensaetze fuer die Gegner, die
                        die Gruppe bei der Rast angreifen, gebeten.

                        In jedem Datensatz sind bis zu drei verschiedene
                        Gegnergruppen moeglich.

                  Im Fall eines Angriffs wird einer der eingegebenen
                  Datensaetze zufaellig ausgewaehlt und alle dort
                  aufgefuehrten Gegner greifen an.

                  Gibt man bei der Anzahl der Gegner einen negativen
                  Wert x ein, dann erfolgt eine automatische Anpassung,
                  d.h. es greifen |x| + Anzahl der Gruppenmitglieder Gegner
                  an.

                  Gibt man bei der Anzahl der Gegner >0 ein, dann
                  ist dies die absolute Anzahl der Gegner die angreifen.


                  ACHTUNG: Pro Kampf duerfen maximal insgesamt
                           20 Gegner angreifen.

 X              - Aktionsfelder ausfuehren

 Y              - Gesamtkarte anzeigen
                  Die Farbe eines Feldes wird bei den "Kartenfelddaten
                  festgelegt.

 Z              - Gesamtkarte, Autozoom-Modus
                  Hier wird die Groesse der angezeigten Gesamtkarte an
                  die Bildschirm und die Kartengroesse angepasst

 1,2,3,4        - Scrollen
 6,7,8,9        - Scrollen

 5              - Infos ueber das Aktionsfeld unter dem Cursor

 0              - Aktuelles Grafikelement an Cursorposition setzen

 [,]            - Gehe zum vorherigen/naechsten Aktionsfeld
                  Mit dieser Funktionen kann man von Aktionsfeld zu
                  Aktionsfeld springen.
                  Hiermit kann man schnell zu einem Aktionsfeld gelangen,
                  ohne erst lange suchen zu muessen.

 +,-            - Grafikelemente blaettern
                  Die Leiste mit den zur Verfuegung stehenden Grafiken wird
                  vor bzw. zurueckgeblaettert

 #              - Kartennummer eingeben

 .              - Explorer-Modus ein/aus
                  Ist der Explorermodus eingeschaltet, so bewirkt das
                  Setzen eines Element nun das ein-/ausschalten des
                  Erforscht-Bits.

 /              - Aktuelle Werte als Startdaten speichern
                  Hiermit werden die momentane Kartennummer, die
                  aktuelle X/Y-Koordinaten gespeichert und als
                  Startpunkt fuer neugestartete Spiele verwendet.

                  Ausserdem kann man folgende Daten des Abenteuers festlegen:
                        - Die Nummer des Textes, die beim Start des
                          Abenteuers angezeigt werden soll (z.B. ein
                          Einleitungstext)
                        - die Minimal- und Maximalzahl der Spielercharaktere


                  HINWEIS:
                  Der Menupunkt "Abenteuer auswaehlen" bzw.
                  "Verfuegbare Abenteuer" sucht nach der Datei mit den
                  Anfangsdaten des Abenteuers (diese Datei wird durch die
                  Taste "/" im Editor angelegt).
                  Daher kann ein Abenteuer erst nach Festlegen der
                  Anfangsdaten angezeigt werden.

 *              - Aufruf der Fehlerkontrolle
                  Hierdurch werden die Aktionsfelder der Karte soweit moeglich
                  auf ihre Richtigkeit getestet.
                  ACHTUNG: Diese Fehlerkontrolle ist nicht perfekt und kann auch
                           keine logischen Fehler (z.B. eine Teleporterschleife
                           aus der man nicht entkommen kann) erkennen.

 Leertaste      - Spraydose


Tastaturbelegung in der Gesamtkarte
===================================

 E              - Gesamtkarte beenden, zurueck zur Normalkarte
 F              - Fuellen (siehe Normalkarte)
 R              - Redraw
 Leertaste      - Spraydose
                        Hinweis: Man kann die Maus bei gedrueckter
                        Leertaste bewegen, und so den Sprayeffekt
                        ueber grosse Flaechen verteilen

Maustasten
==========

Linke Maustaste

 Klick in der Karte: Setzen des aktuellen Elements

 Bewegen der Maus in der Karte bei gedrueckter linker Maustaste:
                Zeichnen mit dem aktuellen Element

 Klick in der Elementleiste: Auswahl eines Zeichenelements


Rechte Maustaste
 Klick in der Karte: Erster Klick:  Markieren der ersten Blockkoordinaten
                     Zweiter Klick: Zeichnen des Blocks und loeschen der
                                    Blockkoordinaten



  WICHTIG: Da sowohl Mausbewegungen, Betaetigung von Tastatur oder
           Maustasten abgefragt werden kann es vorkommen, dass sich
           diese Ereignisse gegenseitig "stoeren".
           D.h.: Gibt man einen Text ein und spielt dabei mit der Maus
           herum, dann kann es passieren, dass die Tastatureingaben
           verschluckt werden.

@ENDNODE Karteneditor



@NODE Editor_Modi


Die Modi und ihre Wirkungen
 * Der Normalmodus
        Hier bewirkt ein Mausklick im Kartenausschnitt, dass das
        gewaehlte Zeichenelement auf das Zielfeld gesetzt wird

        In diesem Modus werden Aktionsfelder durch ein rotes
        Rechteck im Feld markiert.

 * Der Explorermodus
        Hier bewirkt ein Mausklick im Kartenausschnitt, dass das
        angewaehlte Zielfeld als erforscht bzw. nicht erforscht
        markiert wird.
        Erforschte Felder sind in diesem Modus durch ein weisses
        Rechteck im Feld markiert.

        In diesem Modus werden Aktionsfelder durch ein rotes
        Rechteck im Feld markiert.

 * Der Bereichsmodus x
        Die Bereichsmodi haben Nummern von 0 bis 15.
        Hier bewirkt ein Mausklick im Kartenausschnitt, dass das
        angewaehlte Zielfeld dem Bereich Nummer x zugewiesen wird.
        Felder, die dem Bereich Nummer x angehoeren werden mit einem
        weissen Rechteck im Feld markiert, alle anderen Felder bleiben
        unmarkiert

        In diesem Modus werden Aktionsfelder durch ein rotes
        Rechteck im Feld markiert.

        Eine kurze Erklaerung zu "Bereichen":
        Mit diesem Modus kann man bestimmten Teilen einer Karte
        einen Namen zuweisen, da man jedem Bereich einen Namen
        geben kann. Etwa: Bereich 0 "Die Todeswueste"
        Dann wuerden alle Felder, die als dem Bereich 0 zugehoerig
        markiert sind, waehrend des Spiels (und natuerlich auch im Editor)
        den Hinweis liefern, dass man sich in der "Todeswueste" befindet.

@ENDNODE Editor_Modi


@NODE Editor_Cycle

Cycle-Funktion
==============

Um die Karten etwas "natuerlicher" zu gestalten, gibt es die Cycle-Funktion.

Angenommen, es gibt vier Grafiken, die Baeume darstellen UND die
aufeinanderfolgende Nummern haben, etwa Nummer 5,6,7,8
Dann kann man mittels den Tasten I und J die Grafiken Nummer 5 und 8
als Cyclebereich festlegen.
Wann immer man nur eine dieser vier Grafiken waehlt, wird automatisch
die Cyclefunktion aktiviert.
Diese bewirkt, dass im Normalmodus beim Setzen eines Elements oder
beim Zeichnen eines Blocks ZUFAELLIG eine der angegebenen Grafiken
gewaehlt wird.
Zeichnet man etwa einen grossen Block mit der Cyclefunktion, dann wuerde
in unserem Beispiel ein grosses Waldstueck entstehen, in dem die
vier Baumgrafiken zufaellig verteilt werden.

@ENDNODE Editor_Cycle

@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
@REM
@REM                   T E X T E
@REM
@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


@NODE Texte
Die im Spiel anzuzeigenden Texte werden in der Datei
  Silver:<Abenteuername>/Interne_Daten/Texte.txt
niedergelegt.

Durch den Aufruf von "Daten konvertieren" wird diese Datei in ein
kompaktes Format umgewandelt und dem Spiel verfuegbar gemacht.

HINWEIS: Waehrend der Konvertierung werden temporaere Dateien im
Verzeichnis T: angelegt, daher muss man dieses Verzeichnis festlegen.
(Normalerweise wird dies ohnehin schon in der Startup-Sequence erledigt.)

Die Texte werden beginnend bei 0 durchnummeriert.

Die Datei Texte.txt hat folgenden Aufbau (beispielsweise):

===ANFANG=============================================

Dies ist der Text Nr. 0 (Kommentarzeile)

#
Dies ist ein Test!
*


Dies ist der Text Nr. 1 (auch Kommentar)

#
Dies ist noch ein Test
*

===ENDE===============================================

Ein # markiert den Anfang eines Textes, ein * den Ende des Textes.

Alle Eingaben zwischen den Texten werden als Kommentarzeilen gewertet.

Die zwischen # und * eingeschlossenen Texte dürfen (fast) beliebig
viele Zeilen enthalten - beim Anzeigen im Spiel wird bei laengeren Texten
(d.h. Texten, die zu lang fuer den Anzeigebereich sind) auf
Tastatureingaben gewartet

@ENDNODE Texte



@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
@REM
@REM                   B E G R I F F E
@REM
@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


@NODE Begriffe


21.06.1995

Namenskonventionen
==================

Gruppe        = Bezeichnet die Gruppe der Abenteurer
Block         = Als Block wird ein Rechteck bezeichnet, dass in der Karte
                mit einem bestimmten Element gezeichnet wird
Charakter     = Bezeichnung fuer eine Spielfigur
                (aus dem Englischen: character)
Item          = Gegenstand
Bereich       = Wird ein bestimmter Teil der Karte genannt, dem
                ein Name zugeordnet werden kann - ein Bereich kann
                z.B. eine Region sein ("Die Ebene von Trior"),
                eine Strasse ("Torweg"), usw.


@ENDNODE Begriffe


@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
@REM
@REM                   G E S P R A E C H E
@REM
@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


@NODE Gespraeche


Gespraeche              11.08.1997
==========

Die Gespraeche der Spielercharaktere werden durch eine eigene
"Programmiersprache" gesteuert.

Das sogenannte "Gespraechsprogramm" ist in einer gewoehnlichen
Textdatei abgelegt, die den Namen "Gespraech_<nr>.txt" traegt,
wobei <nr> eine Zahl ist.

WICHTIG: Es duerfen maximal 250 Zeichen pro Textzeile verwendet werden.

Wenn ein "Gespraechsprogramm" ausgefuehrt wird, wird in der ersten
Zeile des "Programms" begonnen und Zeile fuer Zeile ausgefuehrt.


PRAEPROZESSOR
-------------

Die Datei "Gespraech_<nr>.txt" wird beim Einlesen schon bearbeitet,
um Speicher zu sparen

        - Alle Kommentare werden entfernt
        - Alle Tabulatoren werden durch EIN Leerzeichen ersetzt
        - Fuehrende Leerzeichen werden entfernt
        - Nachfolgende Leerzeichen werden entfernt

Entstehen dadurch Leerzeilen, so werden diese erst gar nicht eingelesen.

ACHTUNG: Die Anzahl der hiernach verbleibenden Textzeilen ist
         programmintern begrenzt: Dies ist die Ausgabe "Max. Zeilenzahl
         in Gespraechsdatei" im Hauptmenu (zur Zeit 250 Zeilen).


Danach wird die im Speicher befindliche Datei weiterbearbeitet:
  - bei Sprunganweisungen (ausgenommen der INPUT-Befehl) werden
    die Sprungmarken durch Zeilennummern ersetzt. Dadurch ist es
    waehrend eines Gespraechs nicht mehr noetig, die Sprungmarke zu
    suchen, sondern man das Programm kann die Zeilen direkt anspringen
  - die Befehle werden durch Zahlencode ersetzt (=> spart Platz)


BEFEHLE
-------

In jede Zeile kann nur ein Befehl stehen, wobei allerdings fuehrende
Leerzeichen zulaessig sind.

AUSNAHME: In einer Zeile kann ein Befehl stehen, der von einem
          Kommentar gefolgt werden kann - schliesslich ist ein
          Kommentar kein Befehl.

WICHTIG:  Befehle sind "case-sensitive", d.h. sie muessen genau so,
          wie hier angegeben, geschrieben werden - die Gross- bzw.
          Kleinschreibung muss genau eingehalten werden.


&<text>         Kommentar
                Alle dem Kaufmannsund folgenden Zeichen bis zum
                Zeilenende werden ignoriert


END             Gespraechsende
                Dieser Befehl beendet das Gespraech an dieser Stelle

                ACHTUNG: Es darf kein "Open End" geben - das Gespraech
                         muss immer durch ein END abgeschlossen sein


#<text>         Textausgabe
                Der dem Kreuz folgende Text wird auf dem Bildschirm
                ausgegeben.
                Nach der Textausgabe wird der gesamte Text um eine
                Zeile hochgescrollt.

                In <text> duerfen folgende Steueranweisungen vorkommen:

                  Die []-Anweisung:
                      <text1>[<text2>]<text3>
                      Hierdurch wird der <text2> farblich hervorgehoben
                      Bsp: Mein Name ist [Ragor], der Grossartige
                      Hierdurch wird das Wort "Ragor" hervorgehoben.

                  Die *-Anweisung
                      Der Stern '*' wird durch den Namen des Charakters
                      ersetzt, der gerade redet.
                      Z.B.: Der Charakter Ragor redet.

                      Dann wird die Zeile:
                           #Hallo *!
                      ausgegeben als:
                           Hallo Ragor!

                      ACHTUNG: Ein Name kann bis zu 20 Zeichen lang sein,
                               es muss daher darauf geachtet werden, dass
                               noch genug Platz in der Zeile ist, um den
                               Namen einfuegen zu koennen.

§<text>         Sprungmarke
                Der hinter dem Paragraphenzeichen stehende Text wird als
                Name der Sprungmarke betrachtet.
                Sprungmarken sind "case-insensitiv", d.h. es wird nicht
                auf Gross- und Kleinschreibung geachtet.
                Der Grund dafuer ist der Befehl INPUT - durch die
                Nichtbeachtung der Rechtschreibung wird die Abfrage
                wesentlich vereinfacht...

                Bsp: §Verkauf

                ACHTUNG: Sprungmarkennamen muessen eindeutig sein!!


GOTO <text>     Sprungbefehl
                Der hinter dem GOTO folgende Text wird als Name der
                der anzuspringenden Sprungmarke angesehen

                Bsp: GOTO Verkauf


INPUT <arg1> ... <arg n>
                Benutzergelenkter Sprungbefehl

                Erwartet eine Texteingabe. Diese Texteingabe wird mit den
                angegebenen Argumenten verglichen (case-insensitiv).
                Gibt es eine Uebereinstimmung zwischen einem Wort in dem
                eingegebenen Text und den angegebenen Argumenten, so wird
                zu der Sprungmarke mit diesem Namen gesprungen.
                Wird keine Uebereinstimmung gefunden, so wird in der
                folgenden Zeile fortgesetzt
                Die Argumente werden durch Leerzeichen getrennt angegeben
                Nach erfolgter Eingabe wird der Text um eine Zeile
                hochgescrollt.

                ACHTUNG: Eine leere Eingabe, d.h. druecken der RETURN-Taste
                ohne Eingabe beendet das Gespraech!

                Bsp: INPUT Name Beruf Alter


SET <nr>
                Setzt die interne Merkvariable mit der Nummer <nr>
                Das Programm wird in der naechsten Zeile fortgesetzt

                Bsp: SET 2


UNSET <nr>
                Loescht die interne Merkvariable mit der Nummer <nr>
                Das Programm wird in der naechsten Zeile fortgesetzt

                Bsp: UNSET 3

                HINWEIS: Die Merkervariablen haben nur zwei Zustaende,
                         naemlich gesetzt oder ungesetzt.

IFSET <nr> <posmarke>
                Falls die interne Merkvariable mit der Nummer <nr>
                gesetzt ist wird zur Sprungmarke mit dem Namen <posmarke>
                gesprungen. Ist sie nicht gesetzt, so wird in der
                naechsten Programmzeile fortgefahren


INKEY
                Gibt einen Hinweistext in der untersten Zeile aus und
                wartet auf Tastendruck/Maustaste. Nach erfolgtem Druck
                wird die Zeile geloescht. Es erfolgt kein Scrolling



YN <posmarke>
                Wartet auf die Eingabe von "Ja" oder "Nein"
                Bei Eingabe von "Ja" wird zur Marke "posmarke" gesprungen,
                bei Eingabe von "Nein" wird in der folgenden Zeile
                fortgesetzt

EP <anz>
                <anz> Erfahrungspunkte werden an die Gruppe verteilt
                Es wird der Text:
                "Die Gruppe erhaelt <anz> Erfahrungspunkte"
                ausgegeben.

IFUNSET <nr> <posmarke>
                Falls die interne Merkvariable mit der Nummer <nr>
                NICHT gesetzt ist wird zur Sprungmarke mit dem
                Namen <posmarke> gesprungen Ist sie nicht gesetzt, so
                wird in der naechsten Zeile fortgefahren

GETITEM <name>
                Die Gruppe erhaelt den Gegenstand mit Namen <name>.
                Dieser Gegenstandsname muss eindeutig sein (und,
                natuerlich, existieren)
                Bsp: GETITEM Schwert

                Bemerkung: Da beim Erhalten eines Gegenstands der
                Textausgabebereich geloescht wird, sollte vor
                dem Aufruf von GETITEM der Befehl INKEY verwendet werden.



GIVEITEM <name> <marke>
                Es soll ein Mitglied der Gruppe ausgewaehlt werden, welches
                den Gegenstand mit Namen <name> hergibt. Dieser Name muss
                NICHT eindeutig sein, d.h. das Mitglied kann mehrere
                Gegenstaende dieses Namens bei sich tragen
                Wird kein Gruppenmitglied ausgewaehlt oder hat das
                gewaehlte Gruppenmitglied den Gegenstand nicht, dann
                wird zu <marke> gesprungen.
                Andernfalls wird in der naechsten Zeile fortgesetzt und
                der Gegenstand wird abgegeben.
                Bsp: GIVEITEM Schwert HatEsNicht



MONEY <anz>
                <anz> Silberstuecke werden an die Gruppe verteilt.
                Es wird der Text:
                "Die Gruppe erhaelt <anz> Silberstuecke"
                ausgegeben.

GIVEMONEY <anz> <marke>
                Es soll ein Mitglied der Gruppe ausgewaehlt werden, welches
                <anz> Geldstuecke hergibt.
                Wird kein Gruppenmitglied ausgewaehlt oder hat es nicht
                genug Geld, dann wird zu <marke> gesprungen.
                Andernfalls wird in der naechsten Zeile fortgesetzt und
                das Geld wird abgegeben.
                Bsp: GIVEMONEY 20 HatKeinGeld

FOLLOW <nr> <fehlermarke>
                Die Charakterdatei mit der Nummer <nr> wird geladen und der
                darin enthaltene Charakter der Gruppe hinzugefuegt
                Tritt hierbei ein Fehler auf (Datei nicht gefunden, kein
                Platz in der Gruppe, ...) dann wird zur Marke
                <fehlermarke> gesprungen

TEST <nr> <negmarke>
                Fuehrt eine Menschenkenntnisprobe modifiziert mit <nr> durch
                   <nr> > 0 Erschwernis
                   <nr> < 0 Erleichterung
                Misslingt die Probe, dann wird zur <negmarke> gesprungen
                Andernfalls wird in der naechsten Zeile fortgesetzt

                Z.B. kann man hiermit den Spielern Zusatzinfos zukommen
                lassen - zur Illustration ein kurzes Beispiel:

                        #Allerbeste Ware! Nur 10000 Goldstuecke...
                        TEST 0 misslungen
                        #Du hast das Gefuehl, der Haendler luegt.

                        §misslungen
                        #Wollt ihr es kaufen?


ATTACK <nr> <anz> <siegmarke>
                Die Gruppe wird von <anz> Gegnern mit der Nummer <nr>
                angegriffen. Im Falle des Sieges wird zu <siegmarke>
                gesprungen
                Andernfalls wird in der naechsten Zeile fortgesetzt.
                Kann der angegebene Gegner nicht geladen werden (d.h. tritt
                ein Fehler auf), dann wird in der naechsten Zeile fortgesetzt
                der Kampf wird also als verloren gewertet.

                Bsp:
                        ATTACK 1 4 sieg


RACE <nr> <posmarke>
                Falls der Sprecher zur Rasse <nr> gehoert
                wird zur Sprungmarke mit dem Namen <posmarke> gesprungen
                Ist dies nicht der Fall, so wird in der naechsten Zeile
                fortgefahren

                Zur Zeit gibt es folgende Rassen:

                        Rasse           <nr>
                        SONSTIGE          0
                        MENSCH            1
                        TROLL             2
                        ELF               3
                        GOBLIN            4
                        KOBOLD            5
                        ZWERG             6
                        ORK               7
                        HALBELF           8
                        HALBORK           9
                        HOBBIT           10


                Bsp:
                        RACE 1 IstMensch

                Bemerkung: Hiermit kann man Abneigungen/Vorlieben von
                           Gespraechspartnern gegenueber bestimmten Rassen
                           einbauen

LEARN <nr>
                Der Sprecher lernt die Rezeptur <nr>
                        0 = Heiltrank

                Bsp: LEARN 0

SPELL <nr>
                Der Sprecher lernt den Zauber <nr>

                Bsp: LEARN 40

                BEACHTE: Folgende Zauber sind jedem Charakter bekannt:
                   Lichtkugel
                   Flammenzuenglein
                   Schockwelle
                   Eishauch
                   Staerkung
                   Heilung 1
                   Gegengift 1




SETTIME <nr>
                Setzt die interne Zeitmerkervariable mit der Nummer <nr>
                auf die aktuelle Spielzeit.
                Das Programm wird in der naechsten Zeile fortgesetzt

                Bsp: SETTIME 2


UNSETTIME <nr>
                Loescht die interne Zeitmerkervariable mit der Nummer <nr>.
                Das Programm wird in der naechsten Zeile fortgesetzt

                Bsp: UNSETTIME 2


IFTIME <nr> <posmarke> <undefmarke> <zeitdiff>

                Falls die Zeitmerkervariable <nr> noch ungesetzt ist, dann wird
                zur Marke <undefmarke> gesprungen.

                Ist die Zeitmerkervariable <nr> gesetzt und ist zwischen der aktuellen
                Spielzeit und der in Zeitmerkervariable gespeicherten Zeit mehr
                Zeit als in <zeitdiff> angegeben vergangen, dann wird zu <posmarke>
                gesprungen.

                Die Angabe von <zeitdiff> erfolgt in Minuten!


POSITION <karte> <x> <y>

                Setzt die Gruppe in die Karte Nummer <karte> an die
                Koordinaten x/y

                ACHTUNG: Man muss hier selbst aufpassen, dass die angegebenen
                         Kartenkoordinaten gueltig sind!
                         Ansonsten treten bei der Ausfuehrung des Gespraechs
                         Fehler auf.


FILL <x1> <y1> <x2> <y2> <elem>

                Fuellt das Rechteck (x1,y1)-(x2,y2) mit dem Element
                Nummer elem

                ACHTUNG: Man muss hier selbst aufpassen, dass die angegebenen
                         Kartenkoordinaten gueltig sind!
                         Ansonsten treten bei der Ausfuehrung des Gespraechs
                         Fehler auf.



STYLE-GUIDE
===========

* In jedem Gespraech sollten folgende Begriffe akzeptiert werden:

    ende  - Um das Gespraech zu beenden
    name  - Um den Namen des Gespraechspartners zu erfahren
    beruf - Um den Beruf des Gespraechspartners zu erfahren
    alter - Um das Alter des Gespraechspartners zu erfahren

* Erscheinen im Text Schluesselwoerter, dann sollten sie mit
  den Klammern [ ] hervorgehoben werden.




@ENDNODE Gespraeche



@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
@REM
@REM                   A K T I O N S F E L D E R
@REM
@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

@NODE Aktionsfelder


Stand: 15.03.1997


Aktionsfelder
=============

So werden Felder genannt, die beim Betreten durch die Gruppe eine
bestimmte Aktion ausloesen.



Feilschen
=========

Feilschen wird immer dann angewendet, wenn eine Ware gekauft oder verkauft
wird - also bei den Aktionsfeldern Laden, Troedler und Handelsstation.
Beim Aktionsfeld Spezialladen war kein Platz mehr in der Datenstruktur...

Beim Kauf sinkt der Preis durch das Feilschen moeglicherweise,
beim Verkauf steigt der Verkaufspreis durch das Feilschen moeglicherweise.

Gefeilscht wird folgendermassen:
        preis = Der aktuelle Kaufs-/Verkaufspreis
        mod   = Modifikator auf die Feilschenprobe
        erg   = Ergebnis der Feilschens: Um diesen Wert sinkt/steigt "preis"
        talent= Ist der (modifizierte) Talentwert des Gruppenmitglieds,
                welches feilschen will.

1) Ist "mod" null?
        Falls ja:   Feilschen nicht moeglich, "erg" wird auf null gesetzt
                    und wir sind fertig.
        Falls nein: Weiter bei 2)

2) Ist "talent" kleiner als "mod/2" ?
        Falls ja:   Feilschen nicht moeglich (der Charakter ist nicht gut
                    genug). "erg" wird auf null gesetzt und wir sind fertig.
        Falls nein: Weiter bei 3)

3) Gelingt eine um "mod" erschwerte Talentprobe auf das Talent Feilschen?
        Falls nein: Das Feilschen zeigt keine Wirkung (auch keine negative).
                    Wir setzen "erg" auf null und sind fertig.
        Falls ja:   Weiter bei 4)

4) Sei "p" die Anzahl der Punkte, die bei der Probe uebrig geblieben sind.
   Der Preis sinkt dann um "p/10+1" Prozent, also:

        erg = ( preis * (p/10+1) ) / 100

   Ist nun "erg" mehr als groesser als "preis/10", dann wird

        erg = preis/10

   gesetzt.
   Nun sind wir fertig.



Bemerkung: Wie man bei 2) sieht, ist es nicht sinnvoll zu grosse
           Modifikatoren anzugeben, da die Talentwerte ein Maximum von
           in der Regel 95 haben.



Aktionsfeldtypen
================

Es folgt nun eine Beschreibung der Wirkung der verschiedenen Aktionsfelder
und die noetigen Eingaben im Editor.

  @{"Setze Merker        (AFT_SETZE_MERKER)" LINK AFT_Setze_Merker}
  @{"Loesche Merker      (AFT_UNSET)" LINK AFT_Unset}
  @{"Schalter            (AFT_SCHALTER)" LINK AFT_Schalter}
  @{"Karte               (AFT_KARTE_V2)" LINK AFT_Karte_V2}
  @{"Text                (AFT_TEXT)" LINK AFT_Text}
  @{"Gespraech           (AFT_GESPRAECH_V2)" LINK AFT_Gespraech_V2}
  @{"Auto-Gespraech      (AFT_AUTO_GESPRAECH)" LINK AFT_Auto_Gespraech}
  @{"Nachts geschlossen  (AFT_NACHTS_GESCHLOSSEN)" LINK AFT_Nachts_geschlossen}
  @{"Handelsstation      (AFT_HANDELSSTATION)" LINK AFT_Handelsstation}
  @{"Text mit Merker     (AFT_TEXT_MIT_MERKER)" LINK AFT_Text_mit_Merker}
  @{"Goto mit Merker     (AFT_GOTO_MIT_MERKER)" LINK AFT_Goto_mit_Merker}
  @{"Bank                (AFT_BANK)" LINK AFT_Bank}
  @{"Gasthaus            (AFT_GASTHAUS)" LINK AFT_Gasthaus}
  @{"Laden               (AFT_LADEN)" LINK AFT_Laden}
  @{"Troedler            (AFT_TROEDLER)" LINK AFT_Troedler}
  @{"Falle               (AFT_FALLE)" LINK AFT_Falle}
  @{"Geld finden         (AFT_GELD_V2)" LINK AFT_Geld_finden_V2}
  @{"Angriff             (AFT_ANGRIFF)" LINK AFT_Angriff}
  @{"Heiler              (AFT_HEILER)" LINK AFT_Heiler}
  @{"Spezialladen        (AFT_SPEZIALLADEN)" LINK AFT_Spezialladen}
  @{"EP erhalten         (AFT_EP_ERHALTEN)" LINK AFT_Ep_erhalten}
  @{"Gegenstand erhalten (AFT_GET_ITEM_V2)" LINK AFT_Gegenstand_erhalten_V2}
  @{"Sesam               (AFT_SESAM_V2)" LINK AFT_Sesam_V2}
  @{"Schluessel          (AFT_SCHLUESSEL)" LINK AFT_Schluessel}
  @{"Zeitmerker setzen   (AFT_ZEITMERKER_SETZEN)" LINK AFT_Zeitmerker_setzen}


@ENDNODE Aktionsfelder



@NODE AFT_Setze_Merker

Setze Merker  (AFT_SETZE_MERKER)
        Dieses Feld setzt eine bis vier Merkervariablen.
        Bei der Eingabe werden bis zu vier Merkervariablennummern
        abgefragt.

        Bemerkung: Durch die Merkervariablen kann man durch das Betreten
                   eines speziellen Feldes z.B. eine Aktions ausloesen,
                   die erst an einem anderen Ort Wirkung zeigt
@ENDNODE AFT_Setze_Merker



@NODE AFT_Unset

Loesche Merker  (AFT_UNSET)
        Dieses Feld loescht eine bis vier Merkervariablen.
        Bei der Eingabe werden bis zu vier Merkervariablennummern
        abgefragt.

@ENDNODE AFT_Unset



@NODE AFT_Schalter

Schalter  (AFT_SCHALTER)
        Dieses Feld schaltet eine bis vier Merkervariablen.
        D.h. ist die betreffende Merkervariable gesetzt, dann wird sie
        bei Betreten des Feldes geloescht. Entsprechend wird eine
        nicht gesetzte Merkervariable beim Betreten des Feldes geloescht.
        Bei der Eingabe werden bis zu vier Merkervariablennummern
        abgefragt.

@ENDNODE AFT_Schalter


@NODE AFT_Karte_V2

Karte  (AFT_KARTE_V2)
        Hier gibt man die Zielkoordinaten und die Zielkarte ein, an die
        die Gruppe bei Betreten dieses Feldes gesetzt werden soll.
        Wird bei der Frage nach der Nummer der Zielkarte -1 eingegeben,
        dann wird die aktuelle Karte beibehalten.

        Es besteht zusaetzlich die Moeglichkeit, zusaetzlich zum
        Koordinatenwechsel eine Merkervariable zu setzen, zu loeschen
        oder einen Text auszugeben.


        Anwendungsbeispiel:

        Hiermit kann man zum Beispiel das Betreten einer Stadt erzeugen:
        In der Landschaft (Karte 0) wird auf die Grafik "Stadt" ein
        Aktionsfeld dieses Typs gelegt, und dat1 = 1, dat2 = 4,
        dat3 = 5 gesetzt.
        Dies bedeutet, dass beim Betreten dieses Feldes die Karte
        Nummer 1 geladen wird, in der die Gruppe bei 4/5 stehen wird.


        ACHTUNG: Existiert die angegebene Karte nicht, oder liegen die
                 angegebenen Koordinaten nicht innerhalb der Karte, dann
                 gibt es einen Programmfehler, der zwar abgefangen wird,
                 aber zum Ende des Programms fuehrt.

        HINWEIS: Da nur dann nachgeladen wird, wenn die Zielkarte nicht
                 im Speicher ist, eignet sich dieses Aktionsfeld
                 auch als Teleporter oder aehnliches.

        HINWEIS: Wird eine neue Karte geladen, so wird die im Speicher
                 befindliche Karte nach SILVER_SAVE:temp
                 gespeichert

        HINWEIS: Die zu lesende Karte wird zuerst aus SILVER_SAVE:temp
                 gelesen, sollte dort nichts gefunden werden, dann wird
                 in SILVER_SAVE:Abenteuername/Spielstand gesucht.

@ENDNODE AFT_Karte



@NODE AFT_Text

Text  (AFT_TEXT)
        Hier gibt man die Nummer des Textes ein, der bei Betreten dieses
        Feldes angezeigt werden soll.
        Zulaessig sind Textnummern >= 0

        Die Texte befinden sich in einem speziellen Format in
        der Datei SILVER:Abenteuername/Daten/Texte.dat

        Das Anlegen und Umwandeln einer Textdatei => siehe: @{"Texte" LINK Texte}

        Es besteht zusaetzlich die Moeglichkeit, bei Betreten des Feldes
        eine Merkervariablen zu setzen oder zu loeschen.

@ENDNODE AFT_Text



@NODE AFT_Gespraech_V2

Gespraech  (AFT_GESPRAECH_V2)
        Gespraech: Wird dieses Feld "angesprochen" (mittels einer Funktion
        waehrend des Spiels), so wird das Gespraech mit der eingegebenen
        Gespraechsnummer Dat1 ausgefuehrt.
        Beim BETRETEN des Feldes passiert nichts - nur die Funktion
        "Ansprechen" veranlasst eine Aktion

        Die @{"Gespraechsdateien" LINK Gespraeche} befinden sich im Verzeichnis
        SILVER:Abenteuername/Daten/Gespraeche und haben den
        Namen Gespraech_<nr>.txt, muessen aber vor Verwendung noch in ein
        kompaktes Spezialformat umgewandelt werden.

        Nach Eingeben der Gespraechsnummer wird man gefragt, ob es
        moeglich sein soll, den Gespraechspartner zu bestehlen.

        Bejaht man die Frage, dann muss man eine Merkernummer eingeben,
        in der gespeichert wird, ob der Diebstahl schon erfolgte:
        Der Diebstahl kann pro Gespraechspartner nur einmal versucht werden,
        da die angegebenen Merkervariable bei einem Diebstahlsversuch
        gesetzt wird.

        Danach wird man aufgefordert, die Modifikation der Diebstahlprobe
        einzugeben, hierbei ist eine positive Eingabe eine Erschwernis,
        eine negative Eingabe eine Erleichterung der Probe.

        Danach muss man die Geldmenge, den Gegenstand und die
        Erfahrungspunkte eingeben, die der Dieb bei erfolgreichem Diebstahl
        erhaelt.

        Danach wird abgefragt, ob bei einem Misslingen des Diebstahls
        ein Angriff erfolgen soll.
        Bejaht man diese Frage, dann muss man die Nummer des Gegners
        und die Anzahl der Gegner eingeben.

            BEMERKUNG: Hiermit kann man das veraergerte Opfer des
                       Diebstahls auf die Diebe losgehen lassen...




        Ablauf des Diebstahls:
                Wurde dieser Gespraechspartner schon bestohlen?
                Falls ja:
                        Hier wurde schon ein Diebstahl versucht
                Falls nein:
                        Merker setzen
                        Gelingt die modifzierte Taschendiebstahlprobe,
                        dann erhaelt der Dieb:
                             Goldstuecke und Erfahrungspunkte

@ENDNODE AFT_Gespraech_V2


@NODE AFT_Auto_Gespraech

Auto-Gespraech  (AFT_AUTO_GESPRAECH)
        Im Gegensatz zum Aktionsfeld @{"Gespraech" LINK AFT_Gespraech_V2} wird dieses
        Aktionsfeld beim Betreten des Feldes automatisch aktiv.
        D.h. das Gespraech mit der Nummer Dat1 wird ausgefuehrt - und als
        Sprecher wird der ERSTE lebende Charakter verwendet.

        Die @{"Gespraechsdateien" LINK Gespraeche} befinden sich im Verzeichnis
        SILVER:Abenteuername/Daten/Gespraeche und haben den
        Namen Gespraech_<nr>.txt, muessen aber vor Verwendung noch in ein
        kompaktes Spezialformat umgewandelt werden.


        Bemerkung:
                Hiermit kann man nun z.B. folgendes realisieren
                (das folgende Beispiel von Enrico Paetz war der
                Ausloeser fuer das Enstehen dieses Aktionsfeldtypes - Ehre
                wem Ehre gebuehrt!)

                  Die Gruppe geht so ihres Weges und trifft dabei
                  auf das Aktionsfeld. Es wird folgender Text ausgegeben:
                     "Ihr hört seltsame Geräusche aus den Büschen im Westen.
                     Wollt ihr nachsehen?"

                    Ja/Nein-Abfrage

                    Falls Nein: "Feiglinge" und Gespraechsende

                    Falls Ja:

                         "Ihr schleicht euch heran und seht
                          wie eine Frau von Räubern überfallen
                          wird. Wollt ihr helfen?"

                    Ja/Nein-Abfrage

                    Falls Nein: Böse Bemerkung und Ende

                    Falls Ja:

                        Die Frau wird als Mitglied in die Gruppe aufgenommen
                        (allerdings bleibt sie nur fuer die Dauer dieses
                        Kampfes mittels der @{"RESTKAEMPFE-Anweisung" LINK NPC_Sonstige}
                        kann man einen NPC derart gestalten)

                        Dann erfolgt ein Kampf.




                Ich wuerde obiges Beispiel folgendermassen als
                Gespraechsdatei saehe dies dann so aus:

                ---------- ANFANG

                & Ist dieses Ereignis schon vorgefallen? Falls ja, dann
                & ist der Merker 53 gesetzt

                IFSET 53 schon_passiert

                SET 53

                #Ihr hört seltsame Geräusche aus den Büschen im Westen.
                #Wollt ihr nachsehen?"
                YN nachsehen
                #Feiglinge!
                END

                §nachsehen
                #Ihr schleicht euch heran und seht wie eine Frau von Räubern
                #überfallen wird. Wollt ihr helfen?"

                YN helfen
                #Pfui!
                SET 54   & diesen Merker kann man spaeter abfragen,
                         & um auf die Feigheit der Gruppe zurueckzukommen...
                END

                §helfen
                FOLLOW 5 fehler    & Die Frau wird der Gruppe angeschlossen

                §fehler
                & Sollte ein Fehler auftreten, z.B. weil kein Platz mehr
                & in der Gruppe ist, dann wird trotzdem mit dem Kampf
                & fortgefahren

                & Kampf gegen vier Raeuber (Charakterdatei 6)
                ATTACK 6 4 gewonnen

                & Tja, die Gruppe hat verloren...
                END

                §gewonnen
                & Die Gruppe hat gewonnen... Nun eine Belohnun?
                END


                §schon_passiert
                END

                -------- ENDE

                Hierbei ist die Charakterdatei 5 die Datei der angegriffenen
                Frau - bei diesem NPC ist RESTKAEMPFE=1 gesetzt, so
                dass die Frau nur einen Kampf lang bei der Gruppe bleibt.

                Die Charakterdatei 6 enthaelt die Daten der Raeuber.

@ENDNODE AFT_Auto_Gespraech




@NODE AFT_Nachts_geschlossen

Nachts geschlossen  (AFT_NACHTS_GESCHLOSSEN)
        Wird dieses Feld in der Zeit von 8-20 Uhr betreten, so
        passiert nichts.

        Wird dieses Feld in der Zeit von 20-8 Uhr betreten, so wird
        ggf. ein Text ausgegeben, und die Gruppe wird an die neuen
        Koordinaten gesetzt.


        Hier gibt man die Zielkoordinaten und die Zielkarte ein, an die
        die Gruppe bei Betreten dieses Feldes gesetzt werden soll.
        Wird bei der Frage nach der Nummer der Zielkarte -1 eingegeben,
        dann wird die aktuelle Karte beibehalten.
        Es ist auch moeglich, einen Text auszugeben, der beim Versetzen
        angezeigt wird.



@ENDNODE AFT_Nachts_geschlossen



@NODE AFT_Handelsstation

Handelsstation  (AFT_HANDELSSTATION)
        Wird dieses Feld "angesprochen" so kann man hier Gegenstaende
        kaufen oder verkaufen:
                1) FELL
                2) BERNSTEIN
                3) SALZ
                4) GEWUERZE
                5) ELFENBEIN
                6) SCHMUCK

        Beim Setzen dieses Aktionsfeldes muss man die Preise fuer die oben
        genannten Waren eingeben:
                =0  Diesen Gegenstand kann man hier weder kaufen noch
                    verkaufen
                <0  Diesen Gegenstand kann man hier verkaufen - der Wert
                    gibt den Preis an
                >0  Diesen Gegenstand kann man hier kaufen - der Wert gibt
                    den Preis an

        Schliesslich wird man noch nach den Konditionen fuer das
        Feilschen gefragt.
        Eine Eingabe von
                = 0 bedeutet: Kein Feilschen moeglich
                > 0 bedeutet: Erschwernis der Feilschenprobe

        Bemerkung: Die Feilschenprobe kann nicht erleichtert werden.
                (Sorry fuer diese Schwaeche - das hat aber historische
                Gruende, sprich: Ich wollte die Kompatibilitaet zu den
                alten Karten halten...)

        Bemerkung: Durch dieses Aktionsfeld kann man ein "Handelselement"
                   ins Spiel bringen

@ENDNODE AFT_Handelsstation



@NODE AFT_Text_mit_Merker

Text mit Merker  (AFT_TEXT_MIT_MERKER)
        Wird dieses Feld betreten und ist die Merkervariable noch nicht
        gesetzt, dann wird die angegebene Merkervariable gesetzt, und der
        zugehoerige Text angezeigt.
        Andernfalls wird der andere Text angezeigt.

        Es besteht zusaetzlich die Moeglichkeit, zusaetzlich zum
        Koordinatenwechsel eine Merkervariable zu setzen und/oder zu
        loeschen, nachdem der Text ausgegeben wurde.


        Bemerkung: In Verbindung mit AFT_SETZE_MERKER kann man einen
                   "Begruessungseffekt" erreichen: Beim Betreten des
                   Gebaeudes wird mittels AFT_TEXT_MIT_MERKER ein
                   Begruessungstext in Abhaengigkeit einer Merkervariablen
                   ausgegeben, gleichzeitig setzt man den Merker.

                   Also: Beim Betreten des Gebaeudes wird der Text
                   ausgegeben und gleich danach der Merker gesetzt.
                   Daher wird etwa beim Verlassen des Gebaeudes oder
                   beim erneuten Betreten kein Text mehr ausgegeben.


@ENDNODE AFT_Text_mit_Merker



@NODE AFT_Goto_mit_Merker

Goto mit Merker  (AFT_GOTO_MIT_MERKER)
        Zuerst wird der Merker abgefragt, von dem der Sprung
        abhaengen soll:

        Danach gibt man die Zielkoordinaten und die Zielkarte ein, an die
        die Gruppe bei Betreten dieses Feldes in Abhaengigkeit von
        dem Zustand der Merkervariable gesetzt werden soll.
        Wird bei der Frage nach der Nummer der Zielkarte -1 eingegeben,
        dann wird die aktuelle Karte beibehalten.

        Bemerkung: Hiermit kann man den "Diebesgildeneffekt" erreichen
                   So lange der Merker x nicht gesetzt ist, wird beim
                   Betreten des Feldes Diebesgilde nichts getan (dort
                   hat man ein Feld mit AFT_GOTO_MIT_MERKER gesetzt)
                   Erst wenn man einen Hinweis auf die Gilde bekommen
                   hat (sprich: Merker x gesetzt wurde), kann man die
                   Gilde betreten


@ENDNODE AFT_Goto_mit_Merker


@NODE AFT_Bank

Bank (AFT_BANK)
        Hier kann man Geld einzahlen und Zinsen kassieren.
        Die Zinsen werden je VOLLEM Monat, den das Geld auf der Bank
        liegt gezahlt - wird das Konto aufgeloest, dann wird der
        Zeitzaehler zurueckgesetzt.

        Beim Setzen des Aktionsfeldes muss man den Zinssatz eingeben
        und die Mindest- und Maximaleinlage fuer das Konto.


        Bemerkung: Dies ist ein weiteres "Handelselement"

@ENDNODE AFT_Bank


@NODE AFT_Gasthaus

Gasthaus  (AFT_GASTHAUS)
        Wird dieses Feld angesprochen, dann wird die Gasthausroutine
        aufgerufen und die verfuegbaren Zimmer angezeigt.

        Die Zimmer werden bei der Eingabe des Aktionsfeldes festgelegt:
          Sowohl fuer das "gute Zimmer" als auch fuer das "normale Zimmer"
          werden die Zielkarte, X-Y-Koordinaten des Zimmers und der
          Preis des Zimmers eingegeben.

          Wird bei der Frage nach der Nummer der Zielkarte -1 eingegeben,
          dann wird die aktuelle Karte beibehalten.

        Ausfuehrung:
        Wird eine der zwei Zimmerarten bezahlt dann wird ein GOTO zu den
        entsprechenden Koordinaten ausgefuehrt

            Normales Zimmer:
                Jeder regeneriert 1W20+15 Erschoepfungspkt
                Jeder regeneriert  1W6+ 1 Verletzungspkt

            Gutes Zimmer:
                Jeder regeneriert 1W20+25 Erschoepfungspkt
                Jeder regeneriert  1W6+ 3 Verletzungspkt

        Nach dem Schlaf kann noch etwas Besonderes geschen - dies wird
        durch die "Besonderheit" geregelt:

             = 0  Nichts passiert

             = 1  Das Gasthaus ist besonder ruhig:
                  Zusaetzlich regeneriert jedes
                  Gruppenmitglied man 1W6 Erschoepfungspunkte

             = 2  Im Gasthaus ist es sehr laut gewesen
                  und die Gruppe hat schlecht geschlafen.
                  Am Morgen erhaelt jedes Gruppenmitglied
                  1W6+1 Erschoepfungspunkte.

             = 3  Wanzen: Jedes Gruppenmitglied erleidet 1 Verletzungspunkt
                  ABER: Wuerde es durch diesen Verletzungspunkt sterben,
                  dann erleidet es keinen Schaden.

             = 4  Diebstahl: Bei jedem Gruppenmitglied besteht eine
                  10-prozentige Chance auf einen Diebstahl
                  Bei dieser Art von Diebstahl wird nur Geld gestohlen
                  um zu vermeiden, dass die Gruppe durch Zufall einen
                  wichtigen Gegenstand verliert

                  Ablauf:
                  Bei 1 bis 10 auf einem W100 wird bei einem Gruppenmitglied
                  ein Diebstahl versucht: Gelingt dem Gruppenmitglied eine
                  Probe auf "Sechster Sinn", die durch 10-W20 modifiziert
                  wird, so wird der versuchte Diebstahl bemerkt.
                  Andernfalls verliert das Gruppenmitglied die Haelfte
                  seines Geldes


@ENDNODE AFT_Gasthaus


@NODE AFT_Laden

Laden  (AFT_LADEN)
        Hier kann man Gegenstaende kaufen.

        Bei der Eingabe des Feldes kann man bis zu sechs Gegenstaende
        festlegen, die man hier kaufen kann (waehlt man ABBRUCH, dann
        bleibt der Platz dieses Gegenstandes leer)

        Der Verkaufsindex bestimmt den Preis, den ein Gruppenmitglied
        zahlen muss:
                Preis = Normalpreis * Verkaufsindex / 100


        Der Kaufindex den Preis, den ein Gruppenmitglied
        fuer einen Gegenstand erhaelt:
                Preis = Normalpreis * Kaufindex / 100
        ### Dieser Wert wird noch nicht benutzt ###


        Schliesslich wird man noch nach den Konditionen fuer das
        Feilschen gefragt.
        Eine Eingabe von
                = 0 bedeutet: Kein Feilschen moeglich
                > 0 bedeutet: Erschwernis der Feilschenprobe



        Hinweis: Der Laden hat unendlich viele Gegenstaende auf Lager,
                 d.h. er wird nie leergekauft - ganz im Gegensatz zu
                 AFT_TROEDLER


@ENDNODE AFT_Laden



@NODE AFT_Troedler

Troedler (AFT_TROEDLER)
        Hier kann man Gegenstaende kaufen und verkaufen.

        Bei der Eingabe des Feldes kann man bis zu sechs Gegenstaende
        festlegen, die man hier kaufen kann (waehlt man ABBRUCH, dann
        bleibt der Platz dieses Gegenstandes leer)

        Der Verkaufsindex, bestimmt den Preis, den ein Gruppenmitglied
        zahlen muss:
                Preis = Normalpreis * Verkaufsindex / 100


        Der Kaufindex, bestimmt den Preis, den ein Gruppenmitglied
        fuer einen Gegenstand erhaelt:
                Preis = Normalpreis * Kaufindex / 100


        Schliesslich wird man noch nach den Konditionen fuer das
        Feilschen gefragt.
        Eine Eingabe von
                = 0 bedeutet: Kein Feilschen moeglich
                > 0 bedeutet: Erschwernis der Feilschenprobe


        Prinzip:
        - Ein Gruppenmitglied kauft etwas:
                Der gekaufte Gegenstand wird aus dem Laden entfernt

        - Ein Gruppenmitglied verkauft etwas:
                Der verkaufte Gegenstand wird in den Laden eingefuegt


        Hinweis: Wie man sieht, kann dieser Laden leergekauft werden.
                 (Ganz im Gegensatz zu AFT_LADEN, wo die Vorraete nie
                 ausgehen.)

        Bemerkung: Der Bestand des Troedlers wird im Verlaufe des
                Spiels nicht automatisch aufgefrischt oder veraendert.
                Aenderungen treten erst durch Kaeufe/Verkaeufe des
                Spielers ein

@ENDNODE AFT_Troedler



@NODE AFT_Falle

##Falle  (AFT_FALLE)

        Dat1 Merkernummer, die angibt, ob die Falle schon ausgeloest wurde
             -1 bedeutet, dass die Falle "ewig" aktiv ist
        Dat2 Modifikator auf das Entdecken der Falle
             >0 Erschwernis, <0 Erleichterung
        Dat3 Modifikator auf das Entschaerfen der Falle
             >0 Erschwernis, <0 Erleichterung
        Dat4 Erfahrungspunkte fuer das Entdecken der Falle
        Dat5 Erfahrungspunkte fuer das Entschaerfen der Falle
        Dat6 Fallentyp
        Dat7, Dat8, Dat9 Fallendaten

        Fallentypen:
        Typ 0: Betaeubungsfalle - jedes Gruppenmitglied erhaelt
               Dat7 bis Dat8 Erschoepfungspunkte
        Typ 1: Verletzungsfalle - jedes Gruppenmitglied erhaelt
               Dat7 bis Dat8 Verletzungspunkte


        ABLAUF EINER FALLE
        1) Das Feld mit AFT_FALLE wird betreten. Ist Dat1 gleich -1 ?
           Falls ja   ==> 3)
           Falls nein ==> 2)
        2) Ist der Merker Dat1 gesetzt?
           Falls ja   ==> 3)
           Falls nein: Die Falle ist inaktiv, keine Folgen
        3) Die Falle ist noch aktiv - jedes Gruppenmitglied legt eine
           Probe auf das Talent "6. Sinn" ab, die um Dat2 modifiziert ist
           Jedes Gruppenmitglied, dem die Probe gelingt, erhaelt
           Dat4 Erfahrungspunkte
           Der Merker Dat1 wird gesetzt, falls Dat1 ungleich -1 ist
           Gelingt mindestens einem Gruppenmitglied die Probe?
           Falls ja   ==> 4)
           Falls nein ==> 6)
        4) Die Falle kann entschaerft werden
           Ein Gruppenmitglied wird ausgewaehlt und legt eine Probe
           auf das Talent "Fallen entschaerfen" ab, die um Dat3
           modifiziert wird
           Gelingt die Probe?
           Falls ja   ==> 5)
           Falls nein ==> 6)
        5) Die Falle ist entschaerft - das Gruppenmitglied, das die
           Falle entschaerft hat, erhaelt Dat5 Erfahrungspunkte
        6) Die Falle wird ausgeloest:
           Bei Fallentyp 0: Betaeubungsfalle
                     Jedes Gruppenmitglid erhaelt
                     zufall(Dat8-Dat7+1)+(Dat7-1) Erschoepfungspunkte

@ENDNODE AFT_Falle



@NODE AFT_Geld_finden_V2

Geld finden  (AFT_GELD_V2)
        Bei Betreten des Aktionsfeldes wird die festgelegte Merkervariable
        abgefragt.

        Ablauf:
          1) Ist die Merkervariable ungesetzt?

             2A) JA

             Ist (eine Probe auf Sechster Sinn noetig und ist sie erfolgreich)
             oder (es ist keine Probe noetig), dann
                Die Gruppe erhaelt das Geld und ggf. wird ein Text
                ausgegeben, Erfahrungspunkte an die Gruppe verteilt und
                eine neue Grafik angezeigt.
                Die Merkervariable wird gesetzt.

             andernfalls:
                Nichts passiert...

             2B) NEIN
                Nichts passiert...

@ENDNODE AFT_Geld_finden_V2


@NODE AFT_Angriff

##Angriff  (AFT_ANGRIFF)

        Dat1 Gibt die Chance, auf diesem Feld angegriffen zu werden, an.
             Die Angabe erfolgt in Prozent

        Dat2,Dat3
             Es greifen Dat3 Gegner an - die Gegner sind @{"Charaktere" LINK NPCs}
             mit der Nummer Dat2. Ist Dat3 gleich null
             dann wird kein Gegner geladen

             Ist Dat3 negativ, dann erfolgt eine automatische Anpassung
             der Gegneranzahl an die Gruppenstaerke:
                gegneranzahl = -Dat3 + Gruppenstaerke


        Dat4,Dat5
             Es greifen Dat5 Gegner an - die Gegner sind @{"Charaktere" LINK NPCs}
             mit der Nummer Dat4. Ist Dat5 gleich null
             dann wird kein Gegner geladen

             Ist Dat5 negativ, dann erfolgt eine automatische Anpassung
             der Gegneranzahl an die Gruppenstaerke:
                gegneranzahl = -Dat5 + Gruppenstaerke

        Dat6 Modifikator auf das Entdecken des Angriffs
             >0 Erschwernis, <0 Erleichterung
        Dat7 Erfahrungspunkte fuer das Entdecken des Angriffs
        Dat8 Modifikator auf das Schleichen
             >0 Erschwernis, <0 Erleichterung
        Dat9 Merkernummer, die angibt, ob der Angriff schon ausgeloest wurde
             -1 bedeutet, dass der Angriff "ewig" aktiv ist



        ABLAUF
        0) Das Feld mit AFT_ANGRIFF wird betreten.
           Ist zufall(100) <= Dat1 ?
           Falls ja   ==> 1)
           Falls nein ==> Es erfolgt kein Angriff
        1) Ist Dat9 gleich -1 ?
           Falls ja   ==> 3)
           Falls nein ==> 2)
        2) Ist der Merker Dat9 gesetzt?
           Falls ja   ==> 3)
           Falls nein: Der Angriff ist inaktiv, keine Folgen
        3) Der Angriff ist noch aktiv - jedes Gruppenmitglied legt eine
           Probe auf das Talent "6. Sinn" ab, die um Dat6 modifiziert ist
           Jedes Gruppenmitglied, dem die Probe gelingt, erhaelt
           Dat7 Erfahrungspunkte
           Gelingt mindestens einem Gruppenmitglied die Probe?
           Falls ja   ==> 4)
           Falls nein ==> 6)
        4) Der Angriff kann umgangen werden
           Jedes Gruppenmitglied legt eine Probe auf das Talent "Schleichen"
           ab, die um Dat8 modifiziert wird
           Gelingt ALLEN Gruppenmitgliedern die Probe?
           Falls ja   ==> 5)
           Falls nein ==> 6)
        5) Der Angriff wurde umgangen
        6) Der Angriff erfolgt
           Der Merker Dat9 wird gesetzt, falls Dat9 ungleich -1 ist


@ENDNODE AFT_Angriff



@NODE AFT_Heiler

Heiler  (AFT_HEILER)
        Hier kann man Gruppenmitglieder zu einem eingegebenen
        Preis heilen lassen.

        Die Staerke der Heilung wird beim Setzen des Aktionsfeldes
        eingegeben und zwar mit den Werten "Mindestheilung" und
        "Maximalheilung".

@ENDNODE AFT_Heiler


@NODE AFT_Spezialladen

Spezialladen (AFT_SPEZIALLADEN)
        Hier kann man Gegenstaende kaufen

        Bei der Eingabe des Feldes kann man bis zu drei Gegenstaende
        festlegen, die man hier kaufen kann (waehlt man ABBRUCH, dann
        bleibt der Platz dieses Gegenstandes leer)

        Zusaetzlich gibt es einen Spezialgegenstand, dessen Bestand sich
        jeden Monat um 1 erhoeht (bis der Maximalbestand erreicht ist).
        Den Momentan- und Maximalbestand gibt man beim Setzen des
        Aktionsfeldes an.

        Der Verkaufsindex, bestimmt den Preis, den ein Gruppenmitglied
        zahlen muss:
                Preis = Normalpreis * Verkaufsindex / 100


        Bemerkung: Dieses Aktionsfeld ist recht aehnlich zu AFT_LADEN,
                aber bei AFT_SPEZIALLADEN gibt es die Moeglichkeit,
                einen besonderen Gegenstand zu fuehren, der nicht
                in unbegrenzter Menge verfuegbar ist, sondern nur
                im Abstand von einem Monat wieder "aufgefuellt" wird.
                Die Zeilen bei (**) bedeuten einfach: Fuer jeden
                vollen Monat seit dem letzten Besuch wird die
                Anzahl des Spezialgegenstandes um 1 erhoeht.

        Hinweis: Hiermit kann man seltene Gegenstaende verfuegbar
                machen, sie aber gleichzeitig doch beschraenken.
                Z.B. kann man den Maximalbestand auf 1 setzen und
                erreicht damit, dass - egal wie lange der Zeitraum
                zwischen den Besuchen war - immer nur maximal ein Stueck
                dieses speziellen Gegenstands vorhanden ist.


@ENDNODE AFT_Spezialladen


@NODE AFT_Ep_erhalten

EP erhalten  (AFT_EP_ERHALTEN)
        Ist der eingegebene Merker beim Betreten des Feldes schon gesetzt?
        Falls ja  : Es passiert nichts
        Falls nein: Falls gewuenscht wird ein Text ausgegeben
                    Der Merker wird gesetzt und an die Gruppe werden
                    die eingegebenen Erfahrungspunkte verteilt

@ENDNODE AFT_Ep_erhalten


@NODE AFT_Gegenstand_erhalten_V2

Gegenstand erhalten  (AFT_GET_ITEM_V2)

        Bei Betreten des Aktionsfeldes wird die festgelegte Merkervariable
        abgefragt.

        Ablauf:
          1) Ist die Merkervariable ungesetzt?

             2A) JA

             Ist (eine Probe auf Sechster Sinn noetig und ist sie erfolgreich)
             oder (es ist keine Probe noetig), dann
                Die Gruppe erhaelt den Gegenstand und ggf. wird ein Text
                ausgegeben, Erfahrungspunkte an die Gruppe verteilt und
                eine neue Grafik angezeigt.
                Die Merkervariable wird gesetzt.

             andernfalls:
                Nichts passiert...

             2B) NEIN
                Nichts passiert...


@ENDNODE AFT_Gegenstand_erhalten_V2


@NODE AFT_Sesam_V2

Sesam  (AFT_SESAM_V2)
        Dieses Aktionsfeld beeinflusst ein Feld der aktuellen Karte,
        dessen Koordinaten man eingibt.

        Bei Betreten des Aktionsfeldes wird die festgelegte Merkervariable
        abgefragt.

        Ablauf:
          1) Ist die Merkervariable ungesetzt?

             2A) JA

             Ist (eine Probe auf Sechster Sinn noetig und ist sie erfolgreich)
             oder (es ist keine Probe noetig), dann
                Es wird die entsprechende Grafik gesetzt und ggf. ein
                Text ausgegeben.
             andernfalls:
                Nichts passiert...

             2B) NEIN

             Ist (eine Probe auf Sechster Sinn noetig und ist sie erfolgreich)
             oder (es ist keine Probe noetig), dann
                Es wird die entsprechende Grafik gesetzt und ggf. ein
                Text ausgegeben.
             andernfalls:
                Nichts passiert...


        HINWEIS:
        Hiermit kann man den "Sesam oeffne dich" erzeugen.

        Seien die * Waende und hat man folgende Karte:

                *******
                *
                *
                *

        Dann setzt man die Aktionsfelder so:

                **2****
               3#1
                *
                *

        1 = AFT_SESAM
                das mit # markierte Feld ist betroffen und wird je
                nach Zustand des Merkers x in eine Wand oder eine
                Wiese verwandelt.
        2 = AFT_GESPRAECH_V2
                Sagt man in diesem Gespraech "Sesam", dann wird
                der Merker x gesetzt

        3 = AFT_UNSET
                Dieses Aktionsfeld loescht den Merker x - somit wird
                beim Verlassen der Hoehle beim Ueberqueren des
                Aktionsfeldes 1 die Wand wieder geschlossen.

@ENDNODE AFT_Sesam_V2


@NODE AFT_Schluessel

### Schluessel (AFT_SCHLUESSEL) ###
        Dat1 Merkernummer
        Dat2 Gegenstandsnummer
        Dat3 Text, falls Gegenstand nicht dabei (-1 = Kein Text)
        Dat4 Text, falls Gegenstand dabei (-1 = Kein Text)
        Dat5 Schaltermodus:  0 = Einmalig
                             1 = Dauernd

        Bei Betreten des Feldes:
          Ist (Merker Dat1 ungesetzt und ist Dat5 == 0) ODER (ist Dat5 == 1)
          dann:
                Hat die Gruppe den Gegenstand Dat2 bei sich,
                dann:
                        Text Dat4 ausgeben
                        Merker Dat1 setzen
                andernfalls:
                        Text Dat3 ausgeben
                        Merker Dat1 loeschen
          andernfalls:
                nichts tun


        Hiermit kann man folgendes realisieren: Mit diesem Aktionsfeld
        fragt man ab, ob die Gruppe einen gewissen Schluesselgegenstand
        bei sich hat und aktiviert damit einen Merker.
        Mit diesem Merker wird ein dann GOTO_MIT_MERKER gesteuert

@ENDNODE AFT_Schluessel


@NODE AFT_Zeitmerker_setzen

### Zeitmerker setzen (AFT_ZEITMERKER_SETZEN) ###
        Dat1    Zeitmerker
        Dat2    Schaltmodus     0 = Immer, 1 = Nur einmal
        Dat3    Textnr

        Beim Betreten des Feldes:

        Ist Dat2 = 0 oder (Dat2 = 1 und ist Zeitmerker Dat1 noch nicht gesetzt)
        dann:
                Zeitmerker Dat1 auf die aktuelle Zeit setzen
                Falls Dat3 ungleich -1 ist:
                        Den Text Dat3 ausgeben


        Bemerkung: Mit einem Zeitmerker kann man sich die aktuelle Spielzeit
                   merken und spaeter die Differenz zwischen der
                   dann aktuellen Zeit und der gemerkten Zeit abfragen

@ENDNODE AFT_Zeitmerker_setzen





@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
@REM
@REM                   N P Cs
@REM
@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

@NODE NPCs


Charaktersteuerdatei
--------------------

Die Charaktersteuerdatei steht im Verzeichnis SILVER:Abenteuername/Interne_Daten/Chrk
und hat den Dateinamen "Charakter_<nr>.txt"

Die Charaktersteuerdatei ist eine Textdatei
Mit dieser Datei werden die Daten von Nichtspielercharakteren
festgelegt.

Vor der Benutzung der Charaktere muss man mit dem Menupunkt
"Daten konvertieren" diese Dateien in ein kompakteres Format ueberfuehren.


Es gibt folgende Anweisungen:

Bemerkung:
   - Die Reihenfolge der Anweisungen in der Charakterdatei ist beliebig
   - Die CHRKFILE-Anweisung sollte in der ersten Zeile der Datei stehen

@{"CHRKFILE" LINK NPC_Kennung}

@{"& (Kommentar)" LINK NPC_Kommentar}

@{"Rassenanweisungen" LINK NPC_Rasse}
  @{"UNTOT" LINK NPC_Rasse}
  @{"RASSE" LINK NPC_Rasse}

@{"Talentanweisungen" LINK NPC_Talente}

@{"Attributsanweisungen" LINK NPC_Attribute}
   @{"CHARISMA" LINK NPC_Attribute}
   @{"WILLENSKRAFT" LINK NPC_Attribute}
   @{"INTUITION" LINK NPC_Attribute}
   @{"KLUGHEIT" LINK NPC_Attribute}
   @{"STAERKE" LINK NPC_Attribute}
   @{"KONSTITUTION" LINK NPC_Attribute}
   @{"GEWANDHEIT" LINK NPC_Attribute}

@{"Ausruestungsanweisungen" LINK NPC_Ausruestung}
   @{"WAFFE" LINK NPC_Ausruestung}
   @{"HELM" LINK NPC_Ausruestung}
   @{"RUESTUNG" LINK NPC_Ausruestung}
   @{"STIEFEL" LINK NPC_Ausruestung}
   @{"HANDSCHUHE" LINK NPC_Ausruestung}
   @{"GESCHOSSE" LINK NPC_Ausruestung}
   @{"FERN" LINK NPC_Ausruestung}
   @{"GEGENSTAND" LINK NPC_Ausruestung}

@{"Kampfanweisungen" LINK NPC_Kampf}
   @{"EP" LINK NPC_Kampf}
   @{"VP" LINK NPC_Kampf}
   @{"EP_BASIS" LINK NPC_Kampf}
   @{"VP_BASIS" LINK NPC_Kampf}
   @{"AKTIONSMOD" LINK NPC_Kampf}
   @{"FLUCHTRATE" LINK NPC_Kampf}
   @{"GRAFIK" LINK NPC_Kampf}
   @{"KAMPFVERHALTEN" LINK NPC_Kampf}
   @{"FREUNDVERHALTEN" LINK NPC_Kampf}

@{"Wissensanweisungen" LINK NPC_Wissen}
   @{"REZEPT" LINK NPC_Wissen}
   @{"ZAUBER" LINK NPC_Wissen}

@{"Sonstige Anweisungen" LINK NPC_Sonstige}
   @{"NAME" LINK NPC_Sonstige}
   @{"ALTER" LINK NPC_Sonstige}
   @{"BEGRENZT" LINK NPC_Sonstige}
   @{"RESTKAEMPFE" LINK NPC_Sonstige}
   @{"GELD" LINK NPC_Sonstige}
   @{"ERFAHRUNG" LINK NPC_Sonstige}


@{"Veraltete Anweisungen" LINK NPC_Obsolet}
   @{"AKTIONSPUNKTE" LINK NPC_Obsolet}


@ENDNODE NPCs


@NODE NPC_Kennung

In der ersten Zeile einer Charakterdatei sollte die Dateikennung

   CHRKFILE

stehen. Noch ist dies zwar nicht zwingend notwendig, aber falls es einmal
einen externen Charaktereditor gibt, muss dieser ja erkennen koennen, was er
einliest.
@ENDNODE NPC_Kennung


@NODE NPC_Sonstige
Zulaessige Anweisungen:

   NAME=<string>   Legt den Namen des Charakters fest (max. 19 Zeichen)
                    Bei mehr als 19 Zeichen wird automatisch gekuerzt
                    Bsp: NAME=Merlin

   ALTER=<wert>    Alter des Charakters in Jahren

                   Bsp:   ALTER=25

                   Das Alter eines Charakters hat (noch) keine Auswirkungen.


   BEGRENZT=<wert> gibt an, dass dieser Charakter nur eine begrenzte Zeit
                   bei der Gruppe bleibt. <wert> ist eine Zahl, die
                   angibt, wie viele Stunden er bei der Gruppe bleibt.

                   ==> Charaktervariablen werden gesetzt:
                        Begrenzt = TRUE
                        Restzeit = <wert> Stunden

   RESTKAEMPFE=<wert>
                   Hiermit bestimmt man, an wie vielen Kaempfen der NPC
                   auf Seiten der Gruppe noch teilnimmt, bis er sie
                   verlaesst. Bei diesem Zaehler ist es egal, ob die
                   Gruppe einen Kampf gewinnt oder verliert!
                   (Ein Wert von -1 bedeutet: Keine Beschraenkung)

                   Bemerkung: Diese Anweisung kann man auch mit der
                        BEGRENZT-Anweisung kombinieren, z.B.:
                          Der NPC bleibt hoechstens fuer 10 Stunden
                          bei der Gruppe, wird sie aber auch schon nach
                          3 Kaempfen verlassen:

                                BEGRENZT=10
                                RESTKAEMPFE=3

   GELD=<wert>     Legt die Geldmenge des Charakters fest. <wert> darf
                   dabei eine positive Zahl sein

                   Bsp: GELD=100

   ERFAHRUNG=<wert> Legt die Erfahrungspunkte des Charakters fest.
                   <wert> darf dabei eine positive Zahl sein

                    Bsp: ERFAHRUNG=100

@ENDNODE NPC_Sonstige




@NODE NPC_Wissen
   REZEPT=<nr>
                   Gibt dem NPC das Wissen ueber den Trank mit
                   der entsprechenden Nummer
                     0 = Heiltrank

                   siehe auch: Rezepte.txt

                   Bsp: REZEPT=0
                        Dies gibt dem Charakter das Rezept 0 (Heiltrank)


                   Eine Liste der Rezepte:
                      0) Heiltrank
                      1) Zauberkarte
                      2) Waffengift A
                      3) Waffengift B
                      4) Waffengift C
                      5) Antidot A
                      6) Antidot B
                      7) Antidot C
                      8) Pfeilgift A
                      9) Pfeilgift B
                      10) Pfeilgift C

                Bemerkung: Anfangs sind dem Spielercharakter keine Rezepte
                           bekannt.



   ZAUBER=<nr>
                   Gibt dem NPC das Wissen ueber den Zauber mit
                   der entsprechenden Nummer


                   Bsp: ZAUBER=0


@ENDNODE NPC_Wissen



@NODE NPC_Kommentar

Ein & am Anfang (!) einer Zeile markiert eine Kommentarzeile.

@ENDNODE NPC_Kommentar




@NODE NPC_obsolet

Veraltete Anweisungen, die nicht mehr verwendet werden koennen:

   AKTIONSPUNKTE
                Diese Anweisung wurde durch die AKTIONSMOD-Anweisung
                ersetzt und diente frueher dazu, die Aktionspunkte im
                Kampf festzulegen.

                Als Faustregel kann man

                  AKTIONSMOD = AKTIONSPUNKTE-5

                setzen

@ENDNODE NPC_obsolet



@NODE NPC_Kampf

   VP=<wert>       Legt die aktuellen Verletzungspunkte des Charakters fest.
                   <wert> darf dabei eine positive Zahl sein
                   Bsp: VP=5


   EP=<wert>       Legt die aktuellen Erschoepfungspunkte des Charakters fest.
                   <wert> darf dabei eine positive Zahl sein
                    Bsp: EP=5

   VP_BASIS=<wert>
                   Hiermit legt man die Basisanzahl der maximalen
                   Verletzungspunkte des Charakters fest.
                   Standardwert ist 40.

                   Diese Anweisung kann man dazu verwenden, um zu dosieren,
                   wie viel die "Gegner" einstecken koennen.


   EP_BASIS=<wert>
                   Hiermit legt man die Basisanzahl der maximalen
                   Erschoepfungspunkte des Charakters fest.
                   Standardwert ist 60.


   AKTIONSMOD=<wert>
                Diese Anweisung ersetzt die AKTIONSPUNKTE-Anweisung.

                <wert> gibt an, wie viel Aktionspunkte der Charakter
                zusaetzlich zu den durch seine Rasse festgelegten
                Aktionspunkten erhaelt.

                Die Aktionspunkte im Kampf errechnen sich wie folgt:

                Aktionspunkte = Aktionspunkte durch die Rasse
                                + Aktionspunkte durch Zauber
                                + <wert>

                Standardeinstellung fuer <wert> ist 0.

                   VORSICHT: Man sollte sich genau ueberlegen was man tut,
                             bevor man diesen Wert manipuliert.


   FLUCHTRATE=<wert>
                      Legt die Fluchtrate des Charakters fest. <wert> darf
                      dabei eine positive Zahl sein
                      Bsp: FLUCHTRATE=100

                      Die Fluchtrate gibt an, wie stark verletzt der NPC
                      sein darf, bevor er zu fliehen versucht
                         Wenn (VP*100)/maximale VP >= Fluchtrate, dann
                         flieht der NPC

                        Fluchtrate = 100: Der NPC flieht nie
                        Fluchtrate =   0: Der NPC flieht sofort


   GRAFIK=<wert>   Legt die Kampfgrafik des Charakters fest. <wert> darf
                    dabei eine positive Zahl sein
                    Bsp: GRAFIK=100


   KAMPFVERHALTEN=<wert>  Legt das Kampfverhalten des
                   Charakters fest.
                   @{"<wert> ist numerisch" LINK Kampfverhalten}
                   Bsp: KAMPFVERHALTEN=0

   FREUNDVERHALTEN=<wert>  Legt das Verhalten des Charakters zu seinen
                   Mitstreitern im Kampf fest
                   @{"<wert> ist numerisch" LINK Freundverhalten}
                   Bsp: FREUNDVERHALTEN=0

@ENDNODE NPC_Kampf



@NODE NPC_Rasse

   UNTOT           gibt an, dass dieser Charakter untot ist - d.h. er
                   erleidet im Fern- und Nahkampf nur halben Schaden
                   und ist gegen Gift immun

   RASSE=<rasse>   Diese Anweisungen legen die Rasse fest

      Erlaubte Werte fuer <rasse> sind:
      SONSTIGE
      MENSCH
      TROLL
      ELF
      GOBLIN
      KOBOLD
      ORK
      ZWERG
      HALBORK
      HALBELF
      HOBBIT

        Bsp:   RASSE=ELF

@ENDNODE NPC_Rasse


@NODE NPC_Talente

   TALENT:<wert>=<name>
                   Das Talent <name> des Charakters erhaelt den
                   Wert <wert>
                   <wert> ist hierbei ein numerischer Wert von 0 bis 95
                   <name> ist eine Zeichenkette mit einem gueltigen
                   Talentnamen.
                   Moegliche Fehlerquellen:
                     - <name> ist kein zulaessiger Talentname

                   Bsp: TALENT:40=Schleichen

                   Folgende Talentnamen sind zulaessig:

                       0) Waffenlos, Angriff
                       1) Waffenlos, Abwehr
                       2) Schwert, Angriff
                       3) Schwert, Abwehr
                       4) Axt, Angriff
                       5) Axt, Abwehr
                       6) Stichwaffe, Angriff
                       7) Stichwaffe, Abwehr
                       8) Hiebwaffe, Angriff
                       9) Hiebwaffe, Abwehr
                      10) Sonstige, Angriff
                      11) Sonstige, Abwehr
                      12) Fernkampf
                      13) Bewegen in Rüstung
                      14) Schleichen
                      15) Selbstbeherrschung
                      16) Menschenkenntnis
                      17) Alchimie
                      18) Heilkunde
                      19) Fallen entschärfen
                      20) Taschendiebstahl
                      21) Sechster Sinn
                      22) Zauberei
                      23) Feuermagie
                      24) Wassermagie
                      25) Erdmagie
                      26) Luftmagie
                      27) Körpermagie
                      28) Magieenergie
                      29) Geistmagie
                      30) Creatio
                      31) Destructico
                      32) Controlatio
                      33) Modificio
                      34) Sensio
                      35) Meditation
                      36) Feilschen


@ENDNODE NPC_Talente


@NODE NPC_Attribute

Attribute
---------

   CHARISMA=<wert> Legt den Attributwert "Charisma" des
                    Charakters fest.
                    <wert> darf im Bereich -10 bis 10 liegen
                    Bsp: CHARISMA=-5

   WILLENSKRAFT=<wert> Legt den Attributwert "Willenskraft" des
                   Charakters fest.
                   <wert> darf im Bereich -10 bis 10 liegen
                   Bsp: WILLENSKRAFT=-5

   INTUITION=<wert> Legt den Attributwert "Intuition" des
                   Charakters fest.
                   <wert> darf im Bereich -10 bis 10 liegen
                   Bsp: INTUITION=-5

   KLUGHEIT=<wert> Legt den Attributwert "Klugheit" des
                   Charakters fest.
                   <wert> darf im Bereich -10 bis 10 liegen
                   Bsp: KLUGHEIT=-5

   STAERKE=<wert>  Legt den Attributwert "Staerke" des
                   Charakters fest.
                   <wert> darf im Bereich -10 bis 10 liegen
                   Bsp: STAERKE=-5

   KONSTITUTION=<wert>  Legt den Attributwert "Konstitution" des
                   Charakters fest.
                   <wert> darf im Bereich -10 bis 10 liegen
                   Bsp: KONSTITUTION=-5

   GEWANDHEIT=<wert>  Legt den Attributwert "Gewandheit" des
                   Charakters fest.
                   <wert> darf im Bereich -10 bis 10 liegen
                   Bsp: GEWANDHEIT=-5

@ENDNODE NPC_Attribute



@NODE NPC_Ausruestung


Ausruestung
-----------

Bemerkung: Da die Gueltigkeit der Eingaben nicht abgefragt wird, kann man
einem Monster eine "harte" Haut zukommen lassen, d.h. mit
        RUESTUNG=Ogerhaut
erhaelt das Wesen/die Kreatur den Gegenstand Ogerhaut als Ruestung, der
an allen Koerperteilen RS 1 hat.
Der Gegenstand Ogerhaut kann aber durch einen regulaeren Spielcharakter
nicht ausgeruestet werden, d.h. nach gewonnenem Kampf findet man die
Haut, aber sie nutzt nichts...
Siehe dazu auch: @{"Monstergegenstaende" LINK Monstergegenstaende}


   WAFFE=<name>    Gibt dem Charakter den Gegenstand <name> als
                   ausgeruestete Waffe
                   <name> ist hierbei eine Zeichenkette mit einem
                   gueltigen Gegenstandsnamen.
                   Moegliche Fehlerquellen:
                     - <name> ist kein zulaessiger Gegenstandsname
                   Hinweis:
                     Es wird nicht ueberprueft, ob der Gegenstand <name>
                     ueberhaupt als Waffe zulaessig ist!
                   Bsp: WAFFE=Messer

   HELM=<name>     Gibt dem Charakter den Gegenstand <name> als
                   ausgeruesteten Helm
                   <name> ist hierbei eine Zeichenkette mit einem
                   gueltigen Gegenstandsnamen.
                   Moegliche Fehlerquellen:
                     - <name> ist kein zulaessiger Gegenstandsname
                   Hinweis:
                     Es wird nicht ueberprueft, ob der Gegenstand <name>
                     ueberhaupt als Helm zulaessig ist!
                   Bsp: HELM=Lederhelm

   RUESTUNG=<name> Gibt dem Charakter den Gegenstand <name> als
                   ausgeruestete Ruestung
                   <name> ist hierbei eine Zeichenkette mit einem
                   gueltigen Gegenstandsnamen.
                   Moegliche Fehlerquellen:
                     - <name> ist kein zulaessiger Gegenstandsname
                   Hinweis:
                     Es wird nicht ueberprueft, ob der Gegenstand <name>
                     ueberhaupt als Ruestung zulaessig ist!
                   Bsp: RUESTUNG=Lederrüstung


   STIEFEL=<name>  Gibt dem Charakter den Gegenstand <name> als
                   ausgeruestete Stiefel
                   <name> ist hierbei eine Zeichenkette mit einem
                   gueltigen Gegenstandsnamen.
                   Moegliche Fehlerquellen:
                     - <name> ist kein zulaessiger Gegenstandsname
                   Hinweis:
                     Es wird nicht ueberprueft, ob der Gegenstand <name>
                     ueberhaupt als Stiefel zulaessig ist!
                   Bsp: STIEFEL=Leichte Stiefel

   HANDSCHUHE=<name> Gibt dem Charakter den Gegenstand <name> als
                   ausgeruestete Handschuhe
                   <name> ist hierbei eine Zeichenkette mit einem
                   gueltigen Gegenstandsnamen.
                   Moegliche Fehlerquellen:
                     - <name> ist kein zulaessiger Gegenstandsname
                   Hinweis:
                     Es wird nicht ueberprueft, ob der Gegenstand <name>
                     ueberhaupt als Handschuhe zulaessig ist!
                   Bsp: HANDSCHUHE=Lederhandschuhe

   GESCHOSSE=<name> Gibt dem Charakter den Gegenstand <name> als
                   ausgeruestete Geschosse
                   <name> ist hierbei eine Zeichenkette mit einem
                   gueltigen Gegenstandsnamen.
                   Moegliche Fehlerquellen:
                     - <name> ist kein zulaessiger Gegenstandsname
                   Hinweis:
                     Es wird nicht ueberprueft, ob der Gegenstand <name>
                     ueberhaupt als Geschoss zulaessig ist!
                   Bsp: GESCHOSS=Pfeil

   FERN=<name>     Gibt dem Charakter den Gegenstand <name> als
                   ausgeruestete Fernkampfwaffe
                   <name> ist hierbei eine Zeichenkette mit einem
                   gueltigen Gegenstandsnamen.
                   Moegliche Fehlerquellen:
                     - <name> ist kein zulaessiger Gegenstandsname
                   Hinweis:
                     Es wird nicht ueberprueft, ob der Gegenstand <name>
                     ueberhaupt als Fernkampfwaffe zulaessig ist!
                   Bsp: FERN=Kurzbogen



   GEGENSTAND=<name>  Gibt dem Charakter den Gegenstand <name>
                   <name> ist hierbei eine Zeichenkette mit einem
                   gueltigen Gegenstandsnamen.

                   Moegliche Fehlerquellen:
                     - <name> ist kein zulaessiger Gegenstandsname
                     - Alle Gepaeckplaetze des Charakters sind
                       belegt (ein Charakter kann maximal 20 Gegenstaende
                       im Gepaeck haben)

                   Allerdings lassen sich Gegenstaende, etwa Zauberfetische,
                   stapeln, d.h. man kann dann effektiv mehr Gegenstaende
                   tragen.

                   Um einem Charakter z.B. 3 Rationen zu geben, muss man

                        GEGENSTAND=Ration
                        GEGENSTAND=Ration
                        GEGENSTAND=Ration



@ENDNODE NPC_Ausruestung



@NODE Kampfverhalten

Kampfverhalten
--------------

BEMERKUNG: Nichtspielercharaktere zaubern bisher nur, wenn sie den
           noetigen Fetisch besitzen!


Dieses Verhalten legt fest, welchen seiner Feinde der NPC als Ziel
seiner Angriffe (Nahkampf, Zauber, ...) auswaehlt.

 Verhaltensnr.| Wirkung
 -------------+------------------------------------------
   0          | "einfallslos und dumm"
              | Das erste, gueltige Ziel wird gewaehlt
              |
   1          | "pseudo-intelligent"
              | Das am naheliegendste Ziel wird gewaehlt
              |
   2          | "Zuerst auf den Gefaehrlichsten"
              | Das Ziel mit der hoechsten Bewertung wird gewaehlt
              |
   3          | "Zuerst auf den Schwaechsten"
              | Das Ziel mit der niedersten Bewertung wird gewaehlt
              |
   4          | "pseudo-intelligent mit Selbsterhaltung"
              | wie 1, aber ist ein Ziel in Nahkampfreichweite, dann wird
              | dieses (da es die direktere Bedrohung ist) bevorzugt.
              |
   5          | "Zuerst auf den Gefaehrlichsten mit Selbsterhaltung"
              | wie 2, aber ist ein Ziel in Nahkampfreichweite, dann wird
              | dieses (da es die direktere Bedrohung ist) bevorzugt.
              |
   6          | "Zuerst auf den Schwaechsten mit Selbsterhaltung"
              | wie 3, aber ist ein Ziel in Nahkampfreichweite, dann wird
              | dieses (da es die direktere Bedrohung ist) bevorzugt.
              |


@ENDNODE Feindverhalten



@NODE Freundverhalten


Freundverhalten
---------------

Dieses Verhalten legt fest, welchen der auf seiner Seite kaempfenden
Charaktere er als Ziel von Zaubern auswaehlt.


 Verhaltensnr.| Wirkung
 -------------+------------------------------------------
   0          | "einfallslos und dumm"
              | Das erste, gueltige Ziel wird gewaehlt
              |
   1          | "pseudo-intelligent"
              | Das am naheliegendste Ziel wird gewaehlt
              |
   2          | "Hilf dem Staerksten"
              | Das Ziel mit der hoechsten Bewertung wird gewaehlt
              |
   3          | "Hilf dem Schwaechsten"
              | Das Ziel mit der niedersten Bewertung wird gewaehlt


@ENDNODE Freundverhalten



@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
@REM
@REM                   N P C E D I T O R
@REM
@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


@NODE NPC_Editor


*** Noch nicht fertig ***

Prinzip
=======

  Es gibt zwei Charakterdateien:
    Charakter_???.txt
        Dies ist eine Textdatei, die die Anweisungen zur Erzeugung
        der eigentlichen Charakterdatei enthaelt

    Charakter_???.dat
        Dies ist die vom Programm verwendete Charakterdatei.
        Sie wird aus der .txt-Datei erzeugt.

 Der Grund fuer diesen Aufwand ist einfach:
 Die Datenstruktur der Charaktere kann sich noch aendern - in solch
 einem Fall werden die .dat-Dateien unlesbar. Sie koennen aber aus
 den .txt-Dateien (die unabhaengig von der Datenstruktur sind) wieder
 erzeugt werden.



Der Charaktereditor ist noch in Arbeit - man kann noch nicht alles
einstellen.

Alle Charakterdaten werden gelesen und auch gespeichert - d.h. man kann
bestehende Charaktere im Editor schon bearbeiten. Die Daten, die noch
nicht bearbeitbar sind, werden eingelesen und auch wieder korrekt gespeichert.


ACHTUNG: Kommentarzeilen gehen bei der Bearbeitung im Editor verloren!


@ENDNODE NPC_Editor


@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
@REM
@REM                   B E G R I F F E
@REM
@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

@NODE Begriffe

Begriffe:

  @{"Merker" LINK Merker}
  @{"Zeitmerker" LINK Zeitmerker}

@ENDNODE Begriffe



@NODE Merker

Ein Merker ist eine Variable, die zwei Zustaende annehmen kann:
        "Gesetzt" oder "Ungesetzt"

Mit den entsprechenden @{"Gespraechsanweisungen" LINK Gespraeche} beziehungsweise bestimmten
@{"Aktionsfeldern" LINK Aktionsfelder} kann man diese Variablen beeinflussen oder
abfragen.

Alle Merker sind bei Spielbeginn ungesetzt.

Zur Zeit sind die Merkernummern 0 bis 9999 zulaessig. (Stand: 19.6.1997)

@ENDNODE Merker


@NODE Zeitmerker

Ein Zeitmerker ist eine Variable, die zwei Zustaende annehmen kann:
        "Ungesetzt" oder eine Zeitangabe


Mit den entsprechenden @{"Gespraechsanweisungen" LINK Gespraeche} beziehungsweise bestimmten
@{"Aktionsfeldern" LINK Aktionsfelder} kann man diese Variablen beeinflussen oder
abfragen.

Zum Beispiel kann man zu einem bestimmen Zeitpunkt die aktuelle Spielzeit in einem
Zeitmerker speichern und spaeter darauf zurueckkommen. Z.B. koennte man dann abfragen,
ob zwischen der in dem Zeitmerker gespeicherten Zeit und der aktuellen Spielzeit
mehr als zwei Tage vergangen sind.

Bemerkung: "Spielzeit" ist die Zeit, die in der Spielwelt vergeht - diese hat keinerlei
           Bezug zur Realzeit (d.h. der Zeit, die in er "normalen" Welt vergeht)

Alle Zeitmerker sind bei Spielbeginn ungesetzt.

Zur Zeit sind die Zeitmerkernummern 0 bis 99 zulaessig. (Stand: 19.6.1997)

@ENDNODE Zeitmerker


@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
@REM
@REM                   P R O B L E M E
@REM
@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

@NODE Bekannte_Probleme

1) Hat der Cyclebereich nur einen Laenge von 2 Elementen, d.h. er umfasst
   insgesamt nur zwei Elemente, dann gibt es Probleme mit der
   Zufallsfunktion: Es werden dann regelmaessige Muster erzeugt.

   LOESUNG: Laengere Cyclebereiche waehlen (oder mir eine gute Zufallsroutine
            in C zukommen lassen)

@ENDNODE Bekannte_Probleme


@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
@REM
@REM                   T U T O R I A L
@REM
@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

@NODE Tutorial


Erstellen eines neuen Abenteuers
================================

1) Mit Menupunkt "Abenteuername eingeben" den Namen des neuen
   Abenteuers eingeben.
   Der erste Aufruf dieses Menupunktes legt alle erforderlichen
   Unterverzeichnisse an.

2) Menupunkt "Karte editieren" anwaehlen

   Im Editor:
   2.1) Mit der Taste "N" eine neue Karte erstellen und deren Breite
        und Hoehe eingeben und mit der Taste "#" eine Kartennummer
        vergeben.

   2.2) Die Karte zeichnen

   2.3) Im Explorer-Modus ggf. Bereiche markieren, die dem Spieler
        sofort sichtbar sind.

   2.4) Im Bereichsmodus ggf. Bereichsnamen vergeben.

   2.5) Mit der Taste "W" die Kartendaten festlegen

   2.6) An die Position der Karte an der das Spiel beginnen soll gehen
        und die Taste "/" druecken, um die Startposition festzulegen.


   Beim Erstellen weiterer Karten kann man 2.6 in der Regel uebergehen.


3) Die Charakterdateien, die Gespraechsdateien und die Textdatei anlegen
   und mittels "Daten konvertieren" dem Programm verfuegbar machen.

WICHTIG
=======

1) Um die Texte/Nichtspielercharaktere/Gespraechen verfuegbar zu machen
   oder um Aenderungen an Texten/Nichtspielercharakteren/Gespraechen
   aktiv werden zu lassen muss man den Menupunkt "Daten konvertieren"
   aufrufen. Dadurch werden die als Textdatei vorliegenden Charaktere,
   Gespraeche und Texte in ein kompakteres (und schneller lesbares)
   Format umgewandelt.

2) Eine wichtige Hilfe ist sicher der Menupunkt "Daten pruefen":
   Hiermit werden die Karten auf Fehler ueberprueft.
   Auch die Gespraechsdateien werden geprueft.

3) Der Menupunkt "Abenteuer auswaehlen" bzw. "Verfuegbare Abenteuer" sucht
   nach der Datei mit den Anfangsdaten des Abenteuers (diese Datei wird
   durch die Taste "/" im Editor angelegt).
   Daher kann das Abenteuer erst nach Festlegen der Anfangsdaten
   angezeigt werden.

4) Beim Start eines neuen Abenteuers stehen die Charaktere OHNE Geld
   und Ausruestung da - man muss ihnen also ein gewisses Startkapital
   zukommen lassen - es sei denn, sie sollen z.B. im Gefaengnis beginnen.
   Dies waere in der Tat ein Szenario, in dem man ohne Ausruestung startet.





Weitergeben von Abenteuern
--------------------------

Zur Weitergabe von Abenteuern reicht es, das Verzeichnis
        Silver:<Abenteuername>/Daten
weiterzugeben.

Die Dateien im Verzeichnis
        Silver:<Abenteuername>/Interne_Daten
sind fuer den internen Gebrauch (und zur Erzeugung der Dateien im
Verzeichnis /Daten)



@ENDNODE Tutorial



@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
@REM
@REM                   D A T E I F O R M A T E
@REM
@REM !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

@NODE Dateiformate

Dateiformate:

  @{"OSCAR-Support-Dateien" LINK OSCAR_Support}:
     Dies sind die Dateien, die vom Editor bei Verwendung des
     Menupunktes "Datenausgabe" in das Silver-Verzeichnis
     geschrieben werden.

@ENDNODE Dateiformate



@NODE OSCAR_Support


  Diese externen Dateien werden von OSCAR (dem
  Offiziellen Silver-Charakter-Editor) in Zukunft verwendet werden,
  um seine internen Daten immer auf dem neuesten Stand halten
  zu koennen.


  Diese Dateien werden im Editor mit dem Menupunkt "Datenausgabe nach T:"
  erzeugt.


  Ausgegeben werden:
       - Die Namen des Gegenstaende (Datei: OSCAR_Gegenstaende)
               Kennung: SGEG
       - Die Namen der Zauber (Datei: OSCAR_Zauber)
               Kennung: SZAU
       - Die Namen der Rezepte (Datei: OSCAR_Rezepte)
               Kennung: SREZ
       - Die Namen der Talente (Datei: OSCAR_Talente)
               Kennung: STAL

  Die Ausgabedateien haben folgendes Format
   Header:
       4 Byte          Kennung
       2 Byte          Versionsnummer (zur Zeit 2)
       2 Byte          Anzahl der Texteintraege


   Daten:
       Hier kommen die Texteintraege in folgender Form (in Form
       eines BCPL-Strings)
         1 Byte        Laenge des Strings
         n Byte        Der Textstring (OHNE Nullbyte am Ende des Textes!)

       Der Sinn dieses Speicherformats ist, dass hierdurch die Strings in
       platzsparender Weise gespeichert werden



  Liste der Versionsnumern:

       1       Ausgangsversion
               FEHLER: - fehlerhafte Speicherung der Stringlaenge (war immer 0)
                       - bei den Talenten waren die rechtsseitigen Leerzeichen
                         nicht entfernt worden
                       - bei den Rezepten wurden die Leereintraege gespeichert

       2       Wie 1, aber Fehler behoben
       3       Wie 2, aber ein Fehler bei der Anzahl der Rezepteintraege
               behoben


@ENDNODE OSCAR_Support



