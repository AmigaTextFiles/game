@database "RMMud"
@author "Richard Munn"
@index INDEX

@node MAIN "RMMud Guide"

  RMMud Public Beta
  Version 0 (Build 21)

  This guide file is in the process of being built, and so may not contain much
useful information yet!

 @{" - Introduction                     " link INTRO}

 @{" * Features                         " link FEATURES}
 @{" * System requirements              " link REQ}
 @{" * Installation                     " link INSTALL}

 @{" * Running RMMud for the first time " link FIRST}
 @{" - The Startup Wizard               " link WIZARD}

 @{" * The main GUI                     " link GUI}
 @{" * Using the command line           " link CLI}

 @{" * The Character Editor             " link CHARED}
 @{" * Creating new characters          " link NEWCHAR}
 @{" * Creating server profiles         " link NEWSERV}
 @{" * Triggers                         " link TRIGGERS}

 @{" * Known Bugs                       " link BUGS}
 @{" * Program History                  " link HISTORY}
 @{" * Future                           " link TODO}

 @{" * The Author                       " link AUTH}

 @{" * Thanks and Greetings             " link GREETS}

 * = changed since last public release
 - = section not written yet

@endnode

@node FEATURES "[incomplete] features list"

  * System Friendly
  * Runs on it's own public screen at a custotomizable resolution
  * Supports ANSI display (8 colour)
  * Uses standard console windows for display (@{"KingCon compatible" link GUIN})
  * Uses a system of profiles for storing servers and characters
  * Allows autologin to save having to type your username and password
  * Has a customizable trigger system allowing sounds to be played at key moments
    and important messages to be echoed to the message window
  * Command history
  * Multiple copies can be run symultaneously
  * Much more...

@endnode

@node REQ "System requirements"

  * An Amiga with enough memory (Minimum required unsure as of yet)
  * A TCP/IP Internet Stack (Miami, AmiTCP, Genesis...) [note1]
  * AmigaOS V37+ [note2]
  * tabs.gadget in SYS:Classes/Gadgets/ [note3]
  * asyncio.library in LIBS: [note3]
  * iffparse.library in LIBS: [note4]

  * OpenUrl will be used if present to allow opening of web pages

note1: RMMud has tested with:
       - Miami 3 demo
       - bsdsocket emulation under WinUAE

note2: Has only been tested on V40
note3: This is included and will be installed automatically - see @{" Installation " link INSTALL}
note4: This is a standard part of AmigaOS

@endnode

@node INSTALL "Installation"
@smartwrap
  Simply double-click on the 'InstallRMMud' icon and follow the instructions
@endnode

@node FIRST "Running RMMud for the first time"
@smartwrap
  The first time you start RMMud you will be presented by a welcome message followed by
a screenmode requester.  It is reccomended that you choose a mode that is at least 640
pixels wide as most MUDs assume the screen is capable of displaying 80 characters on a
line.


  After the mode requester you will be presented by the @{" Startup Wizard " link WIZARD}.
@endnode

@node WIZARD "The Startup Wizard"
@smartwrap
@endnode

@node GUI "The Main GUI - Auto Page"
 Click on a gadget for a description

 +-+----------------------------+-+-+
 | | RMMud Connection Window    | | |
 +-+----------------------------+-+-+
 |__@{" Auto " link GUI}__@{"Manual" link GUI2}__@{" Misc " link GUI3}________|
 |                                  |
 | @{"Char >" link GUIA} @{"character.server" link GUIB} @{"Wizard" link GUIC} |
 |                                  |
 | @{" Quit " link GUID}    @{" Save " link GUIE}   @{" » Connect " link GUIF} |
 +--------------------------------+-+
 |                                | |
 +--------------------------------+-+

 This is the Automatic Connection page - if you have created a character using @{"CharEd" link CHARED}
then you can use this page to automatically connect and login.
@endnode

@node GUI2 "The Main GUI - Manual Page"
 Click on a gadget for a description

 +-+----------------------------+-+-+
 | | RMMud Connection Window    | | |
 +-+----------------------------+-+-+
 |__@{" Auto " link GUI}__@{"Manual" link GUI2}__@{" Misc " link GUI3}________|
 |                                  |
 | @{"Serv >" link GUIG} @{"  server address  " link GUIH} @{"port" link GUII} |
 |                                  |
 | @{" Quit " link GUID}              @{" » Connect " link GUIF} |
 +--------------------------------+-+
 |                                | |
 +--------------------------------+-+

 This is the Manual Connection page - this allows you to manually connect to a
server without automatically logging in (mainly used when @{"creating new characters" link NEWCHAR}
or connecting to a server which RMMud cannot autologin to)
@endnode

@node GUI3 "The Main GUI - Misc Page"
 Click on a gadget for a description

 +-+----------------------------+-+-+
 | | RMMud Connection Window    | | |
 +-+----------------------------+-+-+
 |__@{" Auto " link GUI}__@{"Manual" link GUI2}__@{" Misc " link GUI3}________|
 |                                  |
 | @{"Restart RMMud" link GUIJ}   @{"Public Shanghai" link GUIK} |
 | @{" Open Notes " link GUIL}  @{" Change GFX mode " link GUIM} |
 | @{"    Change console settings    " link GUIN} |
 +--------------------------------+-+
 |                                | |
 +--------------------------------+-+

 This page contains miscellaneous options.
@endnode

@node GUIA "'Char >' button"
@smartwrap
  This button will bring up a requester containing all available character profiles (character
profiles are created using the @{"CharEd" link CHARED} program.)
@endnode

@node GUIB "'character.server' string gadget"
@smartwrap
  This displays the current profile selected (choose one using the @{"Char >" link GUIA} button)
@endnode

@node GUIC "'Wizard' button"
@smartwrap
  This button brings up the @{" Character Wizard " link WIZARD}.
@endnode

@node GUID "'Quit/Exit' button"
@smartwrap
  This button will quit RMMud if not connected.

  If you are connected to a server then the button will read "Exit" and will close the GUI when
pressed.
@endnode

@node GUIE "'Save' button"
@smartwrap
  This button will save the current program settings.
@endnode

@node GUIF "'Quit/Exit' button"
@smartwrap
  This connect to a server if not connected.

  If you are connected to a server then the button will read "Disconnect" and will
disconnect from the server when pressed.
@endnode

@node GUIG "'Serv >' button"
@smartwrap
  This button will bring up a requester containing all available server profiles (see
@{" Creating server profiles " link NEWSERV} for more details.}
@endnode

@node GUIH "'server address' string gadget"
@smartwrap
  You can type the address of a server to connect to here ( this is automatically filled when
you select a server using the @{"Serv >" link GUIG} button
@endnode

@node GUII "'port' string gadget"
@smartwrap
  You can type the port of the server to connect to here ( this is automatically filled when
you select a server using the @{"Serv >" link GUIG} button
@endnode

@node GUIJ "'Restart RMMud' button"
@smartwrap
  This makes RMMud restart (i.e. quit and reload)
@endnode

@node GUIK "'Public Shanghai' button"
@smartwrap
  When you click on this button it makes RMMud's screen the default public screen, meaning that
any program to open a window that supports opening on pubscreens will automatically appear on
the RMMud screen.


  Click on the "Finished" button when you have opened all the windows you want.
@endnode

@node GUIL "'Open Notes' button"
@smartwrap
  This opens up the notepad ( @{"RMMud:notes.txt" link notes.txt/main} )
@endnode

@node GUIM "'Change GFX mode' button"
@smartwrap
  This allows you to select a screenmode for RMMud to run at.
@endnode

@node GUIN "'Change console settings' button"
@smartwrap
  Use this to select an alternative console handler for the input and output windows (if you use
KingCon, you can enter KCON: for input and KRAW: for output)

  RMMud has to be restarted for these settings to take effect.
@endnode

@node CLI "The command line"
@smartwrap
  Once you are online, (see the section about the @{"GUI" link GUI}) the command line is the main
interface between you and the game.


  The command line (also known as the input window) is the bottom window on screen, which, when online
will display a prompt (' :> ') to show that it is ready to input.

  Any text you type here will be sent straight to the server, with a few exceptions:


SLASH COMMANDS:


  Slash commands are inputs starting with the forward slash character ("/")  These tell RMMud to
perform special operations:


  /D = Disconnect from the server, and return to the GUI

  /N = Open the notepad (brings up a text editor window to allow you to save vital information)

  /G = Open the GUI, but stay connected


Slash commands are not case sensitive, but must be alone on the line




HINTS FOR USING THE COMMAND LINE:


You can separate multiple commands on a single line by typing the "¶" character between commands (¶ is
Alt-P on a GB keymap)


e.g.:

remove all¶flee <enter>


would remove all items of clothing (and weapons) and flee from the current room.  This is handy in
muds where you would lose your weapon if you fled normally.  In this form the two commands stay
together on the input history buffer.


You can also type multiple commands separated by control-enter which will put the commands as separate
entries in the history, but will execute all commands in one go when you press enter finally


e.g.:

cast stun guard <control-enter>

kill guard <control-enter>

cast crush guard <enter>


  This would stun the guard, and leave the kill and crush commands as the last two items in the
command history.

  You can now simply continue to press the up arrow twice followed by enter to alternate between
attacking with magic and attacking with your weapon.

  This method is safer than simply typing the three commands individually as the attack will not
begin until the final enter (the one withot control) is pressed, thus giving you time to type
carefully ;-)

@endnode

@node CHARED "The Character Editor"
@smartwrap

  The character editor (The CharEd icon) allows you to create character profiles to allow RMMud to
automatically connect to a mud server and login as one of your characters.


  This section assumes that you already have an existing character on a Mud, and wish to use RMMud to
play as that character.  If you wish to create a new character then see the @{"creating a new character" link NEWCHAR} 
section.


  The interface is simple - on the top line is a button marked "Server >" click on this button and a
file requester will appear listing all the available server profiles.  (If there isn't one for the
particular server that you wish to use then see the @{"creating server profiles" link NEWSERV} section.)


  Once selected, the server's name will appear in the window.


  Below the server line are two string gadgets into which you can enter the character's name and
password, exactly as you would type it when logging into the mud (the password will be displayed as a
series of '*' characters)


  Once this is done you can click on the Save button to store the profile ready for RMMud to use.


  N.B. The character passwords are stored in an encrypted form within the character file to prevent
anyone sneakily finding out your password ;)

@endnode

@node NEWCHAR "Creating a new character"
@smartwrap
  To create a new character, click on the "Manual" tab in the connection window.

  Next click on the server button, and select the server on which you wish to create a new character

  You can now click on connect.  This will allow you to manually login, and so create a new character
(you should see the web pages of the specific mud for details for how to create a new character.)

  Once the character is created, disconnect (/d).  You can then enter the character name and password
into @{"CharEd" link CHARED} to allow auto login for this character.
@endnode

@node NEWSERV "Creating server profiles"
@smartwrap
  to create a new server profile, create a text file in the servers directory using the following
template:


--- snip here ---

Name of the Mud

mud.server.address

port

web address

--- snip here ---


i.e. the text file should have the mud's name on the first line, it's address on the second line, the
port number to connect to on the third line, and the game's web page address on the 4th line, if available
(no more lines should be added, as extra lines may in future be used for server specific configuration
information.)


The filename should be a shortened form of the name of the particular mud.


If you edit a server profile (if for example a mud changes to a new server) all
characters that use that profile will automatically use the new address when
you use them


A large list of muds can be found in the @{"mudlist.txt" link mudlist.txt/Main}


(NB: The web address field is currently ignored by RMMud, but is there for future expandabilty
@endnode

@node TRIGGERS "Triggers"
@smartwrap
  Sorry, I haven't got round to writing this properly, but here's a quick overview of the file
format:


The top line of the file is the file comment.  This line will be displayed when the trigger file
is parsed, so you can put a credit to yourself here - along with the mud the file is designed to work
with.


The second line is the number of triggers in the file (note that there is currently no validation
that this number is correct.  If you set it too low then the triggers at the end of the list will
get ignored, too high and it will probably make RMMud crash (!)


after that you can define the individual triggers as follows

-- 1) Comment line

2) Start match

3) End match

4) Contains match

5) Sound to play

6) Echo to msg window

7) Blank line (this will be used for command triggers eventually)

--


What the lines mean:


1) This is a comment line - it is ignored by the parser, so put anything you like here
(I start my comments with "--" to help break up the triggers in the file


2) Start match:  This should contain the start of the text that RMMud should look out for


3) End match: This should contain the end of the text


4) Contains match: The block must contain the text here to be accepted


NB: if line 3 is left blank then RMMud will perform the trigger if it finds an occurrence of the Start
match text,  if line 4 is left blank then it will perform the trigger if text beginning with start and
ending with end is found.


5) Play a sound when this trigger is performed (no path should be included, just the name - sounds
should be put in the RMMud:Data/Sounds directory, and there are already example sounds included).
Leave this line empty if you don't want a sound to play


6) Echo to msg line - put either 0 or -1 here (0 means don't echo, -1 means echo the entire string
matched to the message window)


7) command line - currently command triggers are unsupported, so leave this line blank


NB: you can represent an enter character in the match strings by typing ¶ (control-p on a UK keymap)


There is an example trigger file for the Lands of Stone (the Mud I prefer) in
@{"Data/Triggers/LandsOfStone" link Data/Triggers/LandsOfStone/main}


If you login to LOS then this trigger file will be used automatically.

@endnode

@node BUGS "Known Bugs"

  * Sometimes crashes if you quit from the GUI whilst still connected to a Mud
    (disconnecting first then quitting bypasses this)

  * Colours on screen aren't properly locked, so visitor programs might mess up
    the ANSI colours

  * You can only type text in the INPUT window, text typed in the other windows
    is ignored (I cannot think of a sollution to this)

  * Some control characters get displayed (such as ÿ and ù)

  * Triggers get detected in the order they appear in the trigger file, rather
    than the order in which the events that caused them happen

  * RMMud can only autologin to a server if the first two lines of user input
    expected are the username followed by the password (A proper autologin
    detector will be created soon...}

@endnode

@node HISTORY

 - = Internal beta version
 + = Public beta version
 * = Offical release version

 - V0 (Build 21) - "Stupid bugfix" version
   - Due to one too many optimisations, saving options didn't work in b20! - this is fixed now
   - Hopefully there shouldn't be problems with the input window task failing to work now
     (thanks to Marz for his patience with this one...)

 + V0 (Build 20) - Second Public Release
   - Added more functionality into CharEd (like a server info window which, thanks to OpenUrl
     can open the mud's web page)
   - Optimised string handling function calls
   - RMMud will now intelligently pick a pubscreen name when it is launched, which allows
     you to launch multiple copies of the program.

 + V0 (Build 19) - First Public Release
   - CharEd didn't have it's executable bit set, so the startup wizard couldn't run it!
   - Screenmode requester now opens correctly during the startup wizard (It was trying to open
     on the RMMud pubscreen before the screen was opened!!)
   - Fixed some silly errors in the Trigger parser
   - Improved the startup wizard
   - You can now start the wizard from the main window
   - Added option to change the console devices used for input / output windows
   - Directory structure shuffle - all the main program files are held in the Data directory.
   - Added Installer Script

 - V0 (Build 18)
   - Redrew Icon graphics (based upon icons from Lyle Zapato's Archæologicons)
   - Included mudlist.txt (from www.mudconnect.com)
   - Assorted code fixes

 - V0 (Build 17)
   - Socket code appears to be stable..
   - Trigger definitions are now stored in a separate (per server) text file
     (in RMMud:Triggers/) (see @{"Triggers" link TRIGGERS})

 - V0 (Build 16)
   - Now uses bsdsocket.library for it's server io functions so works more friendly
     (work in progress, lots of hangs and crashes atm...)

 - V0 (Build 15)
   - Rewrote the string finder code (which handles stuff like grabbing text for
     the message window, and deciding when to play trigger sounds.

 - V0 (Build 14)
   - Now waits for all visitor windows to close before closing the screen.

 - V0 (Build 13 and earlier)
   - uses TCP: to connect to the server rather than bsdsocket calls
   - sends continual enters to check for sent text and so creates unneccessary
     excess bandwidth, and causes problems with creating new characters, sending
     mudmail and anything else that has the server waiting for the user to hit
     enter, but otherwise works (I leveled my Mage on Stone from lv9 to lv10 using
     pre b13 versions of RMMud)

@endnode

@node TODO "Future development"

  The following is a list of features that may get added as RMMud develops

  * Improved GUI
  * Arexx support
  * Allow triggers to perform commands / scripts
  * Graphical editor for triggers
  * Bigger database of muds - automatic parsing of the mudlist.txt file
  * Some kind of autodownload mechanism to get the latest mudlist.txt
  * Make autologin more intelligent

@endnode

@node AUTH "The Author"

  RMMud is the product of RAMTronics Software
    - http://come.to/ramtronics

  Main programming by Richard Munn
    - richard.munn@bigfoot.com (or benjymous on the Lands of Stone)

  TCP/IP code derived from code by Chris Young


@endnode

@node GREETS "Thanks and Greetings"

Thanks must go to the following people:

 * Shihan and Hara for creating the Lands of Stone Mud

 * Chris Young for his assistance with socket programming

 The betatester crew: (if you use a public demo, contact me and tell me how it works,
 and I'll include you here!)

 Mark "Marz" V. Fusco

@endnode

@node INDEX "Index"
  Index not written yet

  @{" Go to the Contents page " link MAIN}
@endnode
