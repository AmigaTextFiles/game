2012-05-11  Oohara Yuuma  <oohara@libra.interq.or.jp>

	* jkiss32.c, jkiss32.h: new files, implemented rand() and srand()
	  with JKISS32 RNG by David Jones
	* config.h, INSTALL: Added the configuration macro
	  USE_BUILT_IN_RAND .  Undefine it if rand() and srand()
	  in the standard C library should be used.
	* main.c: the --help option shows whether USE_BUILT_IN_RAND is
	  defined or not
	* loop-input.c, loop-draw.c: when you examine surroundings,
	  pressing the [.] key or the [5] key moves the cursor
	  to the current position of the player character
	* world.c, world.h, dungeon.c, monster.c: use the same memory
	  for pathfinding instead of allocating and freeing a memory
	  whenever pathfinding is done
	* build.c: cat appears on floor 8 or deeper instead of grid bug
	* build.c: full-strength mage with particle cannon is level 6
	  (so that its attack can't be reflected with blackjack)
	* build.c: the level of betraying mascot is 0
	  (so that its attack can't be reflected with blackjack)
	* build.c: The weapon of the dragons are not banana peel.
	  The weapon of Baby Dragon is not giant spiked club.
	* weapon-detail.c, weapon-effect.c: toned down gold crown:
	  removed additional bonus
	* weapon-detail.c, weapon-effect.c: improved wood stake:
	  its level drain is 6, not 2 (it should be as dangerous as
	  an instant death)
	* creature-detail.c, creature-effect.c: improved wisp:
	  it dodges an attack even if opponent strength is equal to
	  its max hit point
	* creature-detail.c, creature-effect.c: toned down shmupper:
	  it dodges an attack only if opponent attack points are greater
	  than its defense points
	* weapon-detail.c, weapon-effect.c: tweaked oilskin cloak:
	  an attack to you can't be critical if opponent attack points
	  are less than your defense points by 3 or more, dodge check is
	  "greater by 3 or more"
	* weapon-detail.c, weapon-effect.c: improved katana: additional
	  bonus check is "10 or greater"
	* creature-detail.c, creature-effect.c: improved berserker:
	  additional bonus is 3
	* creature-detail.c: improved imp: its strength is 6
	* creature-detail.c, creature-effect.c: improved warlord:
	  it dodges an attack if the opponent hit points are not full
	* creature-detail.c, creature-effect.c: toned down vampire:
	  when its attack hits, add only 1 to its hit points instead of
	  healing it to the maximum
	* world.c: call nonl() at initialization and nl() at exit
	* world.c: call clear() and refresh() at initialization
	* util.c: str_to_int() accepts INT_MIN and INT_MAX
	* world.c: call cbreak() before noecho()
	* world.h: removed unused GLOBAL_DSCN_NO_MORE_SEARCH
	* INSTALL: fixed typos
	* README: fixed typos
	* creature-detail.c: fixed a typo
	* weapon-detail.c: fixed a typo

2012-04-10  Oohara Yuuma  <oohara@libra.interq.or.jp>

	* action.c: the player character can attack monsters while
	  climbing a stair
	* Makefile, INSTALL: Added the Makefile variable USE_GCC_MMD.
	  Set it to "no" if you use a C compiler other than gcc
	  (make CC=tcc USE_GCC_MMD=no).
	* weapon-detail.c, weapon-effect.c: toned down poison needle:
	  its critical check is "5 or greater"
	* weapon-detail.c, weapon-effect.c: toned down broken hourglass:
	  the opponent level is added to your defense and attack only if
	  the opponent level is greater than your level
	* weapon-detail.c, weapon-effect.c: improved gold crown:
	  your get an additional +2 bonus if the opponent level is
	  less than your level
	* creature-detail.c, creature-effect.c: improved chariot:
	  its attack is 10, it gets -4 attack penalty if the opponent
	  hit point is not full
	* weapon-detail.c: modified the description of repulsion field
	  to make it clear that repulsion field can't reflect
	  the attack of ogre with rapier or the attack of tyrant
	  with banana peel
	* build.c: full-strength mage with particle cannon and betraying
	  mascot is always level 7
	* loop-action.c, loop-action.h: new files, separated turn order
	  handling from loop.c
	* loop-input.c, loop-input.h: new files, separated input handling
	  from loop.c
	* loop-draw.c, loop-draw.h: new files, separated drawing
	  from loop.c
	* dungeon-add-remove.c, dungeon-add-remove.h: new files, separated
	  add/remove functions from dungeon.c
	* loop-draw.c, world.c, world.h: The automatic cursor move targets
	  a monster in sight first.  If 2 or more monsters are in sight,
	  it targets the closest monster first.
	* weapon-detail.c, weapon-effect.c: improved magic candle:
	  its extra bonus is +3
	* loop-input.c: don't accept the [w] key in the "view player"
	  screen if the player character is doing a post-move attack
	* loop-draw.c: don't suggest the [w] key in the "view player"
	  screen if the player character is doing a post-move attack
	* action.c: if a thrown weapon hits a monster, the monster
	  notices that the player is near (the monster doesn't find
	  the player if the player is out of the sight of the monster)
	* dungeon.h, world.c, world.h: moved the definition of
	  PLAYER_SIGHT_RANGE from dungeon.h to world.h
	* dungeon.c, world.h: added the constant PLAYER_SEARCH_RANGE
	* loop-draw.c, world.h: added the constant DRAW_SURROUNDINGS_RANGE
	* monster.c: monster_alert_here() uses monster_set_attitude()
	* loop-input.c: renamed cursor_next_target()
	  to cursor_manual_target()
	* README: explain what "you" in ability description means
	* README: the default location of the save file is not always
	  the current directory
	* README: fixed typo
	* util-corridor.c: fixed typo in comment
	* THANKS: say that the Key of Avalon was pay-per-play (this is
	  why the word "Japanese" is used; it was meant to be operated
	  in Japan)

2012-03-23  Oohara Yuuma  <oohara@libra.interq.or.jp>

	* world.c, world.h, save.c, loop.c, main.c: Added the option
	  --cheat-color-by-threat .  This breaks save file compatibility.
	* loop.c: the cursor automatically moves to a near monster
	* save.c: Save and load the creature id of dragons.  Now you can
	  win the game which is loaded from a save file.
	* monster.c: fixed a wrong condition in monster_has_path()
	  (coordinate x/y mismatch)
	* corridor.c: fixed wrong loop of flood fill in
	  corridor_builder_connect_1
	* action.c: fixed memory leak in action_exec()
	* save.c: fixed memory leak in load_game()
	* dungeon.c: fixed wrong condition check in credit_kill()
	* creature-detail.c: changed the symbol of nurupo from 'p' to 'n'
	  because its origin is NullPointerException in Java, not
	  a null _pointer_
	* weapon-detail.c, weapon-effect.c: modified bikini armor
	  so that it can be torn easily but it will protect you
	  from lethal damage
	* creature-detail.c, creature-effect.c: toned down berserker:
	  its max hit point is 9, its bonus is +2
	* creature-detail.c, creature-effect.c: modified samurai:
	  the critical attack compares your strength and opponent
	  hit point (this works well with katana), its strength is 8,
	  acid blob dodges its attack
	* weapon-detail.c: improved wood stake: its attack is +4,
	  it reduces opponent hit point as well as opponent level,
	  added a note about its level drain
	* creature-detail.c, creature-effect.c: toned down chariot:
	  its strength is 9, its attack is accurate only if opponent
	  hit point is full
	* creature-detail.c: improved vampire: its hit point is added to
	  its defense and attack, it has a low strength and very low
	  max hit point
	* weapon-detail.c: improved gold crown: its defense is +3,
	  its attack is +3
	* weapon-detail.c, weapon-effect.c: toned down iron sword:
	  the bonus is +1
	* weapon-detail.c, weapon-effect.c: improved shovel: it gives
	  +6 bonus to your defense and attack if the opponent is
	  between you and a wall
	* build.c, weapon-detail.c, weapon-detail.h, weapon-efect.c:
	  renamed ring of protection to ring of rage: its defense is +6,
	  it adds your lost hit point to your attack
	* creature-detail.c, creature-effect.c: improved mage: its
	  attack is accurate and critical if the magic number appears
	* weapon-detail.c, weapon-effect.c: improved wand of sun/moon:
	  their attack is accurate and critical if the magic number
	  appears
	* weapon-detail.c, weapon-effect.c: improved oilskin cloak:
	  the dodge check is "2 or greater"
	* build.c, weapon-detail.c, weapon-detail.h, weapon-detail.c:
	  Removed bullet vortex because it is too cheap.  This breaks
	  save file compatibility.
	* weapon-detail.c: toned down poison needle: its defense is +1
	* weapon-detail.c: toned down particle cannon: its defense is +1
	* combat.c, combat.h, weapon-detail.c, weapon-effect.c:
	  the defense/attack exchange of sword of mixing and cosmic
	  contract is applied after other modification of defense and
	  attack is applied
	* build.c: slightly increased the level of monsters
	  on floor 7 or deeper
	* loop.c: show the symbol of the player character in the bold font
	  in the full screen map
	* loop.c: "view player" screen doesn't show the [w] key
	  reminder if the player wins the game
	* save.c: write the terminate marker at the end of the save file
	  only once
	* README: modified premise so that it will not suggest
	  a false victory condition; killing a dragon empty-handed
	  is a valid victory
	* creature-detail.c: added a note to the description of
	  language lawyer
	* creature-detail.c: use the word "ability" instead of "description"
	  in the description of language lawyer
	* weapon-detail.c: added a comment about oilskin cloak
	* loop.c: removed padding from the depth of the floor
	  in the full screen map
	* README: added more explanation, fixed typos
	
2012-03-17  Oohara Yuuma  <oohara@libra.interq.or.jp>

	* the 7DRL version
	* initial release
