# "Rollercoaster2000" makefile for MorphOS

CC			= gcc
CHMOD		= chmod
RM			= rm
STRIP		= strip

CFLAGS	= -O2 -Wall -noixemul
LDFLAGS	= -laboxstubs -labox -lGL -lGLU

OBJ		=	roller.o point.o poteau.o glbmp.o main.o parser.o
BIN		=	Rollercoaster2000

all: $(BIN)

$(BIN):	$(OBJ)
		$(CC) $(CFLAGS) $(OBJ) -o $(BIN).db $(LDFLAGS)
		$(STRIP) --strip-unneeded --remove-section=.comment $(BIN).db -o $(BIN)
		$(CHMOD) u+x $(BIN)

%.o:	%.c
		$(CC) $(CFLAGS) -c $<

clean:
		$(RM) -f $(OBJ) $(BIN).db $(BIN)
