;FOURMAZE
;ERSTELLT VON ACHIM HÄRTEL
;GRAFIK VON T. STEINER
;additional hiscore programming by Ingo Tamme


	INCDIR	ASM-ONE:INCLUDE2.0/

	INCLUDE	LIBRARIES/DOS.I
	INCLUDE LIBRARIES/DOS_LIB.I
	INCLUDE	GRAPHICS/GRAPHICS_LIB.I
	INCLUDE	GRAPHICS/GFXBASE.I
	INCLUDE EXEC/EXEC_LIB.I
	INCLUDE EXEC/EXECBASE.I
	INCLUDE	EXEC/NODES.I
	INCLUDE	EXEC/MEMORY.I
	INCLUDE INTUITION/INTUITION_LIB.I
	INCLUDE	OWN/CCRMAKRO

	INCDIR	ASM-ONE:

FINAL = 1		;BEI ENDVERSION = 1
BLTST = 0		;BEIM DEBUGGEN = 1
LINES = $18		;MAXIMUM:$28, SONST LABYRLINE ERWEITERN 
			;ZEILENZAHL DES SPIELFELDS
COLS = $28		;MAXIMUM:$3F SPALTENZAHL DES SPIELFELDS

BASELINE = $20
MINVERTPL = $25+BASELINE
MINHORPL = $80
MINVERTPOS = 2*$5	;MINIMALE VERTIKALE POSITION EINES BOBS
MAXVERTPOS = 2*$A5	;MAXIMALE VERTIKALE POSITION EINES BOBS
MINHORPOS = 2*$5	;MINIMALE HORIZONTALE POSITION EINES BOBS
MAXHORPOS = 2*$125	;MAXIMALE HORIZONTALE POSITION EINES BOBS
NROFOBJECTS = $4+$3-1	;ANZAHL DER OBJEKTE MINUS 1
SCRWIDTH = $50		;ANZAHL BYTES PER BPL UND ZEILE
LETTERWIDTH = $B
LOGONUMWIDTH = $F

;ALL PICTUREDATA ARE RAW BLIT FORMAT (MEANS: LINE1BPL1, LINE1BPL2,
;	..., LINE1BPLn, LINE2BPL1 etc.)
;ZU ÄNDERN:
;		SOUNDKANÄLE LÖSCHEN
;BUGS:		SICHERSTELLEN, DASS SPRITE UND IMAGE SELBE ANIMPHASE HABEN
; Wie konnte das passieren, dass das maennlein #2 mitten im schritt zur seite
;  abbog?!?
;ALLES UNKLARE MIT ;CHANGE VERSEHEN

******************************************************************************

	SECTION	FMTITLE,CODE_C
BOPART4

	JMP	HP

	dc.b	'FourMaze1.01 (2013-02-03) by Achim Haertel, '
	dc.b	'Tilo Steiner, Ingo Tamme, Uwe Loos, Enrico Dathe',0
	even

;-----------------------------------------------------------------------
;	d0=	x-Coordinate
;	d1=	y-Coordinate	
;	d2=	Color
;	d7=	$07
;	a0=	screenanfang plane1
;	a1=	screenanfang plane2
;	a2=	screenanfang plane3

plot	macro
	lsl	#6,d1
	move.b	d0,d3		
	eor.b	d7,d3		
	lsr.w	#3,d0		
	add	d1,d0
	jmp	.4(pc,d2.w)

.4:	bset.b	d3,(a0,d0.w)	
	bclr.b	d3,(a1,d0.w)
	bra.b	.3
	nop
	bclr.b	d3,(a0,d0.w)
	bset.b	d3,(a1,d0.w)
	bra.b	.3
	nop
	bset.b	d3,(a0,d0.w)	
	bset.b	d3,(a1,d0.w)
	bra.b	.3
	nop
	bset.b	d3,(a2,d0.w)
	bclr.b	d3,(a0,d0.w)
	bra.b	.3
	nop
	bset.b	d3,(a0,d0.w)
	bset.b	d3,(a2,d0.w)
	bra.b	.3
	nop
	bset.b	d3,(a1,d0.w)
	bset.b	d3,(a2,d0.w)
	bra.b	.3
	nop
.3:	
	endm		

evalstars
	movem.l	a4/a6,-(a7)
	moveq	#7,d7
	move	#staranz-1,d6
	move.l	ofsetbl,d0
	lea	stpl1,a0
	lea	stpl2,a1
	lea	stpl3,a2
	add.l	d0,a0
	add.l	d0,a1
	add.l	d0,a2
	lea	startab,a6
	lea	coltab,a3
	move	#160,d4
	move	#100,d5
	move	#319,a4
	move	#199,a5

.10:	move.w	(a6)+,d0		
	move.w	(a6)+,d1
	subq.w	#4,(a6)
	move.w	(a6)+,d2
	beq.w	.11

	ext.l	d0
	ext.l	d1
	asl.l	#6,d0
	divs	d2,d0
	asl.l	#6,d1
 	divs	d2,d1
	
	add	d4,d0			;mittelpunkt x Coordinate
	add	d5,d1			;mittelpunkt y Coordinate

	cmp	a4,d0
	bhi.b	.11
	cmp	a5,d1
	bhi.b	.11

	move.b	(a3,d2.w),d2
	and	#$ff,d2
	plot

.12:	dbf	d6,.10
	movem.l	(a7)+,a4/a6
	rts

.11:	move	#$1ff,-2(a6)
	dbf	d6,.10
	movem.l	(a7)+,a4/a6
	rts

TITLEPIC
;	ST.B	NOYELLOW
	MOVEM.L	D1-A6,-(A7)
	BASEREG	TITLEPIC,A4
;	LEA.L	TITLEPIC(PC),A4	;doesnt work for some reason
	MOVE.L	#TITLEPIC,A4
;STAPLE COPPERLISTS
	MOVE.L	#SPEMPTY,D0
;	jsr	request
	MOVE.W	D0,TISPR0+6(A4)
	MOVE.W	D0,TISPR1+6(A4)
	MOVE.W	D0,TISPR2+6(A4)
	MOVE.W	D0,TISPR3+6(A4)
	MOVE.W	D0,TISPR4+6(A4)
	MOVE.W	D0,TISPR5+6(A4)
	MOVE.W	D0,TISPR6+6(A4)
	MOVE.W	D0,TISPR7+6(A4)
	MOVE.W	D0,CHSPR0+6(A4)
	MOVE.W	D0,CHSPR1+6(A4)
	MOVE.W	D0,CHSPR2+6(A4)
	MOVE.W	D0,CHSPR3+6(A4)
	MOVE.W	D0,CHSPR4+6(A4)
	MOVE.W	D0,CHSPR5+6(A4)
	MOVE.W	D0,CHSPR6+6(A4)
	MOVE.W	D0,CHSPR7+6(A4)
	SWAP	D0
	MOVE.W	D0,TISPR0+2(A4)
	MOVE.W	D0,TISPR1+2(A4)
	MOVE.W	D0,TISPR2+2(A4)
	MOVE.W	D0,TISPR3+2(A4)
	MOVE.W	D0,TISPR4+2(A4)
	MOVE.W	D0,TISPR5+2(A4)
	MOVE.W	D0,TISPR6+2(A4)
	MOVE.W	D0,TISPR7+2(A4)
	MOVE.W	D0,CHSPR0+2(A4)
	MOVE.W	D0,CHSPR1+2(A4)
	MOVE.W	D0,CHSPR2+2(A4)
	MOVE.W	D0,CHSPR3+2(A4)
	MOVE.W	D0,CHSPR4+2(A4)
	MOVE.W	D0,CHSPR5+2(A4)
	MOVE.W	D0,CHSPR6+2(A4)
	MOVE.W	D0,CHSPR7+2(A4)
	MOVE.L	#FTITLEPIC,D0
	MOVE.W	D0,TIPIC0+6(A4)
	SWAP	D0
	MOVE.W	D0,TIPIC0+2(A4)
	SWAP	D0
	ADD.L	#$28,D0
	MOVE.W	D0,TIPIC1+6(A4)
	SWAP	D0
	MOVE.W	D0,TIPIC1+2(A4)
	SWAP	D0
	ADD.L	#$28,D0
	MOVE.W	D0,TIPIC2+6(A4)
	SWAP	D0
	MOVE.W	D0,TIPIC2+2(A4)
	SWAP	D0
	ADD.L	#$28,D0
	MOVE.W	D0,TIPIC3+6(A4)
	SWAP	D0
	MOVE.W	D0,TIPIC3+2(A4)
	SWAP	D0
	ADD.L	#$28,D0
	MOVE.W	D0,TIPIC4+6(A4)
	SWAP	D0
	MOVE.W	D0,TIPIC4+2(A4)

	MOVE.L	#MENUPIC,D0
	MOVE.W	D0,CHPIC0+6(A4)
	SWAP	D0
	MOVE.W	D0,CHPIC0+2(A4)
	SWAP	D0
	ADD.L	#$50,D0
	MOVE.W	D0,CHPIC1+6(A4)
	SWAP	D0
	MOVE.W	D0,CHPIC1+2(A4)
	SWAP	D0
	ADD.L	#$50,D0
	MOVE.W	D0,CHPIC2+6(A4)
	SWAP	D0
	MOVE.W	D0,CHPIC2+2(A4)
	SWAP	D0
	ADD.L	#$50,D0
	MOVE.W	D0,CHPIC3+6(A4)
	SWAP	D0
	MOVE.W	D0,CHPIC3+2(A4)

	CLR.B	CHOOSEANZ	;VBI MITTEILEN, DASS TITELBILD
;STAPLE INTERRUPTS
	sf	MODLOADED
	BSR.W	SETTITLEVBI

;load mod
	JSR	SWITCHTOOS
	LEA	titlemodname,a0
	move.l	a0,d1
	LEA	MODSPACE,a0
	move.l	a0,d2
	move.l	#180000,d3
	JSR	LOADFILE
	sf	MODLOADED
	TST.L	D4
	beq.s	.mi1
	st	MODLOADED
	
.mi1	JSR	SWITCHTOGAME

	tst.b	MODLOADED
	beq.s	.mi2
	lea	MODSPACE,a0
	movem.l	d0-a6,-(a7)
	jsr	init
	movem.l	(a7)+,d0-a6
.mi2
;	sf	MODLOADED
;	bra.w	.selmenu
	MOVE.L	#TITLECL,$DFF080
	BSR.W	FADETITLEIN
;ZEIGE TITELBILD

;WARTE AUF TASTATUR-/JOYSTICKBEWEGUNG
;.1	MOVE.L	#TITELCOPPER,D0
;	BSR.S	ICONIFY
;	BTST.B	#7,$BFE001
;	BNE.S	.1
	MOVE.L	#$0F0F0F0F,INPUTSTORE(A4)
	MOVE.W	#$0F0F,INPUTSTORE+4(A4)
	BRA.S	.TIT2
;ROUTINE SOLL BEI GEDRÜCKT NICHT REAGIEREN, ERST WENN INPUT WIEDER LOSGELASSEN

.TIT1	MOVE.B	D0,INPUTSTORE(A4)
	BRA.S	.TIT2

.TIT3	MOVE.B	D0,INPUTSTORE+4(A4)
.TIT2

	jsr	random
	JSR	KBD1EROUT
	CMP.B	#$F,D0
	BNE.S	.TIT3
	CMP.B	INPUTSTORE+4(A4),D0
	BNE.S	.TIT4

	JSR	JOY1ROUT
	CMP.B	#$F,D0
	BNE.S	.TIT1
	CMP.B	INPUTSTORE(A4),D0
	BEQ.S	.TIT2

.TIT4

	BSR.W	FADETITLEOUT
;AUSWAHL VERBOTEN
.selmenu
	CLR.B	CHOOSEON(A4)
	ST.B	CHOOSEANZ	;VBI MITTEILEN, DASS WAHLBILD
	MOVE.L	#CHOOSECL,$DFF080

;SPIELERANZAHL EINTRAGEN
	MOVEQ.L	#0,D0
	MOVE.B	GAMEOBJ,D0
	ADD.B	#$32-3,D0	;charset starts with 0, so we use $31+1
	MOVE.B	#'S',PLAYERSTR+8(A4)
	MOVE.B	D0,PLAYERSTR(A4)
	CMP.B	#$32,D0		;charset starts with 0
	BNE.S	.PLAYERANZ1
	MOVE.B	#0,PLAYERSTR+8(A4)
.PLAYERANZ1
;STARTLEVEL EINTRAGEN
	MOVE.B	BEGINLEVEL,D0
	ADD.B	#$32,D0		;charset starts with 0
	MOVE.B	D0,LEVELSTR+$B(A4)

	LEA.L	GAMESTARTSTR(PC),A3
	LEA.L	CHANGESTR(PC),A2
	MOVE.B	#'>',(A2)+
.STRCPY	MOVE.B	(A3)+,D0
	MOVE.B	D0,(A2)+
	TST.B	D0
	BNE.S	.STRCPY
	MOVE.B	#'<',-1(A2)
	CLR.B	(A2)
;ANZEIGEZEILE AUF ERSTE SETZEN
	CLR.B	SELECTLINE(A4)

;PRINTE EINGESTELLTE WERTE IN AUSWAHLSCREEN
	MOVE.L	#MENUPIC+3*$50*4,A2
	LEA.L	CHANGESTR(PC),A3
	BSR.W	PRINTCHOOSELINE

	MOVE.L	#MENUPIC+(3+17+6)*$50*4,A2
	LEA.L	PLAYERSTR(PC),A3
	BSR.W	PRINTCHOOSELINE

	MOVE.L	#MENUPIC+(3+2*(17+6))*$50*4,A2
	LEA.L	LEVELSTR(PC),A3
	BSR.W	PRINTCHOOSELINE

	MOVE.L	#MENUPIC+(3+3*(17+6))*$50*4,A2
	LEA.L	SELECTSTR(PC),A3
	BSR.W	PRINTCHOOSELINE

	BSR.W	FADESELIN
;AUSWAHLZEITSPERRE
	MOVE.B	#30,NOCHOOSE(A4)

;LASSE AUSWAHL ZU
	ST.B	CHOOSEON(A4)

;AUSWAHL ÄNDERN -> VBI
;AUSWAHLÄNDERUNG PRINTEN -> VBI

;BEI ZEILE 'START GAME' RECHTS/LINKS ABFRAGEN, WENN GEDRÜCKT, STARTEN
	MOVE.B	SELECTLINE(PC),D2

.XXX
	
;	jsr	random
;	moveq	#0,d0
	TST.B	REDISPLINE(A4)
	BEQ.S	.XX2
	CLR.B	REDISPLINE(A4)

	CMP.B	#1,D2
	BNE.S	.RDL2
;SPIELERANZAHL EINTRAGEN
	MOVEQ.L	#0,D0
	MOVE.B	GAMEOBJ,D0
	ADD.B	#$32-3,D0
	MOVE.B	#'S',PLAYERSTR+8(A4)
	MOVE.B	D0,PLAYERSTR(A4)
	CMP.B	#$32,D0
	BNE.S	.RDL3
	MOVE.B	#0,PLAYERSTR+8(A4)
.RDL3	BRA.S	.XX3

.RDL2	CMP.B	#2,D2
	BNE.S	.XX3
	MOVE.B	BEGINLEVEL,D0
	ADD.B	#$32,D0
	MOVE.B	D0,LEVELSTR+$B(A4)

	BRA.S	.XX3

.XX2
	CMP.B	SELECTLINE(PC),D2
	BEQ.W	.XXXXX
	CMP.B	#3,SELECTLINE(A4)
	BHI.W	.INPUTSEL
	CMP.B	#3,D2
	BHI.W	.RESSCREEN

	MOVE.L	D2,D1
	LSL.W	#2,D1
	MOVE.L	.STRTAB(PC,D1.W),A3
	MOVE.L	#(17+6)*$50*4,D1
	MULU.W	D2,D1
	ADD.L	#MENUPIC+3*$50*4,D1
	MOVE.L	D1,A2
	BSR.W	PRINTCHOOSELINE
	CLR.B	TITVBIOCCURED(A4)

.XX3
;NEUEN STRING REINPRINTEN
	MOVE.B	SELECTLINE(PC),D0
	MOVE.L	D0,D1
	LSL.W	#2,D1
	MOVE.L	.STRTAB(PC,D1.W),A3
	MOVE.L	#(17+6)*$50*4,D1
	MULU.W	D0,D1
	ADD.L	#MENUPIC+3*$50*4,D1
	LEA.L	CHANGESTR(PC),A2
	MOVE.B	#'>',(A2)+
.STRCPY2
	MOVE.B	(A3)+,D0
	MOVE.B	D0,(A2)+
	TST.B	D0
	BNE.S	.STRCPY2
	MOVE.B	#'<',-1(A2)
	CLR.B	(A2)
	LEA.L	CHANGESTR(PC),A3
	MOVE.L	D1,A2

.WAIT1	TST.B	TITVBIOCCURED(A4)
	BEQ.S	.WAIT1
	
	BSR.W	PRINTCHOOSELINE
	MOVE.B	SELECTLINE(PC),D2
	BRA.W	.XXXXX

.STRTAB	DC.L	GAMESTARTSTR,PLAYERSTR,LEVELSTR,SELECTSTR
	DC.L	YELLOWSTR,TURQUSTR,GREENSTR,ORANGESTR

.INPUTSEL
;WENN D2=3, ALLE 4 ZEILEN LÖSCHEN UND MOVESSTR PRINTEN
	CMP.B	#3,D2
	BNE.S	.IPS2
	MOVE.L	#MENUPIC+3*$50*4,A2
	LEA.L	NULLSTR(PC),A3
	BSR.W	PRINTCHOOSELINE

	MOVE.L	#MENUPIC+(3+17+6)*$50*4,A2
	LEA.L	NULLSTR(PC),A3
	BSR.W	PRINTCHOOSELINE

	MOVE.L	#MENUPIC+(3+2*(17+6))*$50*4,A2
	LEA.L	MOVESSTR(PC),A3
	BSR.W	PRINTCHOOSELINE

	MOVE.L	#MENUPIC+(3+3*(17+6))*$50*4,A2
	LEA.L	NULLSTR(PC),A3
	BSR.W	PRINTCHOOSELINE

.IPS2	;print color line
	MOVEQ.L	#0,D1
	MOVE.B	SELECTLINE(A4),D1
	LSL.W	#2,D1
	MOVE.L	.STRTAB(PC,D1.W),A3

;	MOVE.L	#MENUPIC+(3+17+6)*$50*4,A2
	MOVE.L	#MENUPIC+$2080,A2
	BSR.W	PRINTCHOOSELINE
	MOVE.B	SELECTLINE(PC),D2
	BRA.S	.XXXXX

.RESSCREEN
	MOVE.L	#MENUPIC+3*$50*4,A2
	LEA.L	GAMESTARTSTR(PC),A3
	BSR.W	PRINTCHOOSELINE

	MOVE.L	#MENUPIC+(3+17+6)*$50*4,A2
	LEA.L	PLAYERSTR(PC),A3
	BSR.W	PRINTCHOOSELINE

	MOVE.L	#MENUPIC+(3+2*(17+6))*$50*4,A2
	LEA.L	LEVELSTR(PC),A3
	BSR.W	PRINTCHOOSELINE
	BRA.W	.XX3

.XXXXX
	CMP.B	#0,D2
	BNE.W	.XXX
	TST.B	NOCHOOSE(A4)
	BNE.W	.XXX

	JSR	KBD1EROUT
	AND.B	#$C,D0
	CMP.B	#$C,D0
	BNE.S	.ENDCHOOSE

	JSR	JOY1ROUT
	AND.B	#$C,D0
	CMP.B	#$C,D0
	BEQ.W	.XXX


.ENDCHOOSE
	MOVE.B	BEGINLEVEL,INGAMELEVEL
;SPERRE AUSWAHL
	CLR.B	CHOOSEON(A4)
	BSR.W	FADESELOUT
	tst.b	MODLOADED
	beq.s	.se1
	sf	MODLOADED
	movem.l	d0-a6,-(a7)
	jsr	ende
	movem.l	(a7)+,d0-a6
.hie5

.se1
	MOVEM.L	(A7)+,D1-A6
;	CLR.B	NOYELLOW
	RTS

GAMESTARTSTR
	DC.B	'START GAME',0
PLAYERSTR
	DC.B	'3 PLAYERS',0
LEVELSTR
	DC.B	'STARTLEVEL 6',0
SELECTSTR
	DC.B	'CHOOSE INPUT',0

MOVESSTR
	DC.B	'MOVES',0

YELLOWSTR
	DC.B	'YELLOW',0

TURQUSTR
	DC.B	'TURQUOISE',0

GREENSTR
	DC.B	'GREEN',0

ORANGESTR
	DC.B	'ORANGE',0

NULLSTR	DC.B	0

CHANGESTR
	DS.B	16
	EVEN

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

PRINTCHOOSELINE
	MOVE.L	#24,D3
	MOVE.L	#17,D4
	MOVE.L	#$50,D5
	MOVE.L	#24*15,D6
	MOVE.L	#460-8-16,D7
	LEA.L	TECHMEDFONT,A1
	BSR.S	PRINTCHOOSELINE2
	RTS

PRINTCHOOSELINE2
;< D3-FONTBREITE IN PIXELN
;< D4-FONTHOEHE IN PIXELN
;< D5-SCREENBREITE IN BYTES
;< D6-MAXPIXELZAHL DES PRINTBEREICHES PRO ZEILE (BITTE NUR GERADE WERTE)
;< D7-PIXEL-MITTENOFFSET IN DER GEWÜNSCHTEN STARTZEILE
;< A1-FONTADRESSE
;< A2-SCREENSTARTADRESSE DER GEWÜNSCHTEN ZEILE
;< A3-ZEIGER AUF TEXTZEILE, 0TERMINIERT
;= A6-POINTER AUF $DFF000
;PLANEANZAHL 4

;fuer techmedfont breite 21+3, hoehe 17, 4 planes
;fuer wahlscreen MAX. 15 ZEICHEN BREIT, start bei choosescreen+3zeilen+460pixel
;     ZEILENABSTAND 6


;FELD AB BESTIMMTEM START LOESCHEN

;ZIEL IST LÖSCHBEREICH, QUELLE C IST LÖSCHBEREICH, QUELLE A IST FFFF
;ZIELPIXEL GESETZT BEI ~A^C=abC v aBC=$A
;BEREICH WIRD BEGRENZT DURCH DIE BLTAxWM-MASKEN


				;HALBE MAXPIXELZAHL
	MOVE.L	D6,D0
	LSR.L	#1,D0

				;STARTPIXEL IN DER ZEILE BESTIMMEN
	MOVE.L	D7,D1
	SUB.L	D0,D1

				;PIXELOFFSET DES WORTES
	MOVEQ.L	#$F,D2
	AND.L	D1,D2

				;WORTZAHL DES STARTPIXELS
	LSR.L	#4,D1

				;BYTEZAHL DES STARTPIXELS
	ADD.L	D1,D1
	MOVE.L	D1,-(A7)

				;LÖSCHANFANGSADRESSE
	LEA.L	0(A2,D1.L),A0

				;AUF BLITTER WARTEN
.1	BTST	#6,2(A6)
	BNE.S	.1
	MOVE.L	A0,$54(A6)	;destination setzen
	MOVE.L	A0,$48(A6)	;SOURCE C SETZEN
	MOVEQ.L	#-1,D1
	LSR.L	D2,D1
	SWAP	D1
	MOVE.W	D1,$44(A6)	;ANFANGSBEREICHSMASKE

				;HALBE MAXPIXELZAHL
	MOVE.L	D6,D2
	LSR.L	#1,D2

				;ENDPIXEL IST MITTE+HALBES MAXIMUM
	ADD.L	D7,D2
	NEG.L	D2
	AND.L	#$F,D2	
	MOVEQ.L	#-1,D1
	LSL.L	D2,D1
	MOVE.W	D1,$46(A6)	;ENDBEREICHSMASKE

		;LÖSCHBREITE IST (ENDWORT AUS PIXELBREITE-1)+1-ANFANGSWORT
				;HALBE MAXBREITE
	MOVE.L	D6,D0
	LSR.L	#1,D0

				;ENDE IST MITTE+HALBE MAXBREITE
	ADD.L	D7,D0
	SUBQ.L	#1,D0

				;WORTNUMMER
	LSR.L	#4,D0
	ADDQ.L	#1,D0

				;BYTENUMMER
	ADD.L	D0,D0
	MOVE.L	(A7)+,D1

				;BREITE IST ENDE-START
	SUB.L	D1,D0

	MOVE.W	#$30A,$40(A6)	;QUELLE A NUR ALS DMA-WORT, C NORMAL, ZIEL D
				;MINITERM abC,aBC
	MOVE.W	#-1,$74(A6)	;DATENWORT QUELLE A IST FFFF


	;modulo destination IST SCREENBREITE-LÖSCHBREITE IN GERADEN BYTES
	MOVE.L	D5,D1
	SUB.L	D0,D1
	
	MOVE.W	D1,$60(A6)	;MODULO C
	MOVE.W	D1,$66(A6)	;MODULO D
	MOVE.W	#0,$42(A6)	;blitcon1

	MOVE.L	D4,D1		;ZEILENZAHL
	LSL.W	#2+6,D1		;4PLANES+SHIFT UM 6 WEGEN REGISTERAUFBAU
	LSR.L	#1,D0
	OR.W	D0,D1		;LOESCHBREITE IN WORTEN
	MOVE.W	D1,$58(A6)	;blitter starten

				;ENDE LÖSCHEN

;ZEICHEN DER ZEILE ZAEHLEN
	MOVEQ.L	#-1,D0
	MOVE.L	A3,A0
.COUNT1	ADDQ.L	#1,D0
	TST.B	(A0)+
	BNE.S	.COUNT1

;TEXTBREITE DER ZEILE ERRECHNEN
        MULU.W	D3,D0

;STARTPIXEL ERRECHNEN
	LSR.L	#1,D0
	MOVE.L	D7,D1
	SUB.L	D0,D1
;	MOVE.L	D1,-(A7)

.NEXTCHAR2
;ZEICHEN HOLEN
	MOVEQ.L	#0,D0
	MOVE.B	(A3)+,D0
	BEQ.W	.DONE
	CMP.B	#$30,D0
	BLO.W	.NEXTCHAR
	CMP.B	#$3A,D0
	BLO.S	.NUMBER
	CMP.B	#$3C,D0
	BEQ.S	.SMALLER
	CMP.B	#$3E,D0
	BEQ.S	.BIGGER
	CMP.B	#$41,D0
	BLO.W	.NEXTCHAR
	CMP.B	#$5B,D0
	BLO.S	.LETTER
	BRA.W	.NEXTCHAR

.NUMBER	SUB.B	#$30-($5B-$41)+1,D0
	BRA.S	.CONTCHAR

.BIGGER	SUB.B	#$3E-26-10,D0
	BRA.S	.CONTCHAR

.SMALLER
	SUB.B	#$3C-26-10-1,D0
	BRA.S	.CONTCHAR

.LETTER	SUB.B	#$41,D0

;ZEICHEN PRINTEN
.CONTCHAR
	MULU.W	D4,D0
	MULU.W	#$4*3*2,D0
	LEA.L	0(A1,D0.L),A0

;AUF BLITTER WARTEN
	BTST	#6,$2(A6)
.2	BTST	#6,$2(A6)
	BNE.S	.2

	MOVE.L	A0,$50(A6)	;QUELLE A-START
	MOVE.L	D1,D0
	LSR.W	#4,D0
	ADD.W	D0,D0
	ADD.L	A2,D0
	MOVE.L	D0,$54(A6)	;ZIEL D START
	MOVE.L	D0,$48(A6)	;QUELLE C START
	MOVE.L	#-1,$44(A6)	;A-MASKE
	MOVE.W	#0,$64(A6)	;MODULO A
	MOVE.W	D5,D0
	SUB.L	#$6,D0
	MOVE.W	D0,$66(A6)	;MODULO D
	MOVE.W	D0,$60(A6)	;MODULO C
	MOVE.L	D1,D0
	LSL.W	#$8,D0
	LSL.W	#$4,D0
	MOVE.W	#0,$042(A6)
	OR.W	#$BFA,D0	;QUELLE A, ZIEL D, MINTERM Axx
	MOVE.W	D0,$040(A6)	;fuer Shifter Quelle 1 
	MOVE.L	D4,D0
	LSL.L	#2+6,D0
	OR.L	#$6/2,D0
	MOVE.W	D0,$058(A6)	;blitter starten

.NEXTCHAR
;OFFSET ZUM NÄCHSTEN ZEICHEN DAZURECHNEN
	ADD.L	D3,D1

	BRA.W	.NEXTCHAR2

.DONE
	RTS


;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

SETTITLEVBI	;SET INTERRUPTS
	LEA	$DFF000,A6
	MOVE.W	#$7FFF,$9A(A6)
	JSR	WAITLINE0
	MOVE.W	#$7FFF,$96(A6)
	MOVE.W	#DMASET!$8220,$96(A6)	; DMA Control data
	LEA	VBITIT(PC),A0
	MOVE.L	A0,$6C.W
	LEA.L	KEYINT,A0
	MOVE.L	A0,$68.W
	LEA.L	INT6,A0
	MOVE.L	A0,$78.W
 ;ENABLE INTERRUPTS
	MOVE.W	#$7FFF,$9C(A6)
	MOVE.W	#$E028,$9A(A6)
	RTS

;??????????????????????????????????????????????????????????????????????

VBITIT	MOVEM.L	A0-A6/D0-D7,-(A7)	;SAVE REGS
	LEA.L	TITLEPIC(PC),A4
	LEA.L	$DFF000,A6
	BTST	#5,$01F(A6)
	BEQ.W	.1
	MOVE.W	#$20,$09C(A6)
	ADDQ.B	#1,VBITIMER1
	MOVE.L	#TITLECL,D7
	TST.B	CHOOSEANZ
	BEQ.W	.2
	MOVE.L	#CHOOSECL,D7
	ST.B	TITVBIOCCURED(A4)
	TST.B	CHOOSEON(A4)
	BEQ.W	.CONT
	TST.B	NOCHOOSE(A4)
	BEQ.S	.CH
	MOVE.B	NOCHOOSE(A4),D0
	SUBQ.B	#1,D0
	MOVE.B	D0,NOCHOOSE(A4)
	BRA.W	.CONT

.CH	MOVEQ.L	#0,D1
	MOVE.B	SELECTLINE(PC),D1
	CMP.B	#3,D1
	BHI.W	.INPUT

	BSR.W	KBD1EROUT
	CMP.B	#$F,D0
	BNE.S	.UP

	JSR	JOY1ROUT
	CMP.B	#$F,D0
	BEQ.W	.CONT

.UP	BTST	#0,D0
	BNE.S	.DOWN

	MOVEQ.L	#0,D0
	MOVE.B	SELECTLINE(PC),D0
	SUBQ.B	#1,D0
	AND.B	#3,D0
	MOVE.B	D0,SELECTLINE(A4)
	MOVE.B	#30,NOCHOOSE(A4)
	BRA.W	.CONT

.DOWN	BTST	#1,D0
	BNE.S	.LEFT

	MOVEQ.L	#0,D0
	MOVE.B	SELECTLINE(PC),D0
	ADDQ.B	#1,D0
	AND.B	#3,D0
	MOVE.B	D0,SELECTLINE(A4)
	MOVE.B	#30,NOCHOOSE(A4)
	BRA.W	.CONT

.LEFT	BTST	#2,D0
	BNE.W	.RIGHT

	CMP.B	#2,SELECTLINE(A4)
	BNE.S	.L2
	MOVEQ.L	#0,D0
	MOVE.B	BEGINLEVEL,D0
	SUBQ.B	#2,D0
	CMP.B	#4,D0
	BLS.S	.L3
	MOVEQ.L	#4,D0
.L3	MOVE.B	D0,BEGINLEVEL
	MOVE.B	.LIVESTAB(PC,D0.W),D0
	MOVE.B	D0,ANFLIVES
	MOVE.B	#30,NOCHOOSE(A4)
	ST.B	REDISPLINE(A4)
	BRA.W	.CONT

.L2	CMP.B	#1,SELECTLINE(A4)
	BNE.S	.L4
	MOVEQ.L	#0,D0
	MOVE.B	GAMEOBJ,D0
	SUBQ.B	#1,D0
	CMP.B	#3,D0
	BHS.S	.L5
	MOVEQ.L	#6,D0
.L5	MOVE.B	D0,GAMEOBJ	

	MOVE.B	#30,NOCHOOSE(A4)
	ST.B	REDISPLINE(A4)
	BRA.W	.CONT

.L4	CMP.B	#3,SELECTLINE(A4)
	BNE.W	.CONT

	MOVE.B	#$4,SELECTLINE(A4)
	MOVE.B	#30,NOCHOOSE(A4)
	MOVE.L	#$0F0F0F0F,INPUTSTORE(A4)
	MOVE.W	#$0F0F,INPUTSTORE+4(A4)
	JSR	JOY2ROUT
	MOVE.B	D0,INPUTSTORE+1(A4)
	MOVE.B	#$3F,ALLINPUTS(A4)

	BRA.W	.CONT

.LIVESTAB
	DC.B	5,5,4,4,3
	EVEN

.RIGHT	BTST	#3,D0
	BNE.W	.CONT

	CMP.B	#2,SELECTLINE(A4)
	BNE.S	.R2
	MOVEQ.L	#0,D0
	MOVE.B	BEGINLEVEL,D0
	ADDQ.B	#2,D0
	CMP.B	#4,D0
	BLS.S	.R3
	MOVEQ.L	#0,D0
.R3	MOVE.B	D0,BEGINLEVEL
	MOVE.B	.LIVESTAB(PC,D0.W),D0
	MOVE.B	D0,ANFLIVES
	MOVE.B	#30,NOCHOOSE(A4)
	ST.B	REDISPLINE(A4)
	BRA.W	.CONT

.R2	CMP.B	#1,SELECTLINE(A4)
	BNE.S	.R4
	MOVEQ.L	#0,D0
	MOVE.B	GAMEOBJ,D0
	ADDQ.B	#1,D0
	CMP.B	#6,D0
	BLS.S	.R5
	MOVEQ.L	#3,D0
.R5	MOVE.B	D0,GAMEOBJ	

	MOVE.B	#30,NOCHOOSE(A4)
	ST.B	REDISPLINE(A4)
	BRA.W	.CONT

.R4	CMP.B	#3,SELECTLINE(A4)
	BNE.W	.CONT
	MOVE.B	#$4,SELECTLINE(A4)
	MOVE.B	#30,NOCHOOSE(A4)
	MOVE.L	#$0F0F0F0F,INPUTSTORE(A4)
	MOVE.W	#$0F0F,INPUTSTORE+4(A4)
	JSR	JOY2ROUT
	MOVE.B	D0,INPUTSTORE+1(A4)
	MOVE.B	#$3F,ALLINPUTS(A4)
	BRA.W	.CONT

.INPUT	LEA.L	INPUTDEV2,A0
	SUBQ.B	#4,D1
	MOVE.B	ALLINPUTS(PC),D2

	BTST	#0,D2
	BEQ.S	.IJ2
	JSR	JOY1ROUT
	CMP.B	#$F,D0
	BEQ.S	.IJ2
	MOVE.B	#0,0(A0,D1.W)
	BCLR	#0,D2
	MOVE.B	D2,ALLINPUTS(A4)
	MOVE.B	#30,NOCHOOSE(A4)
	ADDQ.B	#3,D1
	CMP.B	GAMEOBJ,D1
	BLO.S	.IJ11
	MOVE.B	#3,SELECTLINE(A4)
	BRA.W	.CONT

.IJ11	ADD.B	#1,SELECTLINE(A4)
	BRA.W	.CONT

.IJ2	BTST	#1,D2
	BEQ.S	.IJ3
	JSR	JOY2ROUT
	CMP.B	#$F,D0
	BEQ.S	.IJ3
	CMP.B	INPUTSTORE+1(PC),D0
	BEQ.S	.IJ3

	MOVE.B	#1,0(A0,D1.W)
	BCLR	#1,D2
	MOVE.B	D2,ALLINPUTS(A4)
	MOVE.B	#30,NOCHOOSE(A4)
	ADDQ.B	#3,D1
	CMP.B	GAMEOBJ,D1
	BLO.S	.IJ21
	MOVE.B	#3,SELECTLINE(A4)
	BRA.W	.CONT

.IJ21	ADD.B	#1,SELECTLINE(A4)
	BRA.W	.CONT


.IJ3	BTST	#2,D2
	BEQ.S	.IJ4
	JSR	JOY3ROUT
	CMP.B	#$F,D0
	BEQ.S	.IJ4
	MOVE.B	#2,0(A0,D1.W)
	BCLR	#2,D2
	MOVE.B	D2,ALLINPUTS(A4)
	MOVE.B	#30,NOCHOOSE(A4)
	ADDQ.B	#3,D1
	CMP.B	GAMEOBJ,D1
	BLO.S	.IJ31
	MOVE.B	#3,SELECTLINE(A4)
	BRA.W	.CONT

.IJ31	ADD.B	#1,SELECTLINE(A4)
	BRA.W	.CONT

.IJ4	BTST	#3,D2
	BEQ.S	.IK1
	JSR	JOY4ROUT
	CMP.B	#$F,D0
	BEQ.S	.IK1
	MOVE.B	#3,0(A0,D1.W)
	BCLR	#3,D2
	MOVE.B	D2,ALLINPUTS(A4)
	MOVE.B	#30,NOCHOOSE(A4)
	ADDQ.B	#3,D1
	CMP.B	GAMEOBJ,D1
	BLO.S	.IJ41
	MOVE.B	#3,SELECTLINE(A4)
	BRA.W	.CONT

.IJ41	ADD.B	#1,SELECTLINE(A4)
	BRA.S	.CONT

.IK1	BTST	#4,D2
	BEQ.S	.IK2
	JSR	KBD1EROUT
	CMP.B	#$F,D0
	BEQ.S	.IK2
	MOVE.B	#4,0(A0,D1.W)
	BCLR	#4,D2
	MOVE.B	D2,ALLINPUTS(A4)
	MOVE.B	#30,NOCHOOSE(A4)
	ADDQ.B	#3,D1
	CMP.B	GAMEOBJ,D1
	BLO.S	.IK11
	MOVE.B	#3,SELECTLINE(A4)
	BRA.S	.CONT

.IK11	ADD.B	#1,SELECTLINE(A4)
	BRA.S	.CONT

.IK2	BTST	#5,D2
	BEQ.S	.CONT
	JSR	KBD2EROUT
	CMP.B	#$F,D0
	BEQ.S	.CONT
	MOVE.B	#5,0(A0,D1.W)
	BCLR	#5,D2
	MOVE.B	D2,ALLINPUTS(A4)
	MOVE.B	#30,NOCHOOSE(A4)
	ADDQ.B	#3,D1
	CMP.B	GAMEOBJ,D1
	BLO.S	.IK21
	MOVE.B	#3,SELECTLINE(A4)
	BRA.S	.CONT

.IK21	ADD.B	#1,SELECTLINE(A4)
;	BRA.S	.CONT

.CONT
.2	MOVE.L	D7,$080(A6)
;	MOVE.W	#$F00,$DFF180
	tst.b	MODLOADED
	beq.s	.nomus
	movem.l	d0-a6,-(a7)
	jsr	music
	movem.l	(a7)+,d0-a6
.nomus
.1	MOVE.W	#$50,$09C(A6)
	MOVEM.L	(A7)+,A0-A6/D0-D7	;GET REGS
	RTE

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

FADETITLEIN
	MOVEQ.L	#49,D3
	MOVEQ.L	#0,D2
	LEA.L	TITLECL,A3
;	LEA.L	CL2,A5
	LEA.L	FADETITAB(PC),A0
	LEA.L	COLTI1(PC),A1
	LEA.L	COLTI2(PC),A2
.3	MOVEQ.L	#0,D7
.1	MOVE.W	D7,D1
	ADD.W	D1,D1
	MOVE.L	0(A2,D1.W),D4
	MOVE.L	0(A1,D1.W),D5
	JSR	EVALCOLOR
	MOVEQ.L	#0,D0
	LSR.L	#4,D6
	MOVEQ.L	#$F,D1
	AND.L	D6,D1
	OR.W	D1,D0
	ROR.W	#4,D0
	LSR.L	#8,D6
	MOVEQ.L	#$F,D1
	AND.L	D6,D1
	OR.W	D1,D0
	ROR.W	#4,D0
	LSR.L	#8,D6
	MOVEQ.L	#$F,D1
	AND.L	D6,D1
	OR.W	D1,D0
	ROL.W	#8,D0
	MOVE.W	0(A0,D7.W),D1
	MOVE.W	D0,0(A3,D1.W)
;	MOVE.W	D0,0(A5,D1.W)
	ADDQ.W	#2,D7
	TST.W	(A0,D7.W)
	BNE.S	.1
	MOVE.B	VBITIMER1,D0
.2	CMP.B	VBITIMER1,D0
	BEQ.S	.2
	ADDQ.W	#1,D2
	CMP.W	D2,D3
	BHS.S	.3
	RTS

FADETITLEOUT
	MOVEQ.L	#49,D3
	MOVEQ.L	#0,D2
	LEA.L	TITLECL,A3
;	LEA.L	CL2,A5
	LEA.L	FADETITAB(PC),A0
	LEA.L	COLTI2(PC),A1
	LEA.L	COLTI1(PC),A2
.3	MOVEQ.L	#0,D7
.1	MOVE.W	D7,D1
	ADD.W	D1,D1
	MOVE.L	0(A2,D1.W),D4
	MOVE.L	0(A1,D1.W),D5
	JSR	EVALCOLOR
	MOVEQ.L	#0,D0
	LSR.L	#4,D6
	MOVEQ.L	#$F,D1
	AND.L	D6,D1
	OR.W	D1,D0
	ROR.W	#4,D0
	LSR.L	#8,D6
	MOVEQ.L	#$F,D1
	AND.L	D6,D1
	OR.W	D1,D0
	ROR.W	#4,D0
	LSR.L	#8,D6
	MOVEQ.L	#$F,D1
	AND.L	D6,D1
	OR.W	D1,D0
	ROL.W	#8,D0
	MOVE.W	0(A0,D7.W),D1
	MOVE.W	D0,0(A3,D1.W)
;	MOVE.W	D0,0(A5,D1.W)
	ADDQ.W	#2,D7
	TST.W	(A0,D7.W)
	BNE.S	.1
	MOVE.B	VBITIMER1,D0
.2	CMP.B	VBITIMER1,D0
	BEQ.S	.2
	ADDQ.W	#1,D2
	CMP.W	D2,D3
	BHS.S	.3
	RTS

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

FADESELIN
	MOVEQ.L	#49,D3
	MOVEQ.L	#0,D2
	LEA.L	CHOOSECL,A3
;	LEA.L	CL2,A5
	LEA.L	FADESELTAB(PC),A0
	LEA.L	COLSEL1(PC),A1
	LEA.L	COLSEL2(PC),A2
.3	MOVEQ.L	#0,D7
.1	MOVE.W	D7,D1
	ADD.W	D1,D1
	MOVE.L	0(A2,D1.W),D4
	MOVE.L	0(A1,D1.W),D5
	JSR	EVALCOLOR
	MOVEQ.L	#0,D0
	LSR.L	#4,D6
	MOVEQ.L	#$F,D1
	AND.L	D6,D1
	OR.W	D1,D0
	ROR.W	#4,D0
	LSR.L	#8,D6
	MOVEQ.L	#$F,D1
	AND.L	D6,D1
	OR.W	D1,D0
	ROR.W	#4,D0
	LSR.L	#8,D6
	MOVEQ.L	#$F,D1
	AND.L	D6,D1
	OR.W	D1,D0
	ROL.W	#8,D0
	MOVE.W	0(A0,D7.W),D1
	MOVE.W	D0,0(A3,D1.W)
;	MOVE.W	D0,0(A5,D1.W)
	ADDQ.W	#2,D7
	TST.W	(A0,D7.W)
	BNE.S	.1
	MOVE.B	VBITIMER1,D0
.2	CMP.B	VBITIMER1,D0
	BEQ.S	.2
	ADDQ.W	#1,D2
	CMP.W	D2,D3
	BHS.S	.3
	RTS

FADESELOUT
	MOVEQ.L	#49,D3
	MOVEQ.L	#0,D2
	LEA.L	CHOOSECL,A3
;	LEA.L	CL2,A5
	LEA.L	FADESELTAB(PC),A0
	LEA.L	COLSEL2(PC),A1
	LEA.L	COLSEL1(PC),A2
.3	MOVEQ.L	#0,D7
.1	MOVE.W	D7,D1
	ADD.W	D1,D1
	MOVE.L	0(A2,D1.W),D4
	MOVE.L	0(A1,D1.W),D5
	JSR	EVALCOLOR
	MOVEQ.L	#0,D0
	LSR.L	#4,D6
	MOVEQ.L	#$F,D1
	AND.L	D6,D1
	OR.W	D1,D0
	ROR.W	#4,D0
	LSR.L	#8,D6
	MOVEQ.L	#$F,D1
	AND.L	D6,D1
	OR.W	D1,D0
	ROR.W	#4,D0
	LSR.L	#8,D6
	MOVEQ.L	#$F,D1
	AND.L	D6,D1
	OR.W	D1,D0
	ROL.W	#8,D0
	MOVE.W	0(A0,D7.W),D1
	MOVE.W	D0,0(A3,D1.W)
;	MOVE.W	D0,0(A5,D1.W)
	ADDQ.W	#2,D7
	TST.W	(A0,D7.W)
	BNE.S	.1
	MOVE.B	VBITIMER1,D0
.2	CMP.B	VBITIMER1,D0
	BEQ.S	.2
	ADDQ.W	#1,D2
	CMP.W	D2,D3
	BHS.S	.3
	RTS

;???????????????????????????????????????????????????????????????????????????
KBD1EROUT
;numeric pad
;	2F-RIGHT
;	2D-LEFT
;	3E-DOWN
;	1E-UP
	MOVEQ.L	#0,D0
	BTST.B	#7,KEYTAB+5
	BEQ.S	.1
	ORI.B	#8,D0
.1	BTST.B	#5,KEYTAB+5
	BEQ.S	.2
	ORI.B	#4,D0
.2	BTST.B	#6,KEYTAB+3
	BEQ.S	.3
	ORI.B	#2,D0
.3	BTST.B	#6,KEYTAB+7
	BEQ.S	.4
	ORI.B	#1,D0
.4	RTS

KBD2EROUT
;KEYS:Q,A,N,M
	MOVEQ.L	#0,D0
	BTST.B	#7,KEYTAB+6
	BEQ.S	.1
	ORI.B	#8,D0
.1	BTST.B	#6,KEYTAB+6
	BEQ.S	.2
	ORI.B	#4,D0
.2	BTST.B	#0,KEYTAB+4
	BEQ.S	.3
	ORI.B	#2,D0
.3	BTST.B	#0,KEYTAB+2
	BEQ.S	.4
	ORI.B	#1,D0
.4	RTS

;---------------------------------------------------------------------------

CHOOSEANZ	DC.B	0	;1 WENN IN WAHLSCREEN
SELECTLINE	DC.B	0	;ZEILENZAHL IN WAHLSCREEN 0-3,
				;PLAYERINPUTWAHL 4-7
NOCHOOSE	DC.B	0	;VBIZAHL, WÄHREND DER DIE AUSWAHL GESPERRT IST
CHOOSEON	DC.B	0	;GENERELLE AUSWAHL ERLAUBT? 1-JA

TITVBIOCCURED	DC.B	0	;IM TITELVBI GESETZT
REDISPLINE	DC.B	0	;AKTUELLE ZEILE NOCHMALS ANZEIGEN
ALLINPUTS	DC.B	0	;FÜR INPUTWAHL

	EVEN
INPUTSTORE	DS.B	6	;JOY 1,MOUSE,JOY3,4,KBD NUMERIC, KBD LETTERS


FADETITAB
	DC.W	TICOL+2-TITLECL,TICOL+6-TITLECL
	DC.W	TICOL+$A-TITLECL,TICOL+$E-TITLECL
	DC.W	TICOL+$12-TITLECL,TICOL+$16-TITLECL
	DC.W	TICOL+$1A-TITLECL,TICOL+$1E-TITLECL
	DC.W	TICOL+$22-TITLECL,TICOL+$26-TITLECL
	DC.W	TICOL+$2A-TITLECL,TICOL+$2E-TITLECL
	DC.W	TICOL+$32-TITLECL,TICOL+$36-TITLECL
	DC.W	TICOL+$3A-TITLECL,TICOL+$3E-TITLECL
	DC.W	TICOL+$42-TITLECL,TICOL+$46-TITLECL
	DC.W	TICOL+$4A-TITLECL,TICOL+$4E-TITLECL
	DC.W	TICOL+$52-TITLECL,TICOL+$56-TITLECL
	DC.W	TICOL+$5A-TITLECL,TICOL+$5E-TITLECL
	DC.W	TICOL+$62-TITLECL,TICOL+$66-TITLECL
	DC.W	TICOL+$6A-TITLECL,TICOL+$6E-TITLECL
	DC.W	TICOL+$72-TITLECL,TICOL+$76-TITLECL
	DC.W	TICOL+$7A-TITLECL,TICOL+$7E-TITLECL,0

COLTI1	DC.L	$00000000,$00F0E000,$00E0C000,$00C0B000
	DC.L	$00A09000,$00807000,$00606000,$00504000
	DC.L	$00C00000,$00A00000,$00700000,$00500000
	DC.L	$00E0E0E0,$00B0B0B0,$00808080,$00505050
	DC.L	$00406060,$00305040,$00204020,$00102010
	DC.L	$007000A0,$00600080,$00500070,$00200030
	DC.L	$0090C0D0,$0060A0C0,$004080A0,$00306090
	DC.L	$00205070,$00103050,$00002040,$00401020

COLTI2	DC.L	00000000,00000000,00000000,00000000
	DC.L	00000000,00000000,00000000,00000000
	DC.L	00000000,00000000,00000000,00000000
	DC.L	00000000,00000000,00000000,00000000
	DC.L	00000000,00000000,00000000,00000000
	DC.L	00000000,00000000,00000000,00000000
	DC.L	00000000,00000000,00000000,00000000
	DC.L	00000000,00000000,00000000,00000000

FADESELTAB
	DC.W	CHCOL+2-CHOOSECL,CHCOL+6-CHOOSECL
	DC.W	CHCOL+$A-CHOOSECL,CHCOL+$E-CHOOSECL
	DC.W	CHCOL+$12-CHOOSECL,CHCOL+$16-CHOOSECL
	DC.W	CHCOL+$1A-CHOOSECL,CHCOL+$1E-CHOOSECL
	DC.W	CHCOL+$22-CHOOSECL,CHCOL+$26-CHOOSECL
	DC.W	CHCOL+$2A-CHOOSECL,CHCOL+$2E-CHOOSECL
	DC.W	CHCOL+$32-CHOOSECL,CHCOL+$36-CHOOSECL
	DC.W	CHCOL+$3A-CHOOSECL,CHCOL+$3E-CHOOSECL,0

COLSEL1	DC.L	$00000000,$00F0D0D0,$00D0A090,$00B07060
	DC.L	$00904040,$00703020,$00501000,$00300000
	DC.L	$00F0E030,$00D0B030,$00B09020,$00907010
	DC.L	$00705010,$00603000,$00402000,$00201000

COLSEL2	DC.L	00000000,00000000,00000000,00000000
	DC.L	00000000,00000000,00000000,00000000
	DC.L	00000000,00000000,00000000,00000000
	DC.L	00000000,00000000,00000000,00000000

TIBASELINE = $20

TITLECL
	DC.W	$1001,$FFFE		;WAIT
TISPR0	DC.W	$120,$0000,$122,$0000	;PLAYERPOINTER
TISPR1	DC.W	$124,$0000,$126,$0000
TISPR2	DC.W	$128,$0000,$12A,$0000
TISPR3	DC.W	$12C,$0000,$12E,$0000
TISPR4	DC.W	$130,$0000,$132,$0000
TISPR5	DC.W	$134,$0000,$136,$0000
TISPR6	DC.W	$138,$0000,$13A,$0000
TISPR7	DC.W	$13C,$0000,$13E,$0000

	DC.W	$08E,$1541,$090,$40C1	;DIWSTRT/STOP
;	DC.W	$08E,$1D7D,$090,$7FBD

	DC.W	$100,$0200,$102,$0000,$104,$00

	DC.W	$092,$0038,$094,$00D0	;DATAFETCHSTRT/STOP

	DC.W	$108,4*$28,$10A,4*$28	;MODULO BITPLANES

;	DC.W	

TIPIC0	DC.W	$0E0,$0002,$0E2,$F05C
TIPIC1	DC.W	$0E4,$0003,$0E6,$64B4
TIPIC2	DC.W	$0E8,$0003,$0EA,$A33C
TIPIC3	DC.W	$0EC,$0003,$0EE,$A33C
TIPIC4	DC.W	$0F0,$0003,$0F2,$A33C

TICOL	DC.W	$180,$0000,$182,$0000
	DC.W	$184,$0000,$186,$0000
	DC.W	$188,$0000,$18A,$0000
	DC.W	$18C,$0000,$18E,$0000
	DC.W	$190,$0000,$192,$0000
	DC.W	$194,$0000,$196,$0000
	DC.W	$198,$0000,$19A,$0000
	DC.W	$19C,$0000,$19E,$0000
	DC.W	$1A0,$0000,$1A2,$0000
	DC.W	$1A4,$0000,$1A6,$0000
	DC.W	$1A8,$0000,$1AA,$0000
	DC.W	$1AC,$0000,$1AE,$0000
	DC.W	$1B0,$0000,$1B2,$0000
	DC.W	$1B4,$0000,$1B6,$0000
	DC.W	$1B8,$0000,$1BA,$0000
	DC.W	$1BC,$0000,$1BE,$0000

	DC.W	TIBASELINE*$100+$00FF,$FFFE

	DC.W	$100,$5200

	DC.W	$FFDF,$FFFE

	DC.W	TIBASELINE*$100+$00FF,$FFFE

	DC.W	$100,$0200

	DC.W	$FFFF,$FFFE


CHBASELINE = $20

CHOOSECL	
	DC.W	$1001,$FFFE		;WAIT
CHSPR0	DC.W	$120,$0000,$122,$0000	;PLAYERPOINTER
CHSPR1	DC.W	$124,$0000,$126,$0000
CHSPR2	DC.W	$128,$0000,$12A,$0000
CHSPR3	DC.W	$12C,$0000,$12E,$0000
CHSPR4	DC.W	$130,$0000,$132,$0000
CHSPR5	DC.W	$134,$0000,$136,$0000
CHSPR6	DC.W	$138,$0000,$13A,$0000
CHSPR7	DC.W	$13C,$0000,$13E,$0000

	DC.W	$08E,$1541,$090,$40C1	;DIWSTRT/STOP

	DC.W	$100,$0200,$102,$0000,$104,$00

	DC.W	$092,$003C,$094,$00D4	;DATAFETCHSTRT/STOP

	DC.W	$108,3*SCRWIDTH,$10A,3*SCRWIDTH	;MODULO BITPLANES

CHPIC0	DC.W	$0E0,$0002,$0E2,$F05C
CHPIC1	DC.W	$0E4,$0003,$0E6,$64B4
CHPIC2	DC.W	$0E8,$0003,$0EA,$A33C
CHPIC3	DC.W	$0EC,$0003,$0EE,$A33C

CHCOL	DC.W	$180,$0000,$182,$0000
	DC.W	$184,$0000,$186,$0000
	DC.W	$188,$0000,$18A,$0000
	DC.W	$18C,$0000,$18E,$0000
	DC.W	$190,$0000,$192,$0000
	DC.W	$194,$0000,$196,$0000
	DC.W	$198,$0000,$19A,$0000
	DC.W	$19C,$0000,$19E,$0000

	DC.W	CHBASELINE*$100+$48FF,$FFFE

	DC.W	$100,$C200

	DC.W	CHBASELINE*$100+$BAFF,$FFFE

	DC.W	$100,$0200

	DC.W	$FFFF,$FFFE
;------------------------------------------------------------------------------
highcl:	
	dc.w	$0100,$0000,$0180,$0000,$0096,$0020
	dc.w	$008e,$3880,$0090,$10c0,$0092,$0038,$0094,$00cc
		
	dc.w	$4801,$fffe
plp1:
;	dc.w	$00e0,$0000,$00e2,$0000
;	dc.w	$00e4,$0000,$00e6,$0000
;	dc.w	$00e8,$0000,$00ea,$0000
;	dc.w	$00ec,$0000,$00ee,$0000
;	dc.w	$00f0,$0000,$00f2,$0000

	dc.w	$00e4,$0000,$00e6,$0000
	dc.w	$00ec,$0000,$00ee,$0000
	dc.w	$00f4,$0000,$00f6,$0000
	dc.w	$00e0,$0000,$00e2,$0000
	dc.w	$00e8,$0000,$00ea,$0000
	dc.w	$00f0,$0000,$00f2,$0000

	dc.w	$0102,$0000,$0104,$0000,$0106,$0c01
	dc.w	$0108,$0018,$010a,$0018
hicol
	dc.w	$0180,$0000,$0182,$0000,$0184,$0000,$0186,$0000
	dc.w	$0190,$0000,$0192,$0000,$0194,$0000,$0196,$0000
	dc.w	$0198,$0000,$019a,$0000,$019c,$0000,$019e,$0000
;	dc.w	$0180,$0000,$0182,$0222,$0184,$0444,$0186,$0666
;	dc.w	$0188,$0888,$018a,$0aaa,$018c,$0ccc,$018e,$0eee
;	dc.w	$0190,$0000,$0192,$0669,$0194,$0347,$0196,$0224
	dc.w	$4901,$fffe
	dc.w	$0100,$6600
	dc.w	$ffff,$fffe

endpartcl
	dc.w	$0100,$0000,$0180,$0000,$0096,$0020
	dc.w	$008e,$3880,$0090,$10c0,$0092,$0038,$0094,$00cc
		
	dc.w	$4801,$fffe
plep1:
;	dc.w	$00e0,$0000,$00e2,$0000
;	dc.w	$00e4,$0000,$00e6,$0000
;	dc.w	$00e8,$0000,$00ea,$0000
;	dc.w	$00ec,$0000,$00ee,$0000
;	dc.w	$00f0,$0000,$00f2,$0000

	dc.w	$00e0,$0000,$00e2,$0000
	dc.w	$00e4,$0000,$00e6,$0000
	dc.w	$00e8,$0000,$00ea,$0000
	dc.w	$00ec,$0000,$00ee,$0000

	dc.w	$0102,$0000,$0104,$0000,$0106,$0c01
	dc.w	$0108,$0000,$010a,$0000
epcol
	dc.w	$0180,$0000,$0182,$0000,$0184,$0000,$0186,$0000
	dc.w	$0188,$0000,$018a,$0000,$018c,$0000,$018e,$0000
	dc.w	$0190,$0000,$0192,$0000,$0194,$0000,$0196,$0000
	dc.w	$0198,$0000,$019a,$0000,$019c,$0000,$019e,$0000
	dc.w	$4901,$fffe
	dc.w	$0100,$C200
	dc.w	$ffff,$fffe

SPEMPTY	DC.L	0

FTITLEPIC
	INCBIN	OWN/FOURMAZE/TWGFX/FOURMAZETITLE7.CON

MENUPIC	EQU	*+2
	INCBIN	OWN/FOURMAZE/TWGFX/MENUGFX1.CON
	DC.W	0

TECHMEDFONT
	INCBIN	OWN/FOURMAZE/TWGFX/TECHMED.FONT2A.RAW
	INCBIN	OWN/FOURMAZE/TWGFX/TECHMED.FONT2B.RAW
	INCBIN	OWN/FOURMAZE/TWGFX/TECHMED.FONT2C.RAW

;chars from a-z, space, underscore
char_a	incbin	"own/fourmaze/twgfx/hi_chara"
	incbin	"own/fourmaze/twgfx/hi_charm"
	incbin	"own/fourmaze/twgfx/hi_chary"

char_0	incbin	"own/fourmaze/twgfx/hi_char0"

;endpic size is 320px*100px*4planes
FENDPIC	INCBIN	"own/fourmaze/twgfx/fourmazelevel"

EOPART4
	ENDB	A4

;---------------------------------------------------------------------------
	IFEQ	FINAL
	SECTION	FOURMAZE1,CODE_F

;	ORG	$B0000
	ENDC

	IFNE	FINAL
	SECTION	FOURMAZE1,CODE
	ENDC
BOPART1
HP	BASEREG	LINETAB-$7E,A4
	LEA.L	LINETAB-$7E(PC),A4
	MOVE.L	A7,OSSTACK(A4)
	MOVE.L	(_SYSBASE).W,A6
	CMP.L	#$1000000,A4
	BHS.S	.1
	CMP.L	#$C00000,A4
	BHS.S	.2
	CMP.L	#$200000,A4
	BHS.S	.3
	TST.W	ATTNFLAGS(A6)
	BNE.S	.1
	BRA.S	.2

.3	ST	FASTMEM(A4)
	BRA.S	.2

.1	ST	FASTMEM(A4)
	ST	TURBOPROC(A4)
.2
	CLR.B	MOVEMENT(A4)
	ST.B	ORIGMONSTSET(A4)

;	IFEQ	FINAL
;DMASET=	%1000010111000000
;	ENDC
;
;	IFNE	FINAL
DMASET=	%1000000111000000
;	ENDC
;	 -----a-bcdefghij

;	a: Blitter Nasty	$400
;	b: Bitplane DMA (if this isn't set, sprites disappear!)
;	c: Copper DMA
;	d: Blitter DMA
;	e: Sprite DMA
;	f: Disk DMA
;	g-j: Audio 3-0 DMA

	MOVE.L	(_SYSBASE).W,A6			; Exec pointer to A6
	LEA.L	DOSNAM(PC),A1		; Set library pointer
	MOVEQ	#0,D0
	JSR	_LVOOPENLIBRARY(A6)		; Open dos.library
	MOVE.L	D0,DOSBAS(A4)

;load hiscores
	
	LEA	highfilename(pc),a0
	move.l	a0,d1
	LEA	SCREEN1,a0
	move.l	a0,d2
	move.l	#HIGHSDATEND-HIGHSDAT1PL,d3
	JSR	LOADFILE

	lea	SCREEN1,a0
	move.l	#(HIGHSDATS-HIGHSDAT1PL)/4-1,d1
	move.l	#0,d0
.l1	add.l	(a0)+,d0
	dbf	d1,.l1
	cmp.l	HIGHSDATS-HIGHSDAT1PL+SCREEN1,d0
	bne.s	.l2

	lea	SCREEN1,a0
	LEA	HIGHSDAT1PL,a1
	move.l	#HIGHSDATEND-HIGHSDAT1PL-1,d0
.l3	move.b	(a0)+,(a1)+
	dbf	d0,.l3

.l2
	MOVE.L	(_SYSBASE).W,A6			; Exec pointer to A6
	LEA.L	GRANAME(PC),A1		; Set library pointer
	MOVEQ	#0,D0
	JSR	_LVOOPENLIBRARY(A6)		; Open graphics.library
	MOVE.L	D0,GRABASE(A4)
	MOVE.L	D0,A6

;LOAD NULLVIEW
	move.l	gb_ActiView(a6),wbview(A4)
				; store current view address
                            	; gb_ActiView = 32

	sub.l	a1,a1		; clears full long-word
	jsr 	_LVOLoadView(a6) 	; Flush View to nothing
	jsr	_LVOWaitTOF(a6) 	; Wait once
	jsr	_LVOWaitTOF(a6) 	; Wait again.

;	LEA.L	COPCOM,A0
;	MOVE.L	A0,$DFF080
;.1	MOVE.W	$DFF004,D0
;	AND.W	#1,D0
;	BEQ.S	.1
;.2	MOVE.W	$DFF004,D0
;	AND.W	#1,D0
;	BNE.S	.2
;.3	MOVE.W	$DFF004,D0
;	AND.W	#1,D0
;	BEQ.S	.3
;.4	MOVE.W	$DFF004,D0
;	AND.W	#1,D0
;	BNE.S	.4

	move.w	$dff07c,d0
	cmp.b	#$f8,d0
	bne.s	.notaga

	move.w	#0,$dff1fc	; reset sprites (fix V39 bug)
	MOVE.W	#$0C01,$DFF106

.notaga

;	SECTION	LOADER2,DATA_C
;COPCOM	DC.L	$FFFFFFFE



	MOVE.L	$26(A6),OLDCOP1		; Store copper1 start addr
	MOVE.L	$32(A6),OLDCOP2		; Store copper2 start addr
	JSR	_LVOOWNBLITTER(A6)
	ST.B	OWNBLIT(A4)
	JSR	_LVOWAITBLIT(A6)
	MOVE.L	(_SYSBASE).W,A6
	JSR	_LVOFORBID(A6)
	ST.B	FORBID(A4)
;	BSR.S	LOADHIGHSCORETABLE
	LEA.L	$DFF000,A6
	MOVE.W	$2(A6),DMACONS(A4)	; Store old DMACON
	ORI.W	#$8000,DMACONS(A4)
	MOVE.W	$10(A6),ADKCONS(A4)	; Store old ADKCON
	ORI.W	#$8000,ADKCONS(A4)
	MOVE.W	$1C(A6),INTENAS(A4)
	ORI.W	#$C000,INTENAS(A4)
	MOVE.L	$78.W,RESCINT6(A4)
	MOVE.L	$6C.W,RESCINT3(A4)
	MOVE.L	$68.W,RESCINT2(A4)
	BSR.W	INTOFF
	BSR.W	WAITLINE0
;	MOVE.W	#$7FFF,$9A(A6)		; Clear interrupt enable
	MOVE.W	#$7FFF,$96(A6)		; Clear DMA channels
	BRA.W	MAIN

;input
;d1-name
;d2-buffer
;d3-max. length
;output
;d4-read length
LOADFILE
	move.l	DOSBAS(PC),a6
	movem.l	d2/d3,-(a7)
	move.l	#MODE_OLDFILE,d2
	JSR	_LVOOpen(a6)
	movem.l	(a7)+,d2/d3
	tst.l	d0
	beq.s	.end

	move.l	d0,d4
	move.l	d4,d1
	JSR	_LVORead(A6)

	move.l	d4,d1
	move.l	d0,d4
	JSR	_LVOClose(a6)

.end	rts

;input
;d1-name
;d2-buffer
;d3-max. length
;output
;d4-read length
SAVEFILE
	move.l	DOSBAS(PC),a6
	movem.l	d2/d3,-(a7)
	move.l	#MODE_NEWFILE,d2
	JSR	_LVOOpen(a6)
	movem.l	(a7)+,d2/d3
	tst.l	d0
	beq.s	.end

	move.l	d0,d4
	move.l	d4,d1
	JSR	_LVOWrite(A6)

	move.l	d4,d1
	move.l	d0,d4
	JSR	_LVOClose(a6)

.end	rts


SWITCHTOOS
	LEA	$DFF000,A6
	MOVE.W	$1C(A6),GAMEINTENA
	MOVE.W	#$7FFF,$9A(A6)		; Disable interrupts
	BSR.W	WAITLINE0
	MOVE.W	#$7FFF,$96(A6)
	MOVE.L	$68.W,GAMEINT2
	MOVE.L	$6C.W,GAMEINT3
	MOVE.L	$78.W,GAMEINT6
;	MOVE.L	OLDCOP1(PC),$80(A6)	; Restore old copper1
;	MOVE.L	OLDCOP2(PC),$84(A6)	; Restore old copper2
	MOVE.L	RESCINT6(PC),$78.W
	MOVE.L	RESCINT3(PC),$6C.W	; Restore inter pointer
	MOVE.L	RESCINT2(PC),$68.W
	MOVE.W	DMACONS,D0		; Restore old DMACON
	OR.W	#$8000,D0
	MOVE.W	D0,$96(A6)		
	MOVE.W	ADKCONS,D0		; Restore old ADKCON
	OR.W	#$8000,D0
	MOVE.W	D0,$9E(A6)
	MOVE.W	INTENAS,D0		; Restore inter data
	OR.W	#$C000,D0
	MOVE.W	#$7FFF,$9C(A6)
	MOVE.W	D0,$9A(A6)
	MOVE.L	(_SYSBASE).W,A6
	TST.B	FORBID
	BEQ.S	.Q3
	JSR	_LVOPERMIT(A6)
	clr.b	FORBID
.Q3	
	MOVE.L	GRABASE(PC),A6
	JSR	_LVODISOWNBLITTER(A6)
	CLR.B	OWNBLIT(A4)
	RTS


SWITCHTOGAME
	move.w	$dff07c,d0
	cmp.b	#$f8,d0
	bne.s	.notaga

	move.w	#0,$dff1fc	; reset sprites (fix V39 bug)
	MOVE.W	#$0C01,$DFF106

.notaga

;	SECTION	LOADER2,DATA_C
;COPCOM	DC.L	$FFFFFFFE


	MOVE.L	GRABASE(PC),A6
;	MOVE.L	$26(A6),OLDCOP1		; Store copper1 start addr
;	MOVE.L	$32(A6),OLDCOP2		; Store copper2 start addr
	JSR	_LVOOWNBLITTER(A6)
	JSR	_LVOWAITBLIT(A6)
	move.l	_SYSBASE.W,a6
	JSR	_LVOFORBID(A6)
	ST.B	FORBID
	ST.B	OWNBLIT
	ST.B	TIMERAZERO
	LEA.L	$DFF000,A6
;	MOVE.W	$2(A6),DMACONS(A4)	; Store old DMACON
;	ORI.W	#$8000,DMACONS(A4)
;	MOVE.W	$10(A6),ADKCONS(A4)	; Store old ADKCON
;	ORI.W	#$8000,ADKCONS(A4)
;	MOVE.W	$1C(A6),INTENAS(A4)
;	ORI.W	#$C000,INTENAS(A4)
;	MOVE.L	$78.W,RESCINT6(A4)
;	MOVE.L	$6C.W,RESCINT3(A4)
;	MOVE.L	$68.W,RESCINT2(A4)
;	BSR.W	INTOFF
	MOVE.W	#$7FFF,$DFF09A
	BSR.W	WAITLINE0
	MOVE.W	#$7FFF,$96(A6)		; Clear DMA channels
	MOVE.L	GAMEINT2(PC),$68.W
	MOVE.L	GAMEINT3(PC),$6C.W
	MOVE.L	GAMEINT6(PC),$78.W
;	SETINT236
	MOVE.W	#$7FFF,$9A(A6)
	BSR.W	WAITLINE0
	MOVE.W	#$7FFF,$96(A6)
	MOVE.W	#DMASET!$8220,$96(A6)	; DMA Control data
;	LEA	VBI(PC),A0
;	MOVE.L	A0,$6C.W
;	LEA.L	KEYINT(PC),A0
;	MOVE.L	A0,$68.W
;	LEA.L	INT6(PC),A0
;	MOVE.L	A0,$78.W
 ;ENABLE INTERRUPTS
	MOVE.W	#$7FFF,$9C(A6)
	MOVE.W	GAMEINTENA(PC),D0
	OR.W	#$C000,D0
	MOVE.W	D0,$9A(A6)

	RTS
	
REQUEST	MOVE.W	#$7FFF,$9A(A6)		; Disable interrupts
	BSR.W	WAITLINE0
	MOVE.W	#$7FFF,$96(A6)
	MOVE.L	OLDCOP1(PC),$80(A6)	; Restore old copper1
	MOVE.L	OLDCOP2(PC),$84(A6)	; Restore old copper2
	MOVE.L	RESCINT6(PC),$78.W
	MOVE.L	RESCINT3(PC),$6C.W	; Restore inter pointer
	MOVE.L	RESCINT2(PC),$68.W
	MOVE.W	DMACONS,D0		; Restore old DMACON
	OR.W	#$8000,D0
	MOVE.W	D0,$96(A6)		
	MOVE.W	ADKCONS,D0		; Restore old ADKCON
	OR.W	#$8000,D0
	MOVE.W	D0,$9E(A6)
	MOVE.W	INTENAS,D0		; Restore inter data
	OR.W	#$C000,D0
	MOVE.W	#$7FFF,$9C(A6)
	MOVE.W	D0,$9A(A6)
	MOVE.L	GRABASE(PC),A6
	JSR	_LVODISOWNBLITTER(A6)
	CLR.B	OWNBLIT(A4)

	MOVE.L	WBVIEW(PC),A1
	MOVE.L	GRABASE(PC),A6
	JSR	_LVOLOADVIEW(A6) 
;	MOVE.L	A6,A1
;	MOVE.L	4.W,A6
;	JSR	_LVOCLOSELIBRARY(A6)
;

	MOVE.L	(_SYSBASE).W,A6
	LEA.L	INTUINAM(PC),A1
	MOVEQ.L	#0,D0
	JSR	_LVOOPENLIBRARY(A6)
	MOVE.L	D0,INTUIBASE
	BEQ.S	.ERROR

	SUBA.L	A0,A0
	LEA.L	BODYTEXT(PC),A1
	LEA.L	LEFTTEXT(PC),A2
	LEA.L	RIGHTTEXT(PC),A3
	MOVEQ	#0,D0
	MOVEQ	#0,D1
	MOVE.W	#194,D2
	MOVEQ	#52,D3
	MOVE.L	INTUIBASE(PC),A6
	JSR	_LVOAUTOREQUEST(A6)
	TST.L	D0
	BEQ.W	QUIT
					;HIER YES GEKLICKT
.ERROR	MOVE.L	INTUIBASE(PC),D0
	BEQ.S	.END1
	MOVE.L	D0,A1
	MOVE.L	(_SYSBASE).W,A6
	JSR	_LVOCLOSELIBRARY(A6)
.END1	CLR.L	INTUIBASE(A4)
	MOVE.L	GRABASE(PC),A6

	move.l	gb_ActiView(a6),wbview
				; store current view address
                            	; gb_ActiView = 32

	sub.l	a1,a1		; clears full long-word
	jsr 	_LVOLoadView(a6) 	; Flush View to nothing
	jsr	_LVOWaitTOF(a6) 	; Wait once
	jsr	_LVOWaitTOF(a6) 	; Wait again.

;	LEA.L	COPCOM,A0
;	MOVE.L	A0,$DFF080
;.1	MOVE.W	$DFF004,D0
;	AND.W	#1,D0
;	BEQ.S	.1
;.2	MOVE.W	$DFF004,D0
;	AND.W	#1,D0
;	BNE.S	.2
;.3	MOVE.W	$DFF004,D0
;	AND.W	#1,D0
;	BEQ.S	.3
;.4	MOVE.W	$DFF004,D0
;	AND.W	#1,D0
;	BNE.S	.4

	move.w	$dff07c,d0
	cmp.b	#$f8,d0
	bne.s	.notaga

	move.w	#0,$dff1fc	; reset sprites (fix V39 bug)
	MOVE.W	#$0C01,$DFF106

.notaga

;	SECTION	LOADER2,DATA_C
;COPCOM	DC.L	$FFFFFFFE



	MOVE.L	$26(A6),OLDCOP1		; Store copper1 start addr
	MOVE.L	$32(A6),OLDCOP2		; Store copper2 start addr
	JSR	_LVOOWNBLITTER(A6)
	JSR	_LVOWAITBLIT(A6)
	ST.B	OWNBLIT(A4)
	ST.B	TIMERAZERO(A4)
	LEA.L	$DFF000,A6
	MOVE.W	$2(A6),DMACONS(A4)	; Store old DMACON
	ORI.W	#$8000,DMACONS(A4)
	MOVE.W	$10(A6),ADKCONS(A4)	; Store old ADKCON
	ORI.W	#$8000,ADKCONS(A4)
	MOVE.W	$1C(A6),INTENAS(A4)
	ORI.W	#$C000,INTENAS(A4)
	MOVE.L	$78.W,RESCINT6(A4)
	MOVE.L	$6C.W,RESCINT3(A4)
	MOVE.L	$68.W,RESCINT2(A4)
	BSR.W	INTOFF
	BSR.W	WAITLINE0
	MOVE.W	#$7FFF,$96(A6)		; Clear DMA channels
	BSR.W	SETINT236
	
	RTS

QUIT	MOVE.L	INTUIBASE(PC),D0	;HIER QUIT GEKLICKT	
	BEQ.S	.Q1
	MOVE.L	D0,A1
	MOVE.L	(_SYSBASE).W,A6
	JSR	_LVOCLOSELIBRARY(A6)
.Q1	MOVE.L	OSSTACK(PC),A7
	TST.L	DOSBAS
	BEQ.S	.Q5
	MOVE.L	(_SYSBASE).W,A6
	MOVE.L	DOSBAS(PC),A1
	JSR	_LVOCLOSELIBRARY(A6)
.Q5	TST.L	GRABASE(A4)
	BEQ.S	.Q2
	TST.B	OWNBLIT(A4)
	BEQ.S	.Q4
	MOVE.L	GRABASE(PC),A6
	JSR	_LVODISOWNBLITTER(A6)
.Q4	MOVE.L	(_SYSBASE).W,A6
	MOVE.L	GRABASE(PC),A1
	JSR	_LVOCLOSELIBRARY(A6)
.Q2	MOVE.L	(_SYSBASE).W,A6
	TST.B	FORBID(A4)
	BEQ.S	.Q3
	JSR	_LVOPERMIT(A6)
.Q3	RTS


INTUINAM	DC.B	'intuition.library',0
		EVEN
INTUIBASE	DC.L	0
TEXT1	DC.B	'CONTINUE FOURMAZE?',0
	EVEN
TEXT3	DC.B	'QUIT',0
	EVEN
TEXT2	DC.B	'YES',0
	EVEN
BODYTEXT	DC.B	0	;FRONTPEN
	DC.B	1		;BACKPEN
	DC.B	1		;DRAWMODE
	EVEN
	DC.W	$E		;LINKER RAND DES TEXTES
	DC.W	6		;OBERER RAND DES TEXTES
	DC.L	0		;ZEICHENSATZ STANDARD
	DC.L	TEXT1		;DARZUSTELLENDER TEXT
	DC.L	0		;LINK ZU WEITEREN STRUKTUREN (???)

RIGHTTEXT	DC.B	0
	DC.B	1
	DC.B	1
	EVEN
	DC.W	6
	DC.W	3
	DC.L	0
	DC.L	TEXT3
	DC.L	0

LEFTTEXT	DC.B	0
	DC.B	1
	DC.B	1
	EVEN
	DC.W	6
	DC.W	3
	DC.L	0
	DC.L	TEXT2
	DC.L	0

WAITLINE0
	BTST	#0,$5(A6)
	BEQ.S	WAITLINE0
.1	BTST	#0,$5(A6)
	BNE.S	.1
	RTS

GRANAME	DC.B	'graphics.library',0
DOSNAM	DC.B	'dos.library',0
	EVEN
;DOSBASE	DC.L	0
GAMEINT2	DC.L	0
GAMEINT3	DC.L	0
GAMEINT6	DC.L	0
GAMEINTENA	DC.L	0
RESCINT6	DC.L	0
RESCINT2	DC.L	0
RESCINT3	DC.L	0
OLDCOP1	DC.L	0
OLDCOP2	DC.L	0
WBVIEW	DC.L	0
RESCINTSTAT
INTENAS	DC.W	0
DMACONS	DC.W	0
ADKCONS	DC.W	0
OSSTACK	DC.L	0

GETBYTERANDOM
	bsr.s	random
	LSR.L	#3,D0
	rts

random	MOVE.L	RANDOM1(PC),D0
	ADD.L	RANDOM2(PC),D0
	MOVE.L	D0,RANDOM1
	ROR.L	#$04,D0
	SUB.W	RANDOM2(PC),D0
	MOVE.L	D0,-(A7)
	MOVE.W	$DFF014,D0
	SWAP	D0
	MOVE.W	$DFF014,D0
	EOR.L	D0,(A7)
	MOVE.L	(A7)+,D0
	EOR.L	D0,RANDOM2
	ADD.L	#$56565311,RANDOM1
	RTS

RANDOM1	DC.L	$3F3F751F
RANDOM2	DC.L	$17179834

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

;FARBE1 (ANFANG) WIRD ALS 24-BIT-WERT IN D4 ÜBERGEBEN
;FARBE2 (ZIEL) WIRD ALS 24-BIT-WERT IN D5 ÜBERGEBEN
;AKTUELLER SCHRITT WIRD IN D2 ÜBERGEBEN
;GESAMTZAHL SCHRITTE WIRD IN D3 ÜBERGEBEN
;ERRECHNETE FARBE WIRD IN D6 ZURÜCKGEGEBEN

EVALCOLOR
	MOVE.L	D0,-(A7)
	MOVE.L	D1,-(A7)
	MOVEQ.L	#0,D6

	MOVE.L	D5,D0			;ROT
	MOVE.L	D4,D1
	SWAP	D0
	SWAP	D1
	AND.L	#$FF,D0
	AND.L	#$FF,D1
	SUB.W	D1,D0
	MULS.W	D2,D0
	DIVS.W	D3,D0
	ADD.W	D0,D1
	AND.L	#$FF,D1
	SWAP	D1
	OR.L	D1,D6

	MOVE.L	D5,D0			;GRÜN
	MOVE.L	D4,D1
	LSR.L	#8,D0
	LSR.L	#8,D1
	AND.L	#$FF,D0
	AND.L	#$FF,D1
	SUB.W	D1,D0
	MULS.W	D2,D0
	DIVS.W	D3,D0
	ADD.W	D0,D1
	AND.L	#$FF,D1
	LSL.W	#8,D1
	OR.L	D1,D6

	MOVE.L	D5,D0			;BLAU
	MOVE.L	D4,D1
	AND.L	#$FF,D0
	AND.L	#$FF,D1
	SUB.W	D1,D0
	MULS.W	D2,D0
	DIVS.W	D3,D0
	ADD.W	D0,D1
	AND.L	#$FF,D1
	OR.L	D1,D6	

	MOVE.L	(A7)+,D1
	MOVE.L	(A7)+,D0
	RTS

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

FADEINGIN
	ST.B	FADING(A4)
	MOVEQ.L	#49,D3
	MOVEQ.L	#0,D2
	LEA.L	CL1,A3
	LEA.L	CL2,A5
	LEA.L	FADEINGTAB(PC),A0
	LEA.L	COLING1(PC),A1
	LEA.L	COLING2(PC),A2

FADEINGNOW
.3	MOVEQ.L	#0,D7
.1	MOVE.W	D7,D1
	ADD.W	D1,D1
	MOVE.L	0(A2,D1.W),D4
	MOVE.L	0(A1,D1.W),D5
	BSR.W	EVALCOLOR
	MOVEQ.L	#0,D0
	LSR.L	#4,D6
	MOVEQ.L	#$F,D1
	AND.L	D6,D1
	OR.W	D1,D0
	ROR.W	#4,D0
	LSR.L	#8,D6
	MOVEQ.L	#$F,D1
	AND.L	D6,D1
	OR.W	D1,D0
	ROR.W	#4,D0
	LSR.L	#8,D6
	MOVEQ.L	#$F,D1
	AND.L	D6,D1
	OR.W	D1,D0
	ROL.W	#8,D0
	MOVE.W	0(A0,D7.W),D1
	MOVE.W	D0,0(A3,D1.W)
	MOVE.W	D0,0(A5,D1.W)
	ADDQ.W	#2,D7
	TST.W	(A0,D7.W)
	BNE.S	.1
	MOVE.B	VBITIMER1(A4),D0
.2	CMP.B	VBITIMER1(A4),D0
	BEQ.S	.2
	ADDQ.W	#1,D2
	CMP.W	D2,D3
	BHS.S	.3
	CLR.B	FADING(A4)
	RTS

FADEINGOUT
	ST.B	FADING(A4)
	MOVEQ.L	#49,D3
	MOVEQ.L	#0,D2
	LEA.L	CL1,A3
	LEA.L	CL2,A5
	LEA.L	FADEINGTAB(PC),A0
	LEA.L	COLING2(PC),A1
	LEA.L	COLING1(PC),A2
.3	MOVEQ.L	#0,D7
.1	MOVE.W	D7,D1
	ADD.W	D1,D1
	MOVE.L	0(A2,D1.W),D4
	MOVE.L	0(A1,D1.W),D5
	BSR.W	EVALCOLOR
	MOVEQ.L	#0,D0
	LSR.L	#4,D6
	MOVEQ.L	#$F,D1
	AND.L	D6,D1
	OR.W	D1,D0
	ROR.W	#4,D0
	LSR.L	#8,D6
	MOVEQ.L	#$F,D1
	AND.L	D6,D1
	OR.W	D1,D0
	ROR.W	#4,D0
	LSR.L	#8,D6
	MOVEQ.L	#$F,D1
	AND.L	D6,D1
	OR.W	D1,D0
	ROL.W	#8,D0
	MOVE.W	0(A0,D7.W),D1
	MOVE.W	D0,0(A3,D1.W)
	MOVE.W	D0,0(A5,D1.W)
	ADDQ.W	#2,D7
	TST.W	(A0,D7.W)
	BNE.S	.1
	MOVE.B	VBITIMER1(A4),D0
.2	CMP.B	VBITIMER1(A4),D0
	BEQ.S	.2
	ADDQ.W	#1,D2
	CMP.W	D2,D3
	BHS.S	.3
	CLR.B	FADING(A4)
	RTS

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

KEYINT	MOVEM.L	D0-D2/A0,-(SP)
	MOVE.B	$BFED01,D0
	AND.B	#%10001000,D0
	CMP.B	#$88,D0
	BNE.S	.5
	BSR.B	.1
	BSET	#6,$BFEE01
	MOVE.B	#0,$BFEC01
	MOVEQ.L	#6,D2
.4	MOVE.B	$DFF006,D0
.3	CMP.B	$DFF006,D0
	BEQ.S	.3
	DBF	D2,.4
	BCLR	#6,$BFEE01
.5	MOVEM.L	(SP)+,D0-D2/A0
	MOVE.W	#8,$DFF09C
	RTE	

.1	MOVE.B	$BFEC01,D0
	ROR.B	#1,D0
	MOVE.B	D0,D1
	LEA	KEYTAB(PC),A0
	AND.W	#$7F,D0
	EOR.W	#$7F,D0
	MOVE.W	D0,D2
	AND.W	#7,D2
	LSR.W	#3,D0
	TST.B	D1
	BMI.S	.2
	eor.b	#$7f,d1
	move.b	d1,KEYVAL-KEYTAB(a0)
	BSET	D2,(A0,D0.W)
	RTS	

.2	BCLR	D2,(A0,D0.W)
	RTS	

KEYCOMP	MOVEM.L	D0/D2/A0,-(SP)
	MOVE.W	D0,D2
	AND.W	#$0007,D2
	LSR.W	#$03,D0
	LEA	KEYTAB(PC),A0
	BTST	D2,$0000(A0,D0.W)
	MOVEM.L	(SP)+,D0/D2/A0			;HERE END
	RTS
 
KEYTAB	dc.w	$FFFF
	dc.w	$FFFF
	dc.w	$FFFF
	dc.w	$FFFF
	dc.w	$FFFF
	dc.w	$FFFF
	dc.w	$FFFF
	dc.w	$FFFF
KEYVAL	dc.b	0
	even
KEYTRANS
	dc.b	0,'1','2','3','4','5','6','7'
	dc.b	'8','9','0',0,0,0,0,0
	dc.b	'Q','W','E','R','T','Y','U','I'
	dc.b	'O','P',0,0,0,0,0,0
	dc.b	'A','S','D','F','G','H','J','K'
	dc.b	'L',0,0,0,0,0,0,0
	dc.b	0,'Z','X','C','V','B','N','M'
	dc.b	0,0,0,0,0,0,0,0
	dc.b	' ',0,0,0,0,0,0,0
	dc.b	0,0,0,0,0,0,0,0
	dc.b	0,0,0,0,0,0,0,0
	dc.b	0,0,0,0,0,0,0,0
	dc.b	0,0,0,0,0,0,0,0
	dc.b	0,0,0,0,0,0,0,0
	dc.b	0,0,0,0,0,0,0,0
	dc.b	0,0,0,0,0,0,0,0

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

;JOYSTICKTEST, JOY1 PLUGGED IN PORT 1
;	       JOY2 PLUGGED IN PORT 0
;
;RETURNS JOYPOS IN D0:	BIT 0 - UP
;			BIT 1 - DOWN
;			BIT 2 - LEFT
;			BIT 3 - RIGHT

JOY2ROUT	MOVE.W	$DFF00A,D0
	BRA.S	JOYROUT1

JOY1ROUT	MOVE.W	$DFF00C,D0
JOYROUT1	AND.W	#$303,D0
	LSL.B	#6,D0
	LSR.W	#6,D0
	MOVE.B	JOYTAB(PC,D0.W),D0
	EOR.B	#$F,D0
	RTS

JOYTAB	DC.B	0,%10,%1010,%1000,1,0,0,%1001,%101,0,0,0,%100,%110,0,0

JOY3ROUT	MOVEQ.L	#0,D0
	MOVE.B	$BFE101,D0
	LSR.B	#4,D0
	RTS

JOY4ROUT	MOVEQ.L	#0,D0
	MOVE.B	$BFE101,D0
	AND.W	#$F,D0
	RTS

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

INGAMEJOY
	MOVEQ.L	#0,D0
	MOVE.B	INPUTDEV(A4,D5.W),D0
	ADD.W	D0,D0
	JMP	.TAB(PC,D0.W)

.TAB	BRA.S	JOY1ROUT
	BRA.S	JOY2ROUT
	BRA.S	JOY3ROUT
	BRA.S	JOY4ROUT
	BRA.S	KBD1ROUT
	BRA.S	KBD2ROUT
.TABEND
	IFNE	.TABEND-.TAB-$C
	FAIL
	ENDC

KBD1ROUT
;	2F-RIGHT
;	2D-LEFT
;	3E-DOWN
;	1E-UP
	MOVEQ.L	#0,D0
	BTST.B	#7,KEYTAB+5(A4)
	BEQ.S	.1
	ORI.B	#8,D0
.1	BTST.B	#5,KEYTAB+5(A4)
	BEQ.S	.2
	ORI.B	#4,D0
.2	BTST.B	#6,KEYTAB+3(A4)
	BEQ.S	.3
	ORI.B	#2,D0
.3	BTST.B	#6,KEYTAB+7(A4)
	BEQ.S	.4
	ORI.B	#1,D0
.4	RTS

KBD2ROUT
;KEYS:Q,A,N,M
	MOVEQ.L	#0,D0
	BTST.B	#7,KEYTAB+6(A4)
	BEQ.S	.1
	ORI.B	#8,D0
.1	BTST.B	#6,KEYTAB+6(A4)
	BEQ.S	.2
	ORI.B	#4,D0
.2	BTST.B	#0,KEYTAB+4(A4)
	BEQ.S	.3
	ORI.B	#2,D0
.3	BTST.B	#0,KEYTAB+2(A4)
	BEQ.S	.4
	ORI.B	#1,D0
.4	RTS

;------------------------------------------------------------------------

MAIN

	IFEQ	FINAL
	MOVE.B	#6,GAMEOBJ(A4)
	ENDC

	IFNE	FINAL
	MOVE.B	#4,GAMEOBJ(A4)
	ENDC

;	BSR.S	STORECOLORS
;;	BSR.S	INTOFF
;	BSR.S	INITGFX
;;	BSR.W	SETINT236
;	BSR.S	CLRSND
	CLR.B	BEGINLEVEL(A4)
RESTART	ST.B	NOYELLOW(A4)
	CLR.W	CL1COL2+2
	CLR.W	CL2COL2+2
	MOVE.L	#SPREMPTY,D0
	MOVE.W	D0,CL2SPR0+6
	MOVE.W	D0,CL2SPR1+6
	MOVE.W	D0,CL2SPR2+6
	MOVE.W	D0,CL2SPR3+6
	MOVE.W	D0,CL2SPR4+6
	MOVE.W	D0,CL2SPR5+6
	MOVE.W	D0,CL2SPR6+6
	MOVE.W	D0,CL2SPR7+6
	SWAP	D0
	MOVE.W	D0,CL2SPR0+2
	MOVE.W	D0,CL2SPR1+2
	MOVE.W	D0,CL2SPR2+2
	MOVE.W	D0,CL2SPR3+2
	MOVE.W	D0,CL2SPR4+2
	MOVE.W	D0,CL2SPR5+2
	MOVE.W	D0,CL2SPR6+2
	MOVE.W	D0,CL2SPR7+2
	MOVE.B	#5,ANFLIVES(A4)

;	BSR.W	COMPHIGHSCORE
	JSR	TITLEPIC

	BSR.W	GAMECLINIT
	MOVE.L	COPLIST(PC),$80(A6)	; Copper1 start address
	sf	MODLOADED
	BSR.W	SETINT236
	ST.B	TIMERAZERO(A4)

	TST.B	ORIGMONSTSET(A4)
	BNE.S	.NOCHANGE
	ST	ORIGMONSTSET(A4)
	LEA.L	ORIGMONSTER(PC),A0
	LEA.L	EXGMONSTER(PC),A1
	MOVE.L	#(EXGMONSTEREND-EXGMONSTER)/4,D1
.CHG1	MOVE.L	(A0),D0
	MOVE.L	(A1),(A0)+
	MOVE.L	D0,(A1)+
	DBF	D1,.CHG1
	LEA.L	ORIGIMAGE,A0
	LEA.L	EXGIMAGE,A1
	MOVE.L	#(EXGIMAGEEND-EXGIMAGE)/4,D1
.CHG2	MOVE.L	(A0),D0
	MOVE.L	(A1),(A0)+
	MOVE.L	D0,(A1)+
	DBF	D1,.CHG2

.NOCHANGE	BSR.W	OBJSTARTOFGAME
	BSR.W	SETOBJSTART

	MOVE.L	#$FF03FF03,LIVESPL1(A4)
	MOVE.L	#$FF03FF03,LIVESPL1+4(A4)
	MOVE.B	ANFLIVES(A4),D1
	MOVEQ.L	#6,D0
	SUB.B	GAMEOBJ(PC),D0
	MULU.W	#(.LIVEST-.LIVES),D0
	JMP	.LIVES(PC,D0.W)

.LIVES	MOVE.B	D1,LIVESPL1+6(A4)
	MOVE.B	#$03,LIVESPL1+7(A4)
.LIVEST	MOVE.B	D1,LIVESPL1+4(A4)
	MOVE.B	#$03,LIVESPL1+5(A4)
	MOVE.B	D1,LIVESPL1+2(A4)
	MOVE.B	#$03,LIVESPL1+3(A4)
	MOVE.B	D1,LIVESPL1(A4)
	MOVE.B	#$03,LIVESPL1+1(A4)

	;convert highest score from hiscorelistentry to bcd
	moveq	#0,d0
	move.b	GAMEOBJ(pc),d0
	subq.l	#3,d0
	lsl.l	#3,d0
	lea	HIGHSDESCR,a0
	move.l	4(a0,d0.w),a0	;highest score has no offset in scoretable
	bsr.w	highconvtxttobcd
	move.l	d1,highestever
	sf	hiescape

;load mod
	JSR	SWITCHTOOS
	LEA	ingmodname,a0
	move.l	a0,d1
	LEA	MODSPACE,a0
	move.l	a0,d2
	move.l	#180000,d3
	JSR	LOADFILE
	sf	MODLOADED
	TST.L	D4
	beq.s	.mi1
	st	MODLOADED
	
.mi1	JSR	SWITCHTOGAME

	tst.b	MODLOADED
	beq.s	.mi2
	lea	MODSPACE,a0
	movem.l	d0-a6,-(a7)
	jsr	init
	movem.l	(a7)+,d0-a6
.mi2

	BSR.B	CLRSND
	BSR.W	MAKELABYR
	BSR.W	FADEINGIN
	CLR.B	NOYELLOW(A4)

	CLR.L	TOTALSCORE(A4)
	CLR.L	TOTALSCORE+4(A4)
	CLR.L	TOTALSCORE+8(A4)
	CLR.L	TOTALSCORE+$C(A4)
	ST	MOVEMENT(A4)
.1
	BSR.W	NEWLEVEL
	BEQ.S	.SCHLUSS
	BSR.W	OTHER
	BRA.S	.1

.SCHLUSS	CLR.B	MOVEMENT(A4)
	tst.b	MODLOADED
	beq.s	.hie5
	sf	MODLOADED
	movem.l	d0-a6,-(a7)
	jsr	ende
	movem.l	(a7)+,d0-a6
.hie5

.S1	;BSR.W	REQUEST
	bsr	hidisplay
	BRA.W	RESTART


INTOFF ;SWITCH OFF INTERRUPTS
	MOVE.W	$DFF01C,RESCINTSTAT(A4)
	ORI.W	#$8000,RESCINTSTAT(A4)
	MOVE.W	#$7FFF,$DFF09A
	RTS

STORECOLORS ;STORE COLORS
	RTS

CLRSND
	CLR.L	COUNTSCOR(A4)
	CLR.L	COUNTSCOR+4(A4)
	ST.B	CHANGELIVES(A4)
	BSR.W	DISPLIVES
	RTS 

;input:
;a0-textstring (max 8 chars)
;output:
;d1-bcdnumber
highconvtxttobcd
	moveq.l	#7-1,d2
	moveq.l	#0,d1
	moveq.l	#0,d0
.evalhigh
	move.b	(a0)+,d0
	sub.b	#$30,d0
	lsl.l	#4,d1
	or.l	d0,d1
	dbf	d2,.evalhigh
	rts

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
GAMECLINIT
	MOVE.L	#SCREEN3+2*4*SCRWIDTH,D0
	MOVE.W	D0,CL1BPL0+6
	SWAP	D0
	MOVE.W	D0,CL1BPL0+2
	SWAP	D0
	ADD.L	#SCRWIDTH,D0	
	MOVE.W	D0,CL1BPL1+6
	SWAP	D0
	MOVE.W	D0,CL1BPL1+2
	SWAP	D0
	ADD.L	#SCRWIDTH,D0
	MOVE.W	D0,CL1BPL2+6
	SWAP	D0
	MOVE.W	D0,CL1BPL2+2
	SWAP	D0
	ADD.L	#SCRWIDTH,D0
	MOVE.W	D0,CL1BPL3+6
	SWAP	D0
	MOVE.W	D0,CL1BPL3+2
	MOVE.L	#SPREMPTY,D0
	MOVE.W	D0,CL1SPR0+6
	MOVE.W	D0,CL1SPR1+6
	MOVE.W	D0,CL1SPR2+6
	MOVE.W	D0,CL1SPR3+6
	MOVE.W	D0,CL1SPR4+6
	MOVE.W	D0,CL1SPR5+6
	MOVE.W	D0,CL1SPR6+6
	MOVE.W	D0,CL1SPR7+6
	SWAP	D0
	MOVE.W	D0,CL1SPR0+2
	MOVE.W	D0,CL1SPR1+2
	MOVE.W	D0,CL1SPR2+2
	MOVE.W	D0,CL1SPR3+2
	MOVE.W	D0,CL1SPR4+2
	MOVE.W	D0,CL1SPR5+2
	MOVE.W	D0,CL1SPR6+2
	MOVE.W	D0,CL1SPR7+2
	MOVE.L	#SCREEN4+2*4*SCRWIDTH,D0
	MOVE.W	D0,CL2BPL0+6
	SWAP	D0
	MOVE.W	D0,CL2BPL0+2
	SWAP	D0
	ADD.L	#SCRWIDTH,D0	
	MOVE.W	D0,CL2BPL1+6
	SWAP	D0
	MOVE.W	D0,CL2BPL1+2
	SWAP	D0
	ADD.L	#SCRWIDTH,D0
	MOVE.W	D0,CL2BPL2+6
	SWAP	D0
	MOVE.W	D0,CL2BPL2+2
	SWAP	D0
	ADD.L	#SCRWIDTH,D0
	MOVE.W	D0,CL2BPL3+6
	SWAP	D0
	MOVE.W	D0,CL2BPL3+2
	MOVE.L	#SPREMPTY,D0
	MOVE.W	D0,CL2SPR0+6
	MOVE.W	D0,CL2SPR1+6
	MOVE.W	D0,CL2SPR2+6
	MOVE.W	D0,CL2SPR3+6
	MOVE.W	D0,CL2SPR4+6
	MOVE.W	D0,CL2SPR5+6
	MOVE.W	D0,CL2SPR6+6
	MOVE.W	D0,CL2SPR7+6
	SWAP	D0
	MOVE.W	D0,CL2SPR0+2
	MOVE.W	D0,CL2SPR1+2
	MOVE.W	D0,CL2SPR2+2
	MOVE.W	D0,CL2SPR3+2
	MOVE.W	D0,CL2SPR4+2
	MOVE.W	D0,CL2SPR5+2
	MOVE.W	D0,CL2SPR6+2
	MOVE.W	D0,CL2SPR7+2
	MOVE.L	#SCOREODD,D0
	MOVE.W	D0,CL2SC1+6
	MOVE.W	D0,CL1SC1+6
	SWAP	D0
	MOVE.W	D0,CL2SC1+2
	MOVE.W	D0,CL1SC1+2
	MOVE.L	#SCOREODD2,D0
	MOVE.W	D0,CL2SC3+6
	MOVE.W	D0,CL1SC3+6
	SWAP	D0
	MOVE.W	D0,CL2SC3+2
	MOVE.W	D0,CL1SC3+2
	MOVE.L	#SCOREEVEN,D0
	MOVE.W	D0,CL2SC0+6
	MOVE.W	D0,CL1SC0+6
	SWAP	D0
	MOVE.W	D0,CL2SC0+2
	MOVE.W	D0,CL1SC0+2
	SWAP	D0
	ADD.L	#SCRWIDTH,D0
	MOVE.W	D0,CL2SC2+6
	MOVE.W	D0,CL1SC2+6
	SWAP	D0
	MOVE.W	D0,CL2SC2+2
	MOVE.W	D0,CL1SC2+2
	MOVE.L	#LIVESEVEN,D0
	MOVE.W	D0,CL2LV0+6
	MOVE.W	D0,CL1LV0+6
	SWAP	D0
	MOVE.W	D0,CL2LV0+2
	MOVE.W	D0,CL1LV0+2
	SWAP	D0
	ADD.L	#SCRWIDTH,D0
	MOVE.W	D0,CL2LV2+6
	MOVE.W	D0,CL1LV2+6
	SWAP	D0
	MOVE.W	D0,CL2LV2+2
	MOVE.W	D0,CL1LV2+2
	MOVE.L	#DISPLAYBALKEN,D0
	MOVE.W	D0,CL2DIS0+6
	MOVE.W	D0,CL1DIS0+6
	SWAP	D0
	MOVE.W	D0,CL2DIS0+2
	MOVE.W	D0,CL1DIS0+2
	SWAP	D0
	ADD.L	#SCRWIDTH,D0
	MOVE.W	D0,CL2DIS1+6
	MOVE.W	D0,CL1DIS1+6
	SWAP	D0
	MOVE.W	D0,CL2DIS1+2
	MOVE.W	D0,CL1DIS1+2
	MOVE.L	#INGAMELOGO+0*3*SCRWIDTH,D0
	MOVE.W	D0,CL2LOG0+6
	MOVE.W	D0,CL1LOG0+6
	SWAP	D0
	MOVE.W	D0,CL2LOG0+2
	MOVE.W	D0,CL1LOG0+2
	SWAP	D0
	ADD.L	#SCRWIDTH,D0
	MOVE.W	D0,CL2LOG1+6
	MOVE.W	D0,CL1LOG1+6
	SWAP	D0
	MOVE.W	D0,CL2LOG1+2
	MOVE.W	D0,CL1LOG1+2
	SWAP	D0
	ADD.L	#SCRWIDTH,D0
	MOVE.W	D0,CL2LOG2+6
	MOVE.W	D0,CL1LOG2+6
	SWAP	D0
	MOVE.W	D0,CL2LOG2+2
	MOVE.W	D0,CL1LOG2+2
	RTS

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

INITLABYR	;LABYRINTHGENERIERUNG

	CLR.W	KORNZAHL(A4)
	MOVE.L	#(LABYRENDE-LABYRBEGIN)/4-1,D0
	LEA.L	LABYRBEGIN(PC),A0
.1	CLR.L	(A0)+
	DBF	D0,.1
	LEA	LABYRBEGIN+COLS(PC),A0
	MOVE.W	#LINES-2,D2
.2	MOVE.W	#COLS-2,D0
.3	MOVE.B	#$80,(A0,D0.W)
	DBF	D0,.3
	ADDA.W	#COLS,A0
	DBF	D2,.2
	LEA	LABYRBEGIN(PC),A2
	LEA	LABYRBEGIN+(LINES/2)*COLS+COLS/2-1(PC),A0
	MOVE.B	#$40,LINES/2*COLS+COLS/2-1(A2)
	MOVEQ.L	#0,D0
	MOVE.B	GAMEOBJ(PC),D0
	LSL.W	#1,D0
	JMP	.PLYRTAB(PC,D0.W)

.PLYRTAB
	NOP
	NOP
	NOP

	BRA.S	.1PLYR
	BRA.S	.2PLYR
	BRA.S	.3PLYR
.PLYRTABEND

	IFNE	.PLYRTABEND-.PLYRTAB-$C
	FAIL
	ENDC

;	BRA.S	.4PLYR

.4PLYR	CLR.B	2*COLS+1(A2)
	CLR.B	3*COLS-3(A2)
	CLR.B	2*COLS+COLS/3(A2)
	CLR.B	3*COLS-COLS/3-2(A2)
	BRA.S	.CONT

.3PLYR	CLR.B	2*COLS+1(A2)
	CLR.B	2*COLS+COLS/2-1(A2)
	CLR.B	3*COLS-3(A2)
	BRA.S	.CONT

.2PLYR	CLR.B	2*COLS+1(A2)
	CLR.B	3*COLS-3(A2)
	BRA.S	.CONT

.1PLYR	CLR.B	2*COLS+COLS/2-1(A2)

.CONT
.4	BSR.W	GETBYTERANDOM
	AND.W	#3,D0
	MOVE.W	D0,D6
	MOVE.W	D0,D7
.5	ADD.B	D0,D0
	MOVE.L	A0,A2
	ADDA.W	STEP(A4,D0.W),A2
	MOVE.B	(A2),D0
	CMP.B	#$80,D0
	BNE.S	.10
	MOVE.W	D6,D0
	ADDQ.B	#1,D0
	MOVE.B	D0,(A2)
	ADDQ.B	#3,D0
	ADD.W	D0,D0
	ADDA.W	STEP(A4,D0.W),A0
	CLR.B	(A0)
	MOVE.L	A2,A0
	BRA.S	.4

.10	ADDQ.B	#1,D6
	AND.B	#3,D6
	MOVE.W	D6,D0
	CMP.B	D7,D0
	BNE.S	.5
	MOVE.B	(A0),D6
	CLR.B	(A0)
	BTST	#6,D6
	BNE.S	.6
	SUBQ.W	#1,D6
	CLR.L	D0
	MOVE.W	D6,D0
	ADD.W	D0,D0
	SUBA.W	STEP(A4,D0.W),A0
	BRA.S	.4

.RUPTURE	DC.B	$21,$1C,$18,$15,$13,$12,$11,$10	;ZAHL DER DURCHBRÜCHE
	DC.B	$0F,$0E,$0D,$0C,$0B,$0A,$09,$08		;IM LEVEL 1-16

.6	CLR.L	D2
	MOVE.B	TEMPLEVEL(A4),D2
	MOVEQ.L	#0,D5
	MOVE.B	.RUPTURE(PC,D2.W),D5
.7	BSR.W	GETBYTERANDOM
	AND.L	#$3F,D0
	CMP.W	#COLS-3,D0
	BHS.S	.7
	MOVE.L	D0,D1
	ADDQ.B	#1,D1
	MOVE.B	D1,D3
.8	BSR.W	GETBYTERANDOM
	AND.L	#$1F,D0
	CMP.W	#LINES-4,D0
	BHS.S	.8
	MOVE.L	D0,D2
	EOR.B	D3,D0
	AND.B	#$01,D0
	BEQ.S	.7
	MOVE.L	D1,D0
	ADD.L	#LABYRBEGIN-COLS-2,D0
	MOVE.L	D0,A0
	ADDQ.W	#1,D2
.9	ADDA.W	#COLS,A0
	DBF	D2,.9
	MOVEQ.L	#COLS*2+2,D1
	TST.B	(A0,D1.W)
	BEQ.S	.7
	MOVEQ.L	#3,D2
.12	MOVEQ.L	#0,D1
	MOVE.B	.ANLIEGEND(PC,D2.W),D1
	TST.B	(A0,D1.W)
	BEQ.S	.11
	MOVE.B	.GERADEAUS(PC,D2.W),D1
	AND.L	#$FF,D1
	MOVEQ.L	#0,D0
	MOVE.B	(A0,D1.W),D0
	MOVE.B	.LINKSKNICK(PC,D2.W),D1
	AND.L	#$FF,D1
	OR.B	(A0,D1.W),D0
	MOVE.B	.RECHTSKNICK(PC,D2.W),D1
	AND.L	#$FF,D1
	OR.B	(A0,D1.W),D0
	BEQ.W	.7
.11	DBF	D2,.12
	CLR.B	COLS*2+2(A0)
	SUBQ.B	#1,D5
	BNE.W	.7
	BRA.S	.CONT5

.ANLIEGEND	DC.B	COLS+2,2*COLS+1,2*COLS+3,3*COLS+2
.GERADEAUS	DC.B	2,2*COLS,2*COLS+4,4*COLS+2
.LINKSKNICK	DC.B	COLS+1,3*COLS+1,COLS+3,3*COLS+3
.RECHTSKNICK	DC.B	COLS+3,COLS+1,3*COLS+3,3*COLS+1


.CONT5	LEA.L	LABYRBEGIN(PC),A0

	MOVEQ.L	#0,D0
	MOVE.B	GAMEOBJ(PC),D0
	LSL.W	#2,D0
	JMP	.PLYRTAB2(PC,D0.W)

.PLYRTAB2
	NOP
	NOP

	NOP
	NOP

	NOP
	NOP

	BRA.W	.1PLYR2
	BRA.W	.2PLYR2
	BRA.W	.3PLYR2
.PLYRTAB2END

	IFNE	.PLYRTAB2END-.PLYRTAB2-$18
	FAIL
	ENDC

;	BRA.S	.4PLYR

.4PLYR2	MOVE.B	#$52,2*COLS+2(A0)
	MOVE.B	#$52,3*COLS+1(A0)
	MOVE.B	#$52,3*COLS-4(A0)
	MOVE.B	#$52,4*COLS-3(A0)
	MOVE.B	#$52,2*COLS+COLS/3-1(A0)
	MOVE.B	#$52,2*COLS+COLS/3+1(A0)
	MOVE.B	#$52,3*COLS+COLS/3(A0)
	MOVE.B	#$52,3*COLS-COLS/3-3(A0)
	MOVE.B	#$52,3*COLS-COLS/3-1(A0)
	MOVE.B	#$52,4*COLS-COLS/3-2(A0)
	BRA.S	.CONT2

.3PLYR2	MOVE.B	#$52,2*COLS+2(A0)
	MOVE.B	#$52,3*COLS+1(A0)
	MOVE.B	#$52,3*COLS-4(A0)
	MOVE.B	#$52,4*COLS-3(A0)
	MOVE.B	#$52,2*COLS+COLS/2-2(A0)
	MOVE.B	#$52,2*COLS+COLS/2(A0)
	MOVE.B	#$52,3*COLS+COLS/2-1(A0)
	BRA.S	.CONT2

.2PLYR2	MOVE.B	#$52,2*COLS+2(A0)
	MOVE.B	#$52,3*COLS+1(A0)
	MOVE.B	#$52,3*COLS-4(A0)
	MOVE.B	#$52,4*COLS-3(A0)
	BRA.S	.CONT2

.1PLYR2	MOVE.B	#$52,2*COLS+COLS/2-2(A0)
	MOVE.B	#$52,2*COLS+COLS/2(A0)
	MOVE.B	#$52,3*COLS+COLS/2-1(A0)

.CONT2	RTS

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

MAKELABYR	;ST.B	NOYELLOW(A4)
	BSR.W	INITLABYR

REMAPLABYR	;LABYRINTHWERTEUMRECHNUNG
	LEA.L	LABYRBEGIN-1(PC),A0
.6	MOVE.W	#COLS+1,D1
	CLR.L	D0
	TST.B	(A0,D1.W)
	BEQ.S	.1
	MOVEQ.L	#$50,D2
	MOVEQ.L	#$1,D1
	MOVE.B	(A0,D1.W),D0
	BEQ.S	.2
	ADDQ.B	#1,D2
.2	MOVEQ.L	#COLS+2,D1
	TST.B	(A0,D1.W)
	BEQ.S	.3
	ADDQ.B	#$2,D2
.3	MOVEQ.L	#2*COLS+1,D1
	TST.B	(A0,D1.W)
	BEQ.S	.4
	ADDQ.B	#4,D2
.4	MOVEQ.L	#COLS,D1
	TST.B	(A0,D1.W)
	BEQ.S	.5
	ADDQ.B	#8,D2
.5	MOVE.B	D2,COLS+1(A0)
.1	ADDQ.L	#1,A0
	CMP.L	#LABYRBEGIN+(LINES-1)*COLS-1,A0
	BNE.S	.6
	LEA	LABYRBEGIN+COLS(A4),A0
	MOVEQ.L	#LINES-1,D2
.7	MOVEQ.L	#COLS-3,D1
.8	TST.B	(A0,D1.W)
	BNE.S	.9
	ADDQ.W	#1,KORNZAHL(A4)
	BSR.W	GETBYTERANDOM
	CMP.B	BONUSKORN(A4),D0
	BLO.S	.10
	MOVE.B	#$41,(A0,D1.W)
	BRA.S	.9

.10	MOVE.B	#$40,(A0,D1.W)
.9	SUBQ.W	#1,D1
	BNE.S	.8
	ADDA.W	#COLS,A0
	SUBQ.L	#1,D2
	BNE.S	.7
	MOVE.B	#$42,LABYRBEGIN+(LINES-2)*COLS+1(A4)
	MOVE.B	#$42,LABYRBEGIN+(LINES-2)*COLS+COLS/2-1(A4)
	MOVE.B	#$42,LABYRBEGIN+(LINES-1)*COLS-3(A4)
	MOVE.B	#$42,LABYRBEGIN+(LINES/2)*COLS+COLS/2-1(A4)
	MOVEQ.L	#0,D0
	MOVE.B	GAMEOBJ(PC),D0
	SUBQ.W	#2,D0
	SUB.W	D0,KORNZAHL(A4)

	MOVEQ.L	#0,D0
	MOVE.B	GAMEOBJ(PC),D0
	LSL.W	#2,D0
	JMP	.PLYRTAB3(PC,D0.W)

.PLYRTAB3
	NOP
	NOP

	NOP
	NOP

	NOP
	NOP

	BRA.W	.1PLYR3
	BRA.W	.2PLYR3
	BRA.W	.3PLYR3
.PLYRTAB3END

	IFNE	.PLYRTAB3END-.PLYRTAB3-$18
	FAIL
	ENDC

.4PLYR3	CLR.B	LABYRBEGIN+2*COLS+1(A4)
	MOVE.B	#$50,LABYRBEGIN+2*COLS+2(A4)
	MOVE.B	#$50,LABYRBEGIN+3*COLS-4(A4)
	CLR.B	LABYRBEGIN+3*COLS-3(A4)
	MOVE.B	#$50,LABYRBEGIN+3*COLS+1(A4)
	MOVE.B	#$50,LABYRBEGIN+4*COLS-3(A4)
	CLR.B	LABYRBEGIN+2*COLS+COLS/3(A4)
	MOVE.B	#$50,LABYRBEGIN+2*COLS+COLS/3-1(A4)
	MOVE.B	#$50,LABYRBEGIN+2*COLS+COLS/3+1(A4)
	MOVE.B	#$50,LABYRBEGIN+3*COLS+COLS/3(A4)
	CLR.B	LABYRBEGIN+3*COLS-COLS/3-2(A4)
	MOVE.B	#$50,LABYRBEGIN+3*COLS-COLS/3-3(A4)
	MOVE.B	#$50,LABYRBEGIN+3*COLS-COLS/3-1(A4)
	MOVE.B	#$50,LABYRBEGIN+4*COLS-COLS/3-2(A4)
	BRA.S	.CONT3

.3PLYR3	CLR.B	LABYRBEGIN+2*COLS+1(A4)
	MOVE.B	#$50,LABYRBEGIN+2*COLS+2(A4)
	MOVE.B	#$50,LABYRBEGIN+3*COLS-4(A4)
	CLR.B	LABYRBEGIN+3*COLS-3(A4)
	MOVE.B	#$50,LABYRBEGIN+3*COLS+1(A4)
	MOVE.B	#$50,LABYRBEGIN+4*COLS-3(A4)
	CLR.B	LABYRBEGIN+2*COLS+COLS/2-1(A4)
	MOVE.B	#$50,LABYRBEGIN+2*COLS+COLS/2-2(A4)
	MOVE.B	#$50,LABYRBEGIN+2*COLS+COLS/2(A4)
	MOVE.B	#$50,LABYRBEGIN+3*COLS+COLS/2-1(A4)
	BRA.S	.CONT3

.2PLYR3	CLR.B	LABYRBEGIN+2*COLS+1(A4)
	MOVE.B	#$50,LABYRBEGIN+2*COLS+2(A4)
	MOVE.B	#$50,LABYRBEGIN+3*COLS-4(A4)
	CLR.B	LABYRBEGIN+3*COLS-3(A4)
	MOVE.B	#$50,LABYRBEGIN+3*COLS+1(A4)
	MOVE.B	#$50,LABYRBEGIN+4*COLS-3(A4)
	BRA.S	.CONT3

.1PLYR3	CLR.B	LABYRBEGIN+2*COLS+COLS/2-1(A4)
	MOVE.B	#$50,LABYRBEGIN+2*COLS+COLS/2-2(A4)
	MOVE.B	#$50,LABYRBEGIN+2*COLS+COLS/2(A4)
	MOVE.B	#$50,LABYRBEGIN+3*COLS+COLS/2-1(A4)

.CONT3
;DRAW SCREEN1
	ST.B	BLITUSED(A4)
.11	BTST	#6,2(A6)
	BNE.S	.11

	MOVE.L	#SCREEN1,$54(A6)	;destination setzen
	MOVE.L	#$FFFFFFFF,$44(A6)	;maske setzen
	MOVE.W	#0,$66(A6) 		;modulo destination setzen	
	MOVE.W	#0,$42(A6)		;blitcon1
	MOVE.W	#$100,$40(A6)		;blitcon2
;	MOVE.L	#($F2-$2A)*4,D0
;	LSL.W	#6,D0
;	OR.W	#SCRWIDTH/2,D0
;	MOVE.W	D0,$58(A6)		;blitter starten
	MOVE.W	#(($F2-$2A)*4*$40)!(SCRWIDTH/2),$58(A6)	;blitter starten
.12	BTST	#6,$2(A6)
	BNE.S	.12

	MOVE.L	#FFLINE,$50(A6)		;quelle setzen
	MOVE.L	#SCREEN1,$54(A6)	;+SCRWIDTH,$54(A6)	;destination setzen
	MOVE.W	#-SCRWIDTH,$64(A6)	;modulo quelle setzen	
	MOVE.W	#SCRWIDTH*3,$66(A6)	;modulo destination setzen	
	MOVE.L	#$FFFFFFFF,$44(A6)	;maske setzen
	MOVE.W	#0,$42(A6)		;blitcon1
	MOVE.W	#$9F0,$40(A6)		;blitcon2
;	MOVE.L	#($F2-$2A),D0
;	LSL.W	#6,D0
;	OR.W	#SCRWIDTH/2,D0
;	MOVE.W	D0,$58(A6)		;blitter starten
	MOVE.W	#(($F2-$2A)*$40)!(SCRWIDTH/2),$058(A6)	;blitter starten

.23	BTST	#6,$2(A6)
	BNE.S	.23

	MOVE.L	#FFLINE,$50(A6)		;quelle setzen
	MOVE.L	#SCREEN1+3*SCRWIDTH,$54(A6)	;destination setzen
	MOVE.W	#-SCRWIDTH,$64(A6)	;modulo quelle setzen	
	MOVE.W	#SCRWIDTH*3,$66(A6)	;modulo destination setzen	
	MOVE.L	#$FFFFFFFF,$44(A6)	;maske setzen
	MOVE.W	#0,$42(A6)		;blitcon1
	MOVE.W	#$9F0,$40(A6)		;blitcon2
;	MOVE.L	#($F2-$2A),D0
;	LSL.W	#6,D0
;	OR.W	#SCRWIDTH/2,D0
;	MOVE.W	D0,$58(A6)		;blitter starten
	MOVE.W	#(($F2-$2A)*$40)!(SCRWIDTH/2),$058(A6)	;blitter starten

	MOVE.L	#SCREEN1,D7
	LEA.L	SCRBEGIN(PC),A2
	MOVEQ.L	#0,D2
.16	MOVEQ.L	#0,D4
.17	MOVEQ.L	#0,D6
	MOVE.B	(A2,D4.W),D6
	CMP.B	#$50,D6
	BLS.S	.18
	SUB.W	#$50,D6
	MOVE.L	D4,D1
	LSL.L	#4,D1
	MOVEM.L	D2/D4,-(A7)
	BSR.W	BOBSYS1
	MOVEM.L	(A7)+,D2/D4
.18	ADDQ.W	#1,D4
	CMP.W	#COLS-1,D4
	BLS.S	.17
	ADDA.W	#COLS,A2
	ADD.W	#8,D2
	CMP.W	#(LINES-1)*8,D2
	BLS.S	.16
	MOVEQ.L	#0,D0
	MOVE.B	GAMEOBJ(PC),D0
	LSL.W	#2,D0
	JMP	.PLYRTAB4(PC,D0.W)

.PLYRTAB4
	NOP
	NOP

	NOP
	NOP

	NOP
	NOP

	BRA.W	.1PLYR4
	BRA.W	.2PLYR4
	BRA.W	.3PLYR4

.PLYRTAB4END

	IFNE	.PLYRTAB4END-.PLYRTAB4-$18
	FAIL
	ENDC


.4PLYR4
	MOVEQ.L	#0,D2
	MOVE.L	#$10*(COLS/3-1),D1
	MOVEQ.L	#$63-$50,D6
	BSR.W	BOBSYS1
	MOVEQ.L	#0,D2
	MOVE.L	#$10*(COLS/3+1),D1
	MOVEQ.L	#$63-$50,D6
	BSR.W	BOBSYS1
	MOVEQ.L	#$10,D2
	MOVE.L	#$10*(COLS/3-1),D1
	MOVEQ.L	#$60-$50,D6
	BSR.W	BOBSYS1
	MOVEQ.L	#$10,D2
	MOVE.L	#$10*(COLS/3+1),D1
	MOVEQ.L	#$61-$50,D6
	BSR.W	BOBSYS1
	MOVEQ.L	#0,D2
	MOVE.L	#$10*(COLS/3+COLS/3-2),D1
	MOVEQ.L	#$63-$50,D6
	BSR.W	BOBSYS1
	MOVEQ.L	#0,D2
	MOVE.L	#$10*(COLS/3+COLS/3),D1
	MOVEQ.L	#$63-$50,D6
	BSR.W	BOBSYS1
	MOVEQ.L	#$10,D2
	MOVE.L	#$10*(COLS/3+COLS/3-2),D1
	MOVEQ.L	#$60-$50,D6
	BSR.W	BOBSYS1
	MOVEQ.L	#$10,D2
	MOVE.L	#$10*(COLS/3+COLS/3),D1
	MOVEQ.L	#$61-$50,D6
	BSR.W	BOBSYS1

	BSR.W	BLITZONE2
	BRA.S	.CONT4

.3PLYR4	BSR.W	BLITZONE1
	BSR.W	BLITZONE2
	BRA.S	.CONT4

.2PLYR4	BSR.W	BLITZONE2
	BRA.S	.CONT4

.1PLYR4	BSR.W	BLITZONE1

.CONT4
.14	BTST.B	#6,2(A6)
	BNE.S	.14
	MOVE.L	#SCREEN2,$054(A6)	;Adresse des Zielbereiches
	MOVE.L	#SCREEN1,$050(A6)	;Adresse des Quellbereichs 1
	MOVE.L	#0,$064(A6)		;Modulowert QUELLE1/Ziel
	MOVE.W	#$9F0,$040(A6)		;Ziel/Quelle1 aktivieren/verknuepfen
	MOVE.L	#$FFFFFFFF,$044(A6)	;maske setzen
	MOVE.W	#(($F2-$2A)*4*$40)!(SCRWIDTH/2),$58(A6)	;blitter starten

	MOVE.L	#SCREEN2,D7
	LEA.L	SCRBEGIN(PC),A2
	MOVEQ.L	#0,D2
.15	MOVEQ.L	#0,D4
.20	MOVEQ.L	#0,D6
	MOVE.B	(A2,D4.W),D6
	CMP.B	#$40,D6
	BLO.S	.19
	CMP.B	#$42,D6
	BHI.S	.19
	SUB.W	#$40-$15,D6
	MOVE.L	D4,D1
	LSL.L	#4,D1
	MOVEM.L	D2/D4,-(A7)
	BSR.W	BOBSYS1
	MOVEM.L	(A7)+,D2/D4
.19	ADDQ.W	#1,D4
	CMP.W	#COLS-1,D4
	BLS.S	.20
	ADDA.W	#COLS,A2
	ADDQ.W	#8,D2
	CMP.W	#(LINES-1)*8,D2
	BLS.S	.15
.21	BTST.B	#6,2(A6)
	BNE.S	.21

	MOVE.L	#SCREEN3,$054(A6)	;Adresse des Zielbereiches
	MOVE.L	#SCREEN2,$050(A6)	;Adresse des Quellbereichs 1
	MOVE.L	#0,$064(A6)		;Modulowert QUELLE1/Ziel
	MOVE.W	#$9F0,$040(A6)		;Ziel/Quelle1 aktivieren/verknuepfen
	MOVE.L	#$FFFFFFFF,$044(A6)	;maske setzen
	MOVE.W	#(($F2-$2A)*4*$40)!(SCRWIDTH/2),$58(A6)	;blitter starten
.22	BTST.B	#6,2(A6)
	BNE.S	.22

	MOVE.L	#SCREEN4,$054(A6)	;Adresse des Zielbereiches
	MOVE.L	#SCREEN2,$050(A6)	;Adresse des Quellbereichs 1
	MOVE.L	#0,$064(A6)		;Modulowert QUELLE1/Ziel
	MOVE.W	#$9F0,$040(A6)		;Ziel/Quelle1 aktivieren/verknuepfen
	MOVE.L	#$FFFFFFFF,$044(A6)	;maske setzen
	MOVE.W	#(($F2-$2A)*4*$40)!(SCRWIDTH/2),$58(A6)	;blitter starten
.13	BTST	#6,$2(A6)
	BNE.S	.13
	MOVE.L	#$04,RICHTUNG(A4)	;some special inits
	MOVE.W	#$0404,RICHTUNG+4(A4)
	MOVE.B	#$04,RICHTUNG+6(A4)
	CLR.L	CLRKORN+3*4(A4)
	CLR.L	CLRKORN+4*4(A4)
	CLR.L	CLRKORN+5*4(A4)
	CLR.L	CLRKORN+6*4(A4)
	MOVE.B	#$7,STUNNED(A4)
	CLR.B	DAUER(A4)
	CLR.W	DAUER+1(A4)
	CLR.L	DAUER+3(A4)
	CLR.W	STUNCOUNT(A4)
	CLR.W	VANMONSTCOUNT(A4)
	MOVE.W	#(DISPLAYENDE-DISPLAYBALKEN)/4-1,D0
	LEA.L	DISPLAYBALKEN,A0
.29	CLR.L	(A0)+
	DBF	D0,.29

	LEA.L	LABYRBEGIN(PC),A0
	MOVE.W	#LABYRENDE-LABYRBEGIN-1,D0
.28	TST.B	(A0,D0.W)	;IM LABYRINTH DIE NULLEN MIT EINSEN
	BNE.S	.27		;ERSETZEN WEGEN BERECHNUNG DER EXTRAPOSITION
	MOVE.B	#1,(A0,D0.W)
.27	DBF	D0,.28
	
	LEA.L	INGAMELEVEL(PC),A0
	LEA.L	INGAMELOGO+$C*3*SCRWIDTH,A1	;ZEILE
	MOVEQ.L	#$3C,D2				;HOR. POS.
	BSR.W	PRINTINGAMELEVEL

;	LEA.L	HIGHSCORETABLE(PC),A0
	LEA.L	INGAMELOGO+$C*3*SCRWIDTH,A1	;ZEILE
	MOVE.L	#$1F4,D2			;HOR. POS.
	BSR.W	PRINTHIGHEST

	CLR.L	NEWSPECIAL(A4)
	MOVE.B	#8,SPECIALCOUNT(A4)

	CLR.B	BLITUSED(A4)
;	CLR.B	NOYELLOW(A4)
	RTS

BLITZONE1
	MOVEQ.L	#0,D2
	MOVE.L	#$10*(COLS/2-2),D1
	MOVEQ.L	#$63-$50,D6
	BSR.W	BOBSYS1
	MOVEQ.L	#0,D2
	MOVE.L	#$10*(COLS/2),D1
	MOVEQ.L	#$63-$50,D6
	BSR.W	BOBSYS1
	MOVEQ.L	#$10,D2
	MOVE.L	#$10*(COLS/2-2),D1
	MOVEQ.L	#$60-$50,D6
	BSR.W	BOBSYS1
	MOVEQ.L	#$10,D2
	MOVE.L	#$10*(COLS/2),D1
	MOVEQ.L	#$61-$50,D6
	BSR.W	BOBSYS1
	RTS

BLITZONE2
	MOVEQ.L	#0,D2
	MOVEQ.L	#$20,D1
	MOVEQ.L	#$63-$50,D6
	BSR.W	BOBSYS1
	MOVEQ.L	#0,D2
	MOVE.L	#$10*(COLS-4),D1
	MOVEQ.L	#$63-$50,D6
	BSR.W	BOBSYS1
	MOVEQ.L	#$10,D2
	MOVEQ.L	#0,D1
	MOVEQ.L	#$62-$50,D6
	BSR.W	BOBSYS1
	MOVEQ.L	#$10,D2
	MOVEQ.L	#$20,D1
	MOVEQ.L	#$61-$50,D6
	BSR.W	BOBSYS1
	MOVEQ.L	#$10,D2
	MOVE.L	#$10*(COLS-4),D1
	MOVEQ.L	#$60-$50,D6
	BSR.W	BOBSYS1
	MOVEQ.L	#$10,D2
	MOVE.L	#$10*(COLS-2),D1
	MOVEQ.L	#$64-$50,D6
	BSR.W	BOBSYS1
	RTS

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

PRINTHIGHEST
	;add all ingame scores
	LEA	ALLSCORE,A2
	clr.l	(a2)
	moveq	#4-1,d0
	lea	TOTALSCORE(a4),a3
.scadd	move.l	d0,d3
	lsl.l	#2,d3
	lea	4(a3,d3.w),a5
	lea.l	4(a2),a0
	EXTENDCLEAR
	abcd.b	-(a5),-(a0)
	abcd.b	-(a5),-(a0)
	abcd.b	-(a5),-(a0)
	abcd.b	-(a5),-(a0)
	dbf	d0,.scadd
	;compare with hiscore in tab
	move.l	(a2),d4
	cmp.l	highestever(pc),d4
	bhi.s	.sc_hi
	move.l	highestever(pc),d4
.sc_hi

;	MOVE.L	(A0),D4
;	move.l	#0,d4
	ROL.L	#4,D4
	MOVEQ.L	#6,D3
.1	ROL.L	#4,D4
	MOVE.L	D4,D0
	AND.L	#$F,D0
	BSR.S	PRINTLOGONUMBER
	DBF	D3,.1
	RTS

PRINTINGAMELEVEL
	MOVEQ.L	#0,D0
	MOVE.B	(A0),D0
	ADDQ.B	#1,D0
	DIVU.W	#$A,D0
	SWAP	D0
	MOVE.W	D0,-(A7)
	CLR.W	D0
	SWAP	D0
	BSR.S	PRINTLOGONUMBER
	MOVEQ.L	#0,D0
	MOVE.W	(A7)+,D0
;	BSR.S	PRINTLOGONUMBER
;	RTS

PRINTLOGONUMBER	MULU.W	#6*3*4,D0
	ADD.L	#LOGONUMBERS,D0

.11	BTST.B	#6,2(A6)
	BNE.S	.11
	MOVE.W	#SCRWIDTH-4,$066(A6)	;Modulowert des Zielbereiches
	MOVE.W	#SCRWIDTH-4,$060(A6)	;Modulowert des QUELLbereiches 3
	MOVE.L	#$FFFFFFFF,$044(A6)	;maske setzen
	MOVE.L	#0,$062(A6)		;Modulowert des Quellbereichs 1&2

;	MOVE.L	.LETTERTAB(PC,D0.W),D0
	MOVE.L	D2,D1
	LSR.W	#4,D1
	ADD.W	D1,D1
	ADD.L	A1,D1
	MOVE.L	D1,$054(A6)		;Adresse des Zielbereiches	- ziel
	MOVE.L	D1,$048(A6)
	MOVE.W	D2,D1
	LSL.W	#$8,D1
	LSL.W	#$4,D1
	MOVE.L	D0,$050(A6)		;Adresse des Quellbereichs 1	- bob
	MOVE.L	#LOGONUMMASK,$04C(A6)
	MOVE.W	D1,$042(A6)
	OR.W	#$FE2,D1
	MOVE.W	D1,$040(A6)		;fuer Shifter Quelle 1 or mit ($?fc2)
	MOVE.W	#4/2+$6*3*$40,$058(A6)	;blitter starten

	IFNE	BLTST
.TMP	BTST	#6,$2(A6)
	BNE.S	.TMP
	ENDC

	ADD.W	#LOGONUMWIDTH,D2
	RTS

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

BOBSYS1
;AUS ZEITGRUENDEN REGISTER !VOR! AUFRUF RETTEN UND DANACH WIEDERHOLEN
;	d0 = ^bobstart
;!	d1 = x coordinate bob
;!	d2 = y coordinate bob
;	d3 = scrwidth-(bobbreite in byte (nur gerade))
;	d4 = BOBFENSTERFORMAT	;boblaenge in zeilen
;	d5 = ^bobmaske
;!	D6 - NUMMER DES DARZUSTELLENDEN BOBS
;=	D7 - ^BILDSCHIRMANFANG
;=	a6 = $dff000
	
	LEA.L	$0.W,A0
	MOVEQ.L	#0,D3
	MOVE.B	INGAMELEVEL(PC),D3
	LSL.B	#2,D3
	ADD.B	#4,D3
	BSR.W	GETBYTERANDOM
	CMP.B	D3,D0
	BHI.S	.RND1
	LEA.L	(TWRANDOM-TWCHARSET).W,A0
.RND1	LSL.W	#4,D6
	MOVEM.L	.BOBTAB(PC,D6.W),D0/D3-D5	;GET BOBVALUES
	LEA.L	0(A0,D0.L),A0
	MOVE.L	A0,D0
	BRA.W	.2

;--------------------------------------------------------------------------
;^BOBSTART,SCRWIDTH-BOBBREITE IN BYTES,FENSTERFORMAT,^MASKE
.BOBTAB	DC.L	TWCHARSET+$0000,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$0000
	DC.L	TWCHARSET+$0100,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$0100
	DC.L	TWCHARSET+$0200,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$0200
	DC.L	TWCHARSET+$0300,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$0300
	DC.L	TWCHARSET+$0400,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$0400
	DC.L	TWCHARSET+$0500,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$0500
	DC.L	TWCHARSET+$0600,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$0600
	DC.L	TWCHARSET+$0700,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$0700
	DC.L	TWCHARSET+$0800,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$0800
	DC.L	TWCHARSET+$0900,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$0900
	DC.L	TWCHARSET+$0A00,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$0A00
	DC.L	TWCHARSET+$0B00,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$0B00
	DC.L	TWCHARSET+$0C00,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$0C00
	DC.L	TWCHARSET+$0D00,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$0D00
	DC.L	TWCHARSET+$0E00,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$0E00
	DC.L	TWCHARSET+$0F00,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$0F00
	DC.L	TWCHARSET+$1000,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$1000
	DC.L	TWCHARSET+$1100,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$1100
	DC.L	TWCHARSET+$1200,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$1200
	DC.L	TWCHARSET+$1300,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$1300
	DC.L	TWCHARSET+$1400,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$1400
	DC.L	TWCHARSET+$1500,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$1500
	DC.L	TWCHARSET+$1600,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$1600
	DC.L	TWCHARSET+$1700,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$1700
;	DC.L	TWCHARSET+$1800,SCRWIDTH-4,4/2+$10*4*$40,TWCHARMASK+$1800

.2	MOVE.L	D1,D6
	LSR.W	#4,D6
	ADD.W	D6,D6
	ADD.W	D2,D2
	ADD.W	D2,D2
	ADD.L	LINETAB(A4,D2.W),D6
	ADD.L	D7,D6
	LSL.W	#$8,D1
	LSL.W	#$4,D1
.1	BTST.B	#6,2(A6)
	BNE.S	.1
	MOVE.L	D6,$054(A6)	;Adresse des Zielbereiches	- ziel
	MOVE.L	D0,$050(A6)	;Adresse des Quellbereichs 1	- bob
	MOVE.L	D5,$04C(A6)	;                          2	- maske
	MOVE.L	D6,$048(A6)	;                          3	- ziel
	MOVE.W	D3,$066(A6)	;Modulowert des Zielbereiches
	MOVE.W	D3,$060(A6)	;Modulowert des Quellbereichs 3
	MOVE.L	#0,$62(A6)
	MOVE.W	D1,$042(A6)	;Shifter Quelle 2 
	OR.W	#$FE2,D1	;fuer Shifter Quelle 1 or mit ($?fc2)
	MOVE.W	D1,$040(A6)	;Ziel u. Quelle 1-3 aktivieren u. verknuepfen
	MOVE.L	#$FFFFFFFF,$044(A6)  ;maske setzen
	MOVE.W	D4,$058(A6)  	;blitter starten
	RTS

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

SETSPECIAL	BSR.W	GETBYTERANDOM
	CMP.W	#$180,D0
	BHI.S	.1
	TST.B	SPECIALCOUNT(A4)
	BEQ.S	.1
	TST.L	NEWSPECIAL(A4)
	BNE.S	.1
	MOVEQ.L	#0,D0
	MOVE.W	SPECRANDOM(A4),D0
	AND.W	#$1F00*4+$3F,D0
	MOVEQ.L	#0,D1
	MOVE.B	D0,D1
	LSR.W	#8,D0
	CMP.W	#LINES*4,D0
	BHS.S	.1
	CMP.W	#COLS,D1
	BHS.S	.1
	MOVE.L	.LABYRLINE(PC,D0.W),A0
	TST.B	(A0,D1.W)
	BNE.S	.1
	MOVE.B	#$43,(A0,D1.W)
	LSL.W	#2,D0
	LSL.W	#4,D1
	SWAP	D1
	OR.L	D1,D0
	MOVE.L	D0,NEWSPECIAL(A4)
	SUBQ.B	#1,SPECIALCOUNT(A4)
.1	BSR.W	GETBYTERANDOM
	MOVE.W	D0,SPECRANDOM(A4)
	RTS

.LABYRLINE	DC.L	LABYRBEGIN+1*COLS,LABYRBEGIN+2*COLS
	DC.L	LABYRBEGIN+3*COLS,LABYRBEGIN+4*COLS
	DC.L	LABYRBEGIN+5*COLS,LABYRBEGIN+6*COLS
	DC.L	LABYRBEGIN+7*COLS,LABYRBEGIN+8*COLS
	DC.L	LABYRBEGIN+9*COLS,LABYRBEGIN+$A*COLS
	DC.L	LABYRBEGIN+$B*COLS,LABYRBEGIN+$C*COLS
	DC.L	LABYRBEGIN+$D*COLS,LABYRBEGIN+$E*COLS
	DC.L	LABYRBEGIN+$F*COLS,LABYRBEGIN+$10*COLS
	DC.L	LABYRBEGIN+$11*COLS,LABYRBEGIN+$12*COLS
	DC.L	LABYRBEGIN+$13*COLS,LABYRBEGIN+$14*COLS
	DC.L	LABYRBEGIN+$15*COLS,LABYRBEGIN+$16*COLS
	DC.L	LABYRBEGIN+$17*COLS,LABYRBEGIN+$18*COLS
	DC.L	LABYRBEGIN+$19*COLS,LABYRBEGIN+$1A*COLS
	DC.L	LABYRBEGIN+$1B*COLS,LABYRBEGIN+$1C*COLS
	DC.L	LABYRBEGIN+$1D*COLS,LABYRBEGIN+$1E*COLS
	DC.L	LABYRBEGIN+$1F*COLS,LABYRBEGIN+$20*COLS
	DC.L	LABYRBEGIN+$21*COLS,LABYRBEGIN+$22*COLS
	DC.L	LABYRBEGIN+$23*COLS,LABYRBEGIN+$24*COLS
	DC.L	LABYRBEGIN+$25*COLS,LABYRBEGIN+$26*COLS
	DC.L	LABYRBEGIN+$27*COLS,LABYRBEGIN+$28*COLS

MOVEOBJECTS
;	MOVE.W	$DFF006,D0
;	LSR.W	#8,D0
;	CMP.W	#$80,D0
;	BNE.S	MOVEOBJECTS
;	MOVE.W	#$F,$DFF180

	;KORNKOLLISION PLYR1
	MOVE.W	OBJHORPOS+3*2(A4),D2
	MOVE.W	D2,D0
	AND.W	#$F,D0
	CMP.W	#MINHORPOS,D0
	BNE.S	.1
	MOVE.W	OBJVERTPOS+3*2(A4),D1
	MOVE.W	D1,D0
	AND.W	#$F,D0
	CMP.W	#MINVERTPOS,D0
	BNE.S	.1
	BSR.W	CHECKPOS		;HOLT AKTUELLES FELD IN A0 UND D3
	MOVEQ.L	#$3,D5
	TST.B	DAUER+3(A4)
	BNE.S	.1
	BSR.W	EATKORN

	;KORNKOLLISION PLYR2
.1	MOVE.W	OBJHORPOS+4*2(A4),D2
	MOVE.W	D2,D0
	AND.W	#$F,D0
	CMP.W	#MINHORPOS,D0
	BNE.S	.2
	MOVE.W	OBJVERTPOS+4*2(A4),D1
	MOVE.W	D1,D0
	AND.W	#$F,D0
	CMP.W	#MINVERTPOS,D0
	BNE.S	.2
	BSR.W	CHECKPOS		;HOLT AKTUELLES FELD IN A0 UND D3
	MOVEQ.L	#$4,D5
	TST.B	DAUER+4(A4)
	BNE.S	.2
	BSR.W	EATKORN

	;KORNKOLLISION PLYR3
.2	MOVE.W	OBJHORPOS+5*2(A4),D2
	MOVE.W	D2,D0
	AND.W	#$F,D0
	CMP.W	#MINHORPOS,D0
	BNE.S	.3
	MOVE.W	OBJVERTPOS+5*2(A4),D1
	MOVE.W	D1,D0
	AND.W	#$F,D0
	CMP.W	#MINVERTPOS,D0
	BNE.S	.3
	BSR.W	CHECKPOS		;HOLT AKTUELLES FELD IN A0 UND D3
	MOVEQ.L	#$5,D5
	TST.B	DAUER+5(A4)
	BNE.S	.3
	BSR.W	EATKORN

	;KORNKOLLISION PLYR4
.3	MOVE.W	OBJHORPOS+6*2(A4),D2
	MOVE.W	D2,D0
	AND.W	#$F,D0
	CMP.W	#MINHORPOS,D0
	BNE.S	.4
	MOVE.W	OBJVERTPOS+6*2(A4),D1
	MOVE.W	D1,D0
	AND.W	#$F,D0
	CMP.W	#MINVERTPOS,D0
	BNE.S	.4
	BSR.W	CHECKPOS		;HOLT AKTUELLES FELD IN A0 UND D3
	MOVEQ.L	#$6,D5
	TST.B	DAUER+6(A4)
	BNE.S	.4
	BSR.W	EATKORN

;OBJECTMOVEMENT
.4	BSR.W	SETSPECIAL
	MOVEQ.L	#0,D5
	MOVE.B	GAMEOBJ(A4),D5
.5	MOVE.L	D5,D2
	TST.B	DAUER(A4,D5.W)
	BNE.S	.7
	ADD.W	D2,D2
	MOVE.W	OBJHORPOS(A4,D2.W),D0
	AND.W	#$1F,D0
	CMP.W	#MINHORPOS,D0
	BNE.S	.6
	MOVE.W	OBJVERTPOS(A4,D2.W),D0
	AND.W	#$1F,D0
	CMP.W	#MINVERTPOS,D0
	BNE.S	.6
	BSR.W	CHECKRICHTUNG
.6	MOVE.L	D5,D2
	MOVEQ.L	#0,D1
	MOVE.B	RICHTUNG(A4,D2.W),D1
	ADD.W	D1,D1
	ADD.W	D2,D2
	TST.W	DBLMOVE(A4,D2.W)
	BNE.S	.25
	MOVE.W	.ADDHOR(PC,D1.W),D3
	ADD.W	D3,OBJHORPOS(A4,D2.W)
	MOVE.W	.ADDVERT(PC,D1.W),D3
	ADD.W	D3,OBJVERTPOS(A4,D2.W)
	BRA.S	.7

.25	MOVE.W	.ADDHOR(PC,D1.W),D3
	ADD.W	D3,D3
	ADD.W	D3,OBJHORPOS(A4,D2.W)
	MOVE.W	.ADDVERT(PC,D1.W),D3
	ADD.W	D3,D3
	ADD.W	D3,OBJVERTPOS(A4,D2.W)
.7	SUBQ.B	#1,D5
	BPL.S	.5
	BRA.S	.14

.ADDHOR	DC.W	1,-1,0,0,0,0
.ADDVERT	DC.W	0,0,1,-1,0,0

.14	TST.L	DRAWJOIST(A4)
	BNE.W	.13
	TST.W	VANMONSTCOUNT(A4)
	BEQ.S	.DC1
	SUBQ.W	#1,VANMONSTCOUNT(A4)
.DC1	TST.W	STUNCOUNT(A4)
	BEQ.S	.DC2
	SUBQ.W	#1,STUNCOUNT(A4)
.DC2	TST.W	DBLSCOR+6(A4)
	BEQ.S	.DC3
	SUBQ.W	#1,DBLSCOR+6(A4)
.DC3	TST.W	DBLSCOR+8(A4)
	BEQ.S	.DC4
	SUBQ.W	#1,DBLSCOR+8(A4)
.DC4	TST.W	DBLSCOR+$A(A4)
	BEQ.S	.DC5
	SUBQ.W	#1,DBLSCOR+$A(A4)
.DC5	TST.W	DBLSCOR+$C(A4)
	BEQ.S	.DC6
	SUBQ.W	#1,DBLSCOR+$C(A4)
.DC6	TST.W	FREEZETIME+6(A4)
	BEQ.S	.DC7
	SUBQ.W	#1,FREEZETIME+6(A4)
	BNE.S	.DC7
	MOVE.B	STORERICHTUNG+3(PC),RICHTUNG+3(A4)
.DC7	TST.W	FREEZETIME+8(A4)
	BEQ.S	.DC8
	SUBQ.W	#1,FREEZETIME+8(A4)
	BNE.S	.DC8
	MOVE.B	STORERICHTUNG+4(PC),RICHTUNG+4(A4)
.DC8	TST.W	FREEZETIME+$A(A4)
	BEQ.S	.DC9
	SUBQ.W	#1,FREEZETIME+$A(A4)
	BNE.S	.DC9
	MOVE.B	STORERICHTUNG+5(PC),RICHTUNG+5(A4)
.DC9	TST.W	FREEZETIME+$C(A4)
	BEQ.S	.DC10
	SUBQ.W	#1,FREEZETIME+$C(A4)
	BNE.S	.DC10
	MOVE.B	STORERICHTUNG+6(PC),RICHTUNG+6(A4)
.DC10	TST.W	DBLMOVE+6(A4)
	BEQ.S	.DC11
	SUBQ.W	#1,DBLMOVE+6(A4)
.DC11	TST.W	DBLMOVE+8(A4)
	BEQ.S	.DC12
	SUBQ.W	#1,DBLMOVE+8(A4)
.DC12	TST.W	DBLMOVE+$A(A4)
	BEQ.S	.DC13
	SUBQ.W	#1,DBLMOVE+$A(A4)
.DC13	TST.W	DBLMOVE+$C(A4)
	BEQ.S	.DC14
	SUBQ.W	#1,DBLMOVE+$C(A4)
.DC14

	MOVEQ.L	#0,D0
	MOVE.B	GAMEOBJ(PC),D0
	SUBQ.W	#3,D0
	ADD.W	D0,D0
	JMP	.PLYR(PC,D0.W)

.PLYR	BRA.S	.P1
	BRA.S	.P2
	BRA.S	.P3
.PLYREND

	IFNE	.PLYREND-.PLYR-6
	FAIL
	ENDC

.P4	MOVE.W	LENGTHJOIST+6(A4),D1
	BEQ.S	.20
	SUBQ.W	#1,LENGTHJOIST+6(A4)
	LEA.L	DISPLAYBALKEN+SCRWIDTH*7/4,A3
	BSR.S	.DELBALKEN
.20
.P3	MOVE.W	LENGTHJOIST+4(A4),D1
	BEQ.S	.21
	SUBQ.W	#1,LENGTHJOIST+4(A4)
	LEA.L	DISPLAYBALKEN+SCRWIDTH*6/4,A3
	BSR.S	.DELBALKEN
.21
.P2	MOVE.W	LENGTHJOIST+2(A4),D1
	BEQ.S	.22
	SUBQ.W	#1,LENGTHJOIST+2(A4)
	LEA.L	DISPLAYBALKEN+SCRWIDTH*5/4,A3
	BSR.S	.DELBALKEN
.22
.P1	MOVE.W	LENGTHJOIST(A4),D1
	BEQ.S	.23
	SUBQ.W	#1,LENGTHJOIST(A4)
	LEA.L	DISPLAYBALKEN+SCRWIDTH,A3
	BSR.S	.DELBALKEN
.23
.13	IFEQ	FINAL
;	MOVE.W	#$0,$DFF180
	ENDC

	RTS

.DELBALKEN
	LSR.W	#2,D1
	MOVEQ.L	#7,D2
	SUB.W	D1,D2
	LSR.W	#3,D1
	BCLR.B	D2,-SCRWIDTH(A3,D1.W)
	BCLR.B	D2,(A3,D1.W)
	BCLR.B	D2,SCRWIDTH(A3,D1.W)
	LEA.L	3*SCRWIDTH(A3),A3
	BCLR.B	D2,-SCRWIDTH(A3,D1.W)
	BCLR.B	D2,(A3,D1.W)
	BCLR.B	D2,SCRWIDTH(A3,D1.W)
	LEA.L	3*SCRWIDTH(A3),A3
	BCLR.B	D2,-SCRWIDTH(A3,D1.W)
	BCLR.B	D2,(A3,D1.W)
	BCLR.B	D2,SCRWIDTH(A3,D1.W)
	LEA.L	3*SCRWIDTH(A3),A3
	BCLR.B	D2,-SCRWIDTH(A3,D1.W)
	RTS

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

MOVETHRU	DC.B	$50,$50,$50,$51,$51,$51,$51
NACHBAR	DC.B	COLS+2,COLS,2*COLS+1,1,COLS+1,COLS+1
		;RIGHT,LEFT,DOWN   ,UP,CALM  ,STUNNED


;< D5 = ACTUELLES OBJEKT

	EVEN
CHECKRICHTUNG	MOVE.L	#$FFFFFFFF,RIGHTMOV(A4)
	MOVE.L	D5,D2
	MOVE.B	MOVETHRU(PC,D2.W),D4
	ADD.W	D2,D2
	MOVE.W	OBJVERTPOS(A4,D2.W),D1
	MOVE.W	OBJHORPOS(A4,D2.W),D2
	MOVEQ.L	#0,D0
	SUB.W	#MINVERTPOS,D1
	LSR.W	#4-2,D1
	ADDQ.W	#4,D1
	MOVE.W	D2,D0 
	SUB.W	#MINHORPOS,D0 
	LSR.W	#4,D0 
	ADDQ.W	#1,D0
	ADD.L	.LABYRLINE(PC,D1.W),D0
	MOVE.L	D0,A0
	ST.B	COUNTRICHTUNG(A4)
	MOVEQ.L	#3,D2
.1	MOVEQ.L	#0,D1
	MOVE.B	NACHBAR(PC,D2.W),D1
	MOVE.B	-COLS-1(A0,D1.W),D0
	CMP.B	D4,D0
	BHS.S	.2
	CLR.B	RIGHTMOV(A4,D2.W)
	ADDQ.B	#1,COUNTRICHTUNG(A4)
.2	DBF	D2,.1
	MOVE.L	D5,D2
	ADD.W	D2,D2
	ADD.W	D2,D2
	JMP	.OBJ(PC,D2.W)

.OBJ	BRA.W	.MAN
	BRA.W	.ARROW
	BRA.W	.GHOST
	BRA.W	.PLYR1
	BRA.W	.PLYR2
	BRA.W	.PLYR3
.OBJTMP	BRA.W	.PLYR4

	IFNE	.OBJTMP-.OBJ-2*$C
	FAIL
	ENDC

.LABYRLINE	;DC.L	0,0,0
	DC.L	LABYRBEGIN+1*COLS,LABYRBEGIN+2*COLS
	DC.L	LABYRBEGIN+3*COLS,LABYRBEGIN+4*COLS
	DC.L	LABYRBEGIN+5*COLS,LABYRBEGIN+6*COLS
	DC.L	LABYRBEGIN+7*COLS,LABYRBEGIN+8*COLS
	DC.L	LABYRBEGIN+9*COLS,LABYRBEGIN+$A*COLS
	DC.L	LABYRBEGIN+$B*COLS,LABYRBEGIN+$C*COLS
	DC.L	LABYRBEGIN+$D*COLS,LABYRBEGIN+$E*COLS
	DC.L	LABYRBEGIN+$F*COLS,LABYRBEGIN+$10*COLS
	DC.L	LABYRBEGIN+$11*COLS,LABYRBEGIN+$12*COLS
	DC.L	LABYRBEGIN+$13*COLS,LABYRBEGIN+$14*COLS
	DC.L	LABYRBEGIN+$15*COLS,LABYRBEGIN+$16*COLS
	DC.L	LABYRBEGIN+$17*COLS,LABYRBEGIN+$18*COLS
	DC.L	LABYRBEGIN+$19*COLS,LABYRBEGIN+$1A*COLS
	DC.L	LABYRBEGIN+$1B*COLS,LABYRBEGIN+$1C*COLS
	DC.L	LABYRBEGIN+$1D*COLS,LABYRBEGIN+$1E*COLS
	DC.L	LABYRBEGIN+$1F*COLS,LABYRBEGIN+$20*COLS
	DC.L	LABYRBEGIN+$21*COLS,LABYRBEGIN+$22*COLS
	DC.L	LABYRBEGIN+$23*COLS,LABYRBEGIN+$24*COLS
	DC.L	LABYRBEGIN+$25*COLS,LABYRBEGIN+$26*COLS
	DC.L	LABYRBEGIN+$27*COLS,LABYRBEGIN+$28*COLS

.MAN
.ARROW
.GHOST	MOVEQ.L	#0,D0
	MOVE.B	COUNTRICHTUNG(A4),D0
	BMI.S	.5
;	BEQ.S	.6
	TST.W	RIGHTMOV(A4)
	BEQ.S	.7
	TST.W	RIGHTMOV+2(A4)
	BNE.S	.6
.7	MOVE.B	RICHTUNG(A4,D5.W),D0	;VERHINDERN, DASS OBJEKT ZURÜCKLÄUFT,
	EOR.B	#1,D0			;WENN MEHR ALS EINE RICHTUNG MÖGLICH
	ST.B	RIGHTMOV(A4,D0.W)
.6	BSR.W	GETBYTERANDOM
	AND.W	#3,D0
	TST.B	RIGHTMOV(A4,D0.W)
	BNE.S	.6
	MOVE.B	D0,RICHTUNG(A4,D5.W)
.5	RTS

.PLYR4	BTST.B	#7,LIVESPL1+6(A4)
	BNE.S	.5
	BSR.W	INGAMEJOY
	BRA.S	.ALLPLYR

.PLYR2	BTST.B	#7,LIVESPL1+2(A4)
	BNE.S	.5
	BSR.W	INGAMEJOY
	BRA.S	.ALLPLYR

.PLYR3	BTST.B	#7,LIVESPL1+4(A4)
	BNE.S	.5
	BSR.W	INGAMEJOY
	BRA.S	.ALLPLYR

.PLYR1	BTST.B	#7,LIVESPL1(A4)
	BNE.S	.5
	BSR.W	INGAMEJOY
.ALLPLYR
	MOVEQ.L	#1,D2
	LSR.B	#1,D0
	BCS.S	.11
	TST.B	UPMOV(A4)
	BNE.S	.11
	MOVEQ.L	#3,D1
	SUBQ.B	#1,D2
.11	LSR.B	#1,D0
	BCS.S	.12
	TST.B	DOWNMOV(A4)
	BNE.S	.12
	MOVEQ.L	#2,D1
	SUBQ.B	#1,D2
.12	LSR.B	#1,D0
	BCS.S	.13
	TST.B	LEFTMOV(A4)
	BNE.S	.13
	MOVEQ.L	#1,D1
	SUBQ.B	#1,D2
.13	LSR.B	#1,D0
	BCS.S	.14
	TST.B	RIGHTMOV(A4)
	BNE.S	.14
	MOVEQ.L	#0,D1
	SUBQ.B	#1,D2
.14	TST.B	D2
	BEQ.S	.15
	MOVEQ.L	#4,D1
	MOVE.B	VBITIMER1(PC),TIMQUIET(A4,D5.W)
.15	MOVE.B	D1,RICHTUNG(A4,D5.W)
	RTS

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

;AUS CHECKPOS ERHALTEN:
;=	D3 GIBT POSITION FÜR KORNBOB ZUM ENTFERNEN AN
;=	A0 ZEIGT AUF TABELLENPOSITION IN LABYRBEGIN 
;<	D5 AKTUELLES OBJEKT

EATKORN	MOVE.L	D5,D2
	MOVE.B	(A0),D0
	CMP.B	#$41,D0
	BEQ.W	NORMALKORN
	CMP.B	#$40,D0
	BEQ.W	BONUSK
	CMP.B	#$42,D0
	BEQ.W	STUNKORN
	CMP.B	#$43,D0
	BEQ.S	SPECIALKORN
	RTS

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

SPECIALKORN	MOVEQ.L	#50,D0	;D5-PLAYER
	ADD.W	D2,D2		;D2-PLAYER*2
	TST.W	DBLSCOR(A4,D2.W)
	BEQ.S	.1
	ADD.W	D0,D0
.1	ADD.W	D0,TEMPSCORE(A4,D2.W)
	BSR.W	GETBYTERANDOM
	AND.W	#%1110,D0
	JMP	.SPECIAL(PC,D0.W)

.SPECIAL
	BRA.S	.DBLSC
	BRA.S	.DBLSPD
	BRA.S	.DBLSPD
	BRA.S	.DBLSC
	BRA.S	.FREEZE
	BRA.S	.VANMONST
	BRA.S	.MONSTEREAT
	BRA.S	.EXTRALIVE
.SPECIALEND

	IFNE	.SPECIALEND-.SPECIAL-$10
	FAIL
	ENDC

.DBLSPD	MOVE.W	#$4*$9C,DBLMOVE(A4,D2.W)
	MOVE.B	#$10,KINDOFJOIST-3(A4,D5.W)
	ST.B	DRAWJOIST-3(A4,D5.W)
	BRA.W	.SPEND

.FREEZE	MOVE.W	#$4*$9C,FREEZETIME(A4,D2.W)
	MOVE.B	#$C,KINDOFJOIST-3(A4,D5.W)
	ST.B	DRAWJOIST-3(A4,D5.W)
	MOVE.B	RICHTUNG(A4,D5.W),STORERICHTUNG(A4,D5.W)
	MOVE.B	#$02,DAUER(A4,D5.W)
	MOVE.B	#$5,RICHTUNG(A4,D5.W)
	BRA.S	.SPEND

.DBLSC	MOVE.W	#$4*$9C,DBLSCOR(A4,D2.W)
	MOVE.B	#4,KINDOFJOIST-3(A4,D5.W)
	ST.B	DRAWJOIST-3(A4,D5.W)
	BRA.S	.SPEND

.VANMONST	MOVE.W	#$4*$9C,VANMONSTCOUNT(A4)
	MOVE.L	#$08080808,KINDOFJOIST(A4)
	MOVEQ.L	#-1,D0
	MOVE.L	D0,DRAWJOIST(A4)
	BRA.S	.SPEND

.EXTRALIVE
	BSR.W	GETBYTERANDOM
	TST.B	D0
	BMI.S	.EXTRASCORE
	ADDQ.B	#1,LIVESPL1-6(A4,D2.W)
	ST.B	CHANGELIVES(A4)
	BRA.S	.SPEND

.EXTRASCORE
	ADD.W	#50,COUNTSCOR-6(A4,D2.W)
	BRA.S	.SPEND

.MONSTEREAT	CLR.B	DAUER(A4)
	CLR.W	DAUER+1(A4)
	CLR.L	DAUER+3(A4)
	CLR.L	FREEZETIME+6(A4)
	CLR.L	FREEZETIME+$A(A4)
	MOVEQ.L	#-1,D0
	MOVE.L	D0,DRAWJOIST(A4)
	CLR.L	KINDOFJOIST(A4)
	MOVE.W	#$9C*4,STUNCOUNT(A4)
	CLR.B	NRSTUN(A4)
	MOVE.B	#$7,STUNNED(A4)

.SPEND	CLR.B	(A0)
	CMP.B	#$43,COLS(A0)
	BNE.S	.SPEND1
	BSET.L	#$1F,D3		;WENN UNTER BONUSSYMBOL NOCH EIN BONUSSYMBOL,
				;DANN NUR 8 ZEILEN LÖSCHEN
.SPEND1	ADD.W	D2,D2		;D2-PLYR*4
	LEA.L	CLRKORN(PC),A3
	MOVE.L	D3,(A3,D2.W)
	RTS

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

STUNKORN	CLR.B	DAUER(A4)
	CLR.W	DAUER+1(A4)
	CLR.L	DAUER+3(A4)
	CLR.L	FREEZETIME+6(A4)
	CLR.L	FREEZETIME+$A(A4)
	MOVEQ.L	#-1,D0
	MOVE.L	D0,DRAWJOIST(A4)
	CLR.L	KINDOFJOIST(A4)
	MOVE.W	#$9C*4,STUNCOUNT(A4)
	CLR.B	NRSTUN(A4)
	MOVE.B	#$7,STUNNED(A4)

NORMALKORN	MOVEQ.L	#1,D0
	BRA.S	KORN

BONUSK	MOVEQ.L	#$A,D0
KORN	;ST	NEWTONE(A4,D2.W)
	MOVE.B	D2,LASTKORNPLYR(A4)
	ADD.W	D2,D2
	TST.W	DBLSCOR(A4,D2.W)
	BEQ.S	.1
	ADD.W	D0,D0
.1	ADD.W	D0,TEMPSCORE(A4,D2.W)
	CLR.B	(A0)
	CMP.B	#$43,COLS(A0)
	BNE.S	.KORN1
	BSET.L	#$1F,D3		;WENN UNTER KORNSYMBOL EIN BONUSSYMBOL, DANN
				;NUR 8 ZEILEN LÖSCHEN
.KORN1	ADD.W	D2,D2
	LEA.L	CLRKORN(PC),A3
	MOVE.L	D3,(A3,D2.W)
	SUBQ.W	#1,KORNZAHL(A4)
	RTS

;ANFTONHOEHE	DC.W	0,0,0,$D8,$D8,$D8,$D8

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

CHECKPOS	;FESTSTELLUNG DER POSITION EINES OBJEKTES ÜBER SPIELFELD
			;WERTEBEREICH: MINVERT(D1)/HOR(D2)POS BIS MAXVERTPOS

	MOVEQ.L	#0,D0
	SUB.W	#MINVERTPOS,D1 
	LSR.W	#4-2,D1			;WEGEN LABYRLINE.L
	ADDQ.W	#4,D1
	MOVE.W	D2,D0
	SUB.W	#MINHORPOS,D0
	LSR.W	#4,D0
	ADDQ.W	#1,D0
	MOVE.W	D0,D3
	LSL.W	#4,D3
	SWAP	D3
	MOVE.W	D1,D3
	LSL.W	#4-2,D3
	ADD.L	.LABYRLINE(PC,D1.W),D0
	MOVE.L	D0,A0
	RTS

.LABYRLINE	DC.L	LABYRBEGIN+1*COLS,LABYRBEGIN+2*COLS
	DC.L	LABYRBEGIN+3*COLS,LABYRBEGIN+4*COLS
	DC.L	LABYRBEGIN+5*COLS,LABYRBEGIN+6*COLS
	DC.L	LABYRBEGIN+7*COLS,LABYRBEGIN+8*COLS
	DC.L	LABYRBEGIN+9*COLS,LABYRBEGIN+$A*COLS
	DC.L	LABYRBEGIN+$B*COLS,LABYRBEGIN+$C*COLS
	DC.L	LABYRBEGIN+$D*COLS,LABYRBEGIN+$E*COLS
	DC.L	LABYRBEGIN+$F*COLS,LABYRBEGIN+$10*COLS
	DC.L	LABYRBEGIN+$11*COLS,LABYRBEGIN+$12*COLS
	DC.L	LABYRBEGIN+$13*COLS,LABYRBEGIN+$14*COLS
	DC.L	LABYRBEGIN+$15*COLS,LABYRBEGIN+$16*COLS
	DC.L	LABYRBEGIN+$17*COLS,LABYRBEGIN+$18*COLS
	DC.L	LABYRBEGIN+$19*COLS,LABYRBEGIN+$1A*COLS
	DC.L	LABYRBEGIN+$1B*COLS,LABYRBEGIN+$1C*COLS
	DC.L	LABYRBEGIN+$1D*COLS,LABYRBEGIN+$1E*COLS
	DC.L	LABYRBEGIN+$1F*COLS,LABYRBEGIN+$20*COLS
	DC.L	LABYRBEGIN+$21*COLS,LABYRBEGIN+$22*COLS
	DC.L	LABYRBEGIN+$23*COLS,LABYRBEGIN+$24*COLS
	DC.L	LABYRBEGIN+$25*COLS,LABYRBEGIN+$26*COLS
	DC.L	LABYRBEGIN+$27*COLS,LABYRBEGIN+$28*COLS

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

SCHLUSSLEVEL	EQU	$F
;SCHLUSSLEVEL	EQU	0

NEWLEVEL	TST.W	KORNZAHL(A4)
	BNE.W	.1
;	CLR.B	MOVEMENT(A4)
	MOVEQ.L	#0,D2
	MOVE.B	LASTKORNPLYR(A4),D2
	MOVEQ.L	#100,D0
	ADD.W	D2,D2
	TST.W	DBLSCOR(A4,D2.W)
	BEQ.S	.3
	ADD.W	D0,D0
.3	ADD.W	D0,TEMPSCORE(A4,D2.W)
.2	CLR.B	MOVEMENT(A4)
.5	TST.W	COUNTSCOR(A4)
	BNE.S	.2
	TST.W	COUNTSCOR+2(A4)
	BNE.S	.2
	TST.W	COUNTSCOR+4(A4)
	BNE.S	.2
	TST.W	COUNTSCOR+6(A4)
	BNE.S	.2
	cmp.b	#SCHLUSSLEVEL,INGAMELEVEL(A4)
	bne.s	.4
;reward lives in last level
	tst.b	LIVESPL1(a4)
	beq.s	.rl1
	bmi.s	.rl1
	sub.b	#1,LIVESPL1(A4)
	move.w	#500,COUNTSCOR(A4)
	st	CHANGELIVES(A4)

.rl1
	tst.b	LIVESPL2(a4)
	beq.s	.rl2
	bmi.s	.rl2
	sub.b	#1,LIVESPL2(A4)
	move.w	#500,COUNTSCOR+2(A4)
	st	CHANGELIVES(A4)

.rl2
	tst.b	LIVESPL3(a4)
	beq.s	.rl3
	bmi.s	.rl3
	sub.b	#1,LIVESPL3(A4)
	move.w	#500,COUNTSCOR+4(A4)
	st	CHANGELIVES(A4)

.rl3
	tst.b	LIVESPL4(a4)
	beq.s	.rl4
	bmi.s	.rl4
	sub.b	#1,LIVESPL4(A4)
	move.w	#500,COUNTSCOR+6(A4)
	st	CHANGELIVES(A4)

.rl4	tst.b	CHANGELIVES(A4)
	beq.s	.4
	bsr	DISPLIVES
	bra.w	.5

.4
	ST.B	NOYELLOW(A4)
	BSR.W	FADEINGOUT
 	CMP.B	#SCHLUSSLEVEL,INGAMELEVEL(A4)
	BEQ.S	.SCHLUSS
	BSR.W	SETNEWLEVEL
	CMP.B	#$8,INGAMELEVEL(A4)
	BNE.S	.NOCHANGE
	CLR.B	ORIGMONSTSET(A4)
	LEA.L	ORIGMONSTER(PC),A0
	LEA.L	EXGMONSTER(PC),A1
	MOVE.L	#(EXGMONSTEREND-EXGMONSTER)/4,D1
.CHG1	MOVE.L	(A0),D0
	MOVE.L	(A1),(A0)+
	MOVE.L	D0,(A1)+
	DBF	D1,.CHG1
	LEA.L	ORIGIMAGE,A0
	LEA.L	EXGIMAGE,A1
	MOVE.L	#(EXGIMAGEEND-EXGIMAGE)/4,D1
.CHG2	MOVE.L	(A0),D0
	MOVE.L	(A1),(A0)+
	MOVE.L	D0,(A1)+
	DBF	D1,.CHG2
.NOCHANGE
	BSR.W	MAKELABYR
	BSR.W	SETOBJSTART
	BSR.W	FADEINGIN
	CLR.B	NOYELLOW(A4)
	ST	MOVEMENT(A4)
	ZEROCLEAR
.1	RTS

.SCHLUSS
	st	showendpart
	ZEROSET
	RTS
;---------------------------------------------------------------------

TIMERAZERO	DC.B	0
	EVEN

;---------------------------------------------------------------------


OTHER
;	IFEQ	FINAL
;	CLR.B	.TEMPX(A4)
;	TST.B	TIMERAZERO(A4)
;	BEQ.S	.EX
;	ST	.TEMPX(A4)
;.EX	BRA.S	.1
;
;.TEMPX	DC.W	0
;	ENDC
;

	TST.B	TIMERAZERO(A4)
	BEQ.S	.1
	MOVE.W	#$2000,D1

;CIABCRA:
;BIT 7 = 0 - NICHT VERWENDET
;SPMODE = 0
;INMODE = 0
;FORCE LOAD = 0 BZW. 1
;RUNMODE = 1 :ONE-SHOT
;OUTMODE = 0
;PBON = 0
;START = 1
;GESAMT: $BFDE00 = #%00001001 = $9 ODER #%00011001 = $19
	MOVE.B	#$8,$BFDE00
	MOVE.B	D1,$BFD400
	LSR.W	#8,D1
	MOVE.B	D1,$BFD500
	MOVE.B	#$81,$BFDD00
	CLR.B	TIMERAZERO
	MOVE.B	#$19,$BFDE00

.1	MOVEQ.L	#$40,D0
	BSR.W	KEYCOMP
	BNE.S	.4
	CLR.B	MOVEMENT(A4)
.5	BSR.S	.4
	MOVEQ.L	#$40,D0
	BSR.W	KEYCOMP
	BEQ.S	.5
.6	BSR.S	.4
	MOVEQ.L	#$17,D0
	BSR.W	KEYCOMP
	BNE.S	.20
.21	BSR.S	.4
	MOVEQ.L	#$17,D0
	BSR.W	KEYCOMP
	BEQ.S	.21
	BSR.W	REQUEST
.20	MOVEQ.L	#$40,D0
	BSR.W	KEYCOMP
	BNE.S	.6
.7	BSR.S	.4
	MOVEQ.L	#$40,D0
	BSR.W	KEYCOMP
	BEQ.S	.7
	ST.B	MOVEMENT(A4)
	RTS

.4	;EXTRALIVESCHECK
	MOVEQ.L	#0,D0
	MOVE.B	TOTALSCORE+1(A4),D0
	LSR.B	#4,D0
	CMP.B	NEW100000(A4),D0
	BNE.S	.8
	MOVEQ.L	#0,D2
	BSR.B	NEXT100000
.8	MOVE.B	TOTALSCORE+1+4(A4),D0
	LSR.B	#4,D0
	CMP.B	NEW100000+2(A4),D0
	BNE.S	.9
	MOVEQ.L	#2,D2
	BSR.B	NEXT100000
.9	MOVE.B	TOTALSCORE+1+8(A4),D0
	LSR.B	#4,D0
	CMP.B	NEW100000+4(A4),D0
	BNE.S	.12
	MOVEQ.L	#4,D2
	BSR.B	NEXT100000
.12	MOVE.B	TOTALSCORE+1+$C(A4),D0
	LSR.B	#4,D0
	CMP.B	NEW100000+6(A4),D0
	BNE.S	.13
	MOVEQ.L	#6,D2
	BSR.B	NEXT100000
.13	BSR.W	DISPLIVES
	MOVEQ.L	#$45,D0
	BSR.W	KEYCOMP
	BNE.S	.10
.11	MOVEQ.L	#$45,D0
	BSR.W	KEYCOMP
	BEQ.S	.11
	CLR.B	MOVEMENT(A4)
	BSR.W	FADEINGOUT
	
	tst.b	MODLOADED
	beq.s	.hie5
	sf	MODLOADED
	movem.l	d0-a6,-(a7)
	jsr	ende
	movem.l	(a7)+,d0-a6
.hie5
	st	hiescape
	bsr	hidisplay
	MOVE.L	OSSTACK(PC),A7
	BRA.W	RESTART

.10	RTS

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

NEXT100000	ADDQ.B	#1,LIVESPL1(A4,D2.W)
	MOVE.B	NEW100000(A4,D2.W),D0
	ADDQ.B	#3,D0
	CMP.B	#$A,D0
	BLO.S	.1
	SUB.L	#$A,D0
.1	MOVE.B	D0,NEW100000(A4,D2.W)
	ST.B	CHANGELIVES(A4)
	RTS

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

;SPEED	MIT NUR CHIP UND 4 SPIELERN MIN. $0A80
;	MIT NUR CHIP UND 2 SPIELERN MIN. $0680
;	MIT 16-BIT-FAST UND 4 SPIELERN $0400
;	OPTISCH VOM ATARI HER ZWISCHEN $2A00 UND $0B00


;SPEED	DC.W	$2A00,$27C9,$2592,$235B
;	DC.W	$2124,$1EED,$1CB6,$1A80
;	DC.W	$1849,$1612,$13DB,$11A4
;	DC.W	$0F6D,$0D36,$0B00,$0A80,$0A00

SPEED	DC.W	$2A00,$26F3,$22AF,$1F85
	DC.W	$1CA4,$1A07,$17A7,$157F
	DC.W	$1388,$11C0,$1021,$0EA8
	DC.W	$0D52,$0C1B,$0B00,$0A80,$0A00

INT6	MOVEM.L	D0-D7/A0-A6,-(A7)
	MOVE.W	$DFF01E,D0
	BTST	#$D,D0
	BEQ.S	.1
	MOVE.W	#$2000,$DFF09C
	MOVE.B	$BFDD00,D0
	BTST	#$0,D0
	BEQ.S	.2

	LEA.L	LINETAB-$7E(PC),A4
	MOVEQ.L	#0,D2
	MOVE.B	TEMPLEVEL(A4),D2
	ADD.B	D2,D2
	MOVE.W	SPEED(PC,D2.W),D1
;SYNCHRONISIERT MIT CIABTIMERA
;

;CIABCRA:
;BIT 7 = 0 - NICHT VERWENDET
;SPMODE = 0
;INMODE = 0
;FORCE LOAD = 0 BZW. 1
;RUNMODE = 1 :ONE-SHOT
;OUTMODE = 0
;PBON = 0
;START = 1
;GESAMT: $BFDE00 = #%00001001 = $9 ODER #%00011001 = $19
	MOVE.B	#$8,$BFDE00
	MOVE.B	D1,$BFD400
	LSR.W	#8,D1
	MOVE.B	D1,$BFD500
	MOVE.B	#$81,$BFDD00
;	CLR.B	TIMERAZERO
	MOVE.B	#$19,$BFDE00
	TST.B	MOVEMENT(A4)
	BEQ.S	.2

	BSR.W	MOVEOBJECTS
;	ST.B	TIMERAZERO
.2	MOVEM.L	(A7)+,D0-D7/A0-A6
	RTE

.1	MOVE.W	#$2000,$DFF09C
	MOVEM.L	(A7)+,D0-D7/A0-A6
	RTE

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

SETINT236 ;SET INTERRUPTS
	LEA	$DFF000,A6
	MOVE.W	#$7FFF,$9A(A6)
	BSR.W	WAITLINE0
	MOVE.W	#$7FFF,$96(A6)
	MOVE.W	#DMASET!$8220,$96(A6)	; DMA Control data
	LEA	VBI(PC),A0
	MOVE.L	A0,$6C.W
	LEA.L	KEYINT(PC),A0
	MOVE.L	A0,$68.W
	LEA.L	INT6(PC),A0
	MOVE.L	A0,$78.W
 ;ENABLE INTERRUPTS
	MOVE.W	#$7FFF,$9C(A6)
	MOVE.W	#$E028,$9A(A6)
	RTS

;------------------------------------------------------------------------------

VBI	MOVEM.L	A0-A6/D0-D7,-(A7)	;SAVE REGS
	LEA.L	$DFF000,A6
	BTST	#5,$01F(A6)
	BEQ.W	.1
	MOVE.W	#$20,$09C(A6)

	LEA.L	LINETAB-$7E(PC),A4
	ADDQ.B	#1,VBITIMER1(A4)
	MOVE.B	SCREEN4ACTIVE(PC),D0
	EOR.B	#$FF,D0
	MOVE.B	D0,SCREEN4ACTIVE(A4)
	MOVE.L	#CL1,D7
	TST.B	SCREEN4ACTIVE(A4)	;IF SCR4 ACTIVE, THEN SCR3 NEXT FRAME!
	BNE.S	.3
	MOVE.L	#CL2,D7
.3	MOVE.L	D7,$080(A6)		;ERST IM NÄCHSTEN FRAME WIRKSAM.
	BSR.W	YELLOWBLINK
	TST.B	BLITUSED(A4)
	BNE.S	.2
	MOVE.W	#$2000,$09A(A6)
	TST.W	VANMONSTCOUNT(A4)
	SNE.B	VBIVANMONST(A4)
	MOVEQ.L	#6*4,D0
.22	MOVE.L	OLD2OBJHORPOS(A4,D0.W),D3
	MOVE.L	D3,OLD3OBJHORPOS(A4,D0.W)
	MOVE.L	OLDOBJHORPOS(A4,D0.W),D3
	MOVE.L	D3,OLD2OBJHORPOS(A4,D0.W)
	MOVE.L	OBJHORPOS(A4,D0.W),D3
	MOVE.L	D3,OLDOBJHORPOS(A4,D0.W)
	SUBQ.L	#4,D0
	BPL.S	.22
	MOVE.W	#$A000,$09A(A6)
	BSR.S	SPRMOVE
	MOVE.L	#$FFFFFFFF,$044(A6)	;maske setzen
	BSR.W	PRINTSPECIAL
	BSR.W	CLRKRN
	BSR.W	BOBPRINT
	BSR.W	DETECTCOLL
	BSR.W	SCORDISP
	LEA.L	INGAMELOGO+$C*3*SCRWIDTH,A1	;ZEILE
	MOVE.L	#$1F4,D2			;HOR. POS.
	BSR.W	PRINTHIGHEST

	BSR.W	PRINTBALKEN
	BSR.W	DECDAUER
;	BSR.W	SOUND
.2
	tst.b	MODLOADED
	beq.s	.nomus
	movem.l	d0-a6,-(a7)
	jsr	music
	movem.l	(a7)+,d0-a6
.nomus

;	MOVE.W	#$F00,$DFF180
.1	MOVE.W	#$50,$09C(A6)
	MOVEM.L	(A7)+,A0-A6/D0-D7	;GET REGS
	RTE


;-----------------------------------------------------------------

SPRMOVE	MOVE.L	NEXTOBJIMAGE+4(A4),A0
	MOVE.L	MANANIM0ENDE-MANANIM0(A0),A0
	MOVE.W	OLD2OBJHORPOS+2(A4),D1
	BEQ.S	.1
	MOVE.W	OLD2OBJVERTPOS+2(A4),D2
	BEQ.S	.1
	LSR.W	#1,D1
	BCC.S	.2
	LEA.L	ASPR4O-ASPR4E(A0),A0	;FÜR UNGERADE POS.
.2	LSR.W	#1,D2
	ADD.W	#MINHORPL,D1
	ADD.W	#MINVERTPL,D2
.1	MOVEQ.L	#0,D0
	MOVE.B	D2,D0
	LSL.W	#8,D0
	ADD.L	D0,D0
	OR.W	D1,D0
	LSR.L	#1,D0
	SWAP	D0
	MOVE.W	D2,D0
	CLR.B	D0
	ADD.W	D0,D0
	ADD.W	#13,D2			;GESAMTE SPRITELÄNGE
	OR.W	D2,D0
	ROL.W	#8,D0
	LSR.W	#1,D1
	ROXL.B	#1,D0
;	LEA.L	MANANIM0ENDE-MANANIM0(A0),A0
	MOVE.L	D0,(A0)
	MOVE.L	A0,D0
	MOVE.W	D0,CL1SPR7+6
	MOVE.W	D0,CL2SPR7+6
	SWAP	D0
	MOVE.W	D0,CL1SPR7+2
	MOVE.W	D0,CL2SPR7+2

	MOVE.L	NEXTOBJIMAGE+8(A4),A0
	MOVE.L	MANANIM0ENDE-MANANIM0(A0),A0
	MOVE.W	OLD2OBJHORPOS+4(A4),D1
	BEQ.S	.3
	MOVE.W	OLD2OBJVERTPOS+4(A4),D2
	BEQ.S	.3
	LSR.W	#1,D1
	BCC.S	.4
	LEA.L	ASPR4O-ASPR4E(A0),A0	;FÜR UNGERADE POS.
.4	LSR.W	#1,D2
	ADD.W	#MINHORPL,D1
	ADD.W	#MINVERTPL,D2
.3	MOVEQ.L	#0,D0
	MOVE.B	D2,D0
	LSL.W	#8,D0
	ADD.L	D0,D0
	OR.W	D1,D0
	LSR.L	#1,D0
	SWAP	D0
	MOVE.W	D2,D0
	CLR.B	D0
	ADD.W	D0,D0
	ADD.W	#13,D2			;GESAMTE SPRITELÄNGE
	OR.W	D2,D0
	ROL.W	#8,D0
	LSR.W	#1,D1
	ROXL.B	#1,D0
;	LEA.L	MANANIM0ENDE-MANANIM0(A0),A0
	MOVE.L	D0,(A0)
	MOVE.L	A0,D1
	MOVE.W	D1,CL1SPR6+6
	MOVE.W	D1,CL2SPR6+6
	SWAP	D1
	MOVE.W	D1,CL1SPR6+2
	MOVE.W	D1,CL2SPR6+2
	LEA.L	2*(ASPR4O-ASPR4E)(A0),A0
	MOVE.L	D0,(A0)
	MOVE.L	A0,D1
	MOVE.W	D1,CL1SPR5+6
	MOVE.W	D1,CL2SPR5+6
	SWAP	D1
	MOVE.W	D1,CL1SPR5+2
	MOVE.W	D1,CL2SPR5+2


	MOVEQ.L	#0,D0
	MOVE.B	GAMEOBJ(PC),D0
	ADD.W	D0,D0
	ADD.W	D0,D0
	JMP	.OBJ(PC,D0.W)

.OBJ	NOP
	NOP

	NOP
	NOP

	NOP
	NOP

	BRA.W	.OBJ1
	BRA.W	.OBJ2
	BRA.W	.OBJ3
.OBJ4
	IFNE	.OBJ4-.OBJ-$18
	FAIL
	ENDC

	MOVE.L	NEXTOBJIMAGE+6*4(A4),A0
;	MOVE.L	MANANIM0ENDE-MANANIM0(A0),A0
	MOVE.W	OLD2OBJHORPOS+6*2(A4),D1
	BEQ.S	.9
	MOVE.W	OLD2OBJVERTPOS+6*2(A4),D2
	BEQ.S	.9
	LSR.W	#1,D1
	BCC.S	.10
	LEA.L	ASPR4O-ASPR4E(A0),A0	;FÜR UNGERADE POS.
.10	LSR.W	#1,D2
	ADD.W	#MINHORPL,D1
	ADD.W	#MINVERTPL,D2
.9	MOVEQ.L	#0,D0
	MOVE.B	D2,D0
	LSL.W	#8,D0
	ADD.L	D0,D0
	OR.W	D1,D0
	LSR.L	#1,D0
	SWAP	D0
	MOVE.W	D2,D0
	CLR.B	D0
	ADD.W	D0,D0
	ADD.W	#13,D2			;GESAMTE SPRITELÄNGE
	OR.W	D2,D0
	ROL.W	#8,D0
	LSR.W	#1,D1
	ROXL.B	#1,D0
	LEA.L	MANANIM0ENDE-MANANIM0(A0),A0
	MOVE.L	D0,(A0)
	MOVE.L	A0,D1
	MOVE.W	D1,CL1SPR0+6
	MOVE.W	D1,CL2SPR0+6
	SWAP	D1
	MOVE.W	D1,CL1SPR0+2
	MOVE.W	D1,CL2SPR0+2

.OBJ3	MOVE.L	NEXTOBJIMAGE+5*4(A4),A0
;	MOVE.L	MANANIM0ENDE-MANANIM0(A0),A0
	MOVE.W	OLD2OBJHORPOS+5*2(A4),D1
	BEQ.S	.5
	MOVE.W	OLD2OBJVERTPOS+5*2(A4),D2
	BEQ.S	.5
	LSR.W	#1,D1
	BCC.S	.6
	LEA.L	ASPR4O-ASPR4E(A0),A0	;FÜR UNGERADE POS.
.6	LSR.W	#1,D2
	ADD.W	#MINHORPL,D1
	ADD.W	#MINVERTPL,D2
.5	MOVEQ.L	#0,D0
	MOVE.B	D2,D0
	LSL.W	#8,D0
	ADD.L	D0,D0
	OR.W	D1,D0
	LSR.L	#1,D0
	SWAP	D0
	MOVE.W	D2,D0
	CLR.B	D0
	ADD.W	D0,D0
	ADD.W	#13,D2			;GESAMTE SPRITELÄNGE
	OR.W	D2,D0
	ROL.W	#8,D0
	LSR.W	#1,D1
	ROXL.B	#1,D0
	LEA.L	MANANIM0ENDE-MANANIM0(A0),A0
;	MOVE.L	D0,(A0)
;	MOVE.L	A0,D1
;	MOVE.W	D1,CL1SPR1+6
;	MOVE.W	D1,CL2SPR1+6
;	SWAP	D1
;	MOVE.W	D1,CL1SPR1+2
;	MOVE.W	D1,CL2SPR1+2
;	LEA.L	2*(ASPR4O-ASPR4E)(A0),A0
	MOVE.L	D0,(A0)
	MOVE.L	A0,D1
	MOVE.W	D1,CL1SPR2+6
	MOVE.W	D1,CL2SPR2+6
	SWAP	D1
	MOVE.W	D1,CL1SPR2+2
	MOVE.W	D1,CL2SPR2+2



.OBJ2
	MOVE.L	NEXTOBJIMAGE+4*4(A4),A0
;	MOVE.L	MANANIM0ENDE-MANANIM0(A0),A0
	MOVE.W	OLD2OBJHORPOS+4*2(A4),D1
	BEQ.S	.7
	MOVE.W	OLD2OBJVERTPOS+4*2(A4),D2
	BEQ.S	.7
	LSR.W	#1,D1
	BCC.S	.8
	LEA.L	ASPR4O-ASPR4E(A0),A0	;FÜR UNGERADE POS.
.8	LSR.W	#1,D2
	ADD.W	#MINHORPL,D1
	ADD.W	#MINVERTPL,D2
.7	MOVEQ.L	#0,D0
	MOVE.B	D2,D0
	LSL.W	#8,D0
	ADD.L	D0,D0
	OR.W	D1,D0
	LSR.L	#1,D0
	SWAP	D0
	MOVE.W	D2,D0
	CLR.B	D0
	ADD.W	D0,D0
	ADD.W	#13,D2			;GESAMTE SPRITELÄNGE
	OR.W	D2,D0
	ROL.W	#8,D0
	LSR.W	#1,D1
	ROXL.B	#1,D0
	LEA.L	MANANIM0ENDE-MANANIM0(A0),A0
	MOVE.L	D0,(A0)
	MOVE.L	A0,D1
	MOVE.W	D1,CL1SPR3+6
	MOVE.W	D1,CL2SPR3+6
	SWAP	D1
	MOVE.W	D1,CL1SPR3+2
	MOVE.W	D1,CL2SPR3+2

.OBJ1
	MOVE.L	NEXTOBJIMAGE+3*4(A4),A0
;	MOVE.L	MANANIM0ENDE-MANANIM0(A0),A0
	MOVE.W	OLD2OBJHORPOS+3*2(A4),D1
	BEQ.S	.11
	MOVE.W	OLD2OBJVERTPOS+3*2(A4),D2
	BEQ.S	.11
	LSR.W	#1,D1
	BCC.S	.12
	LEA.L	ASPR4O-ASPR4E(A0),A0	;FÜR UNGERADE POS.
.12	LSR.W	#1,D2
	ADD.W	#MINHORPL,D1
	ADD.W	#MINVERTPL,D2
.11	MOVEQ.L	#0,D0
	MOVE.B	D2,D0
	LSL.W	#8,D0
	ADD.L	D0,D0
	OR.W	D1,D0
	LSR.L	#1,D0
	SWAP	D0
	MOVE.W	D2,D0
	CLR.B	D0
	ADD.W	D0,D0
	ADD.W	#13,D2			;GESAMTE SPRITELÄNGE
	OR.W	D2,D0
	ROL.W	#8,D0
	LSR.W	#1,D1
	ROXL.B	#1,D0
	LEA.L	MANANIM0ENDE-MANANIM0(A0),A0
	MOVE.L	D0,(A0)
	MOVE.L	A0,D1
	MOVE.W	D1,CL1SPR4+6
	MOVE.W	D1,CL2SPR4+6
	SWAP	D1
	MOVE.W	D1,CL1SPR4+2
	MOVE.W	D1,CL2SPR4+2
	RTS


;----------------------------------------------------------------------------

PRINTSPECIAL	MOVE.L	NEWSPECIAL(PC),D1	
	BEQ.S	.1
	MOVEQ.L	#0,D2
	MOVE.W	D1,D2			;RUNTERZU
	CLR.W	D1
	SWAP	D1
	LSR.W	#1,D2
	MOVE.L	D1,-(A7)
	MOVE.L	D2,-(A7)
	MOVE.L	#SCREEN2,D7
	BSR.B	BOBSPECIAL
	MOVE.L	(A7),D2
	MOVE.L	4(A7),D1
	MOVE.L	#SCREEN3,D7
	BSR.S	BOBSPECIAL
	MOVE.L	(A7)+,D2
	MOVE.L	(A7)+,D1
	MOVE.L	#SCREEN4,D7
	BSR.S	BOBSPECIAL
	CLR.L	NEWSPECIAL(A4)
.1	RTS

BOBSPECIAL
;AUS ZEITGRUENDEN REGISTER !VOR! AUFRUF RETTEN UND DANACH WIEDERHOLEN
;	d0 = ^bobstart
;!	d1 = x coordinate bob
;!	d2 = y coordinate bob
;	d3 = scrwidth-(bobbreite in byte (nur gerade))
;	d4 = BOBFENSTERFORMAT	;boblaenge in zeilen
;	d5 = ^bobmaske
;=	D7 - ^BILDSCHIRMANFANG
;=	a6 = $dff000
	
	MOVE.L	#TWCHARSET+$1800,D0
	MOVEQ.L	#SCRWIDTH-4,D3
	MOVE.L	#4/2+$10*4*$40,D4
	MOVE.L	#TWCHARMASK+$1800,D5
	MOVE.L	D1,D6
	LSR.W	#4,D6
	ADD.W	D6,D6
	ADD.W	D2,D2
	ADD.W	D2,D2
	ADD.L	LINETAB(A4,D2.W),D6
	ADD.L	D7,D6
	LSL.W	#$8,D1
	LSL.W	#$4,D1
	BTST.B	#6,2(A6)
.1	BTST.B	#6,2(A6)
	BNE.S	.1
	MOVE.L	D6,$054(A6)	;Adresse des Zielbereiches	- ziel
	MOVE.L	D0,$050(A6)	;Adresse des Quellbereichs 1	- bob
	MOVE.L	D5,$04C(A6)	;                          2	- maske
	MOVE.L	D6,$048(A6)	;                          3	- ziel
	MOVE.W	D3,$066(A6)	;Modulowert des Zielbereiches
	MOVE.W	D3,$060(A6)	;Modulowert des Quellbereichs 3
	MOVE.L	#0,$62(A6)
	MOVE.W	D1,$042(A6)	;Shifter Quelle 2 
	OR.W	#$FE2,D1	;fuer Shifter Quelle 1 or mit ($?fc2)
	MOVE.W	D1,$040(A6)	;Ziel u. Quelle 1-3 aktivieren u. verknuepfen
	MOVE.W	D4,$058(A6)  	;blitter starten
	RTS

;----------------------------------------------------------------------------

PRINTBALKEN	TST.L	DRAWJOIST(A4)
	BNE.B	.1
	RTS

.1	MOVE.W	#$2000,$09A(A6)
	CLR.B	MOVEMENT(A4)
	LEA.L	JOISTIMAGES(PC),A3
	MOVEQ.L	#0,D0
	MOVE.B	GAMEOBJ(A4),D0
	SUB.W	#3,D0
	ADD.W	D0,D0
	ADD.W	D0,D0
	JMP	.OBJ(PC,D0.W)

.OBJ	BRA.W	.5
	BRA.W	.4
	BRA.W	.3
.OBJTMP	BRA.W	.2

	IFNE	.OBJTMP-.OBJ-6*2
	FAIL
	ENDC

.2	BTST.B	#6,2(A6)
	BNE.S	.2
	TST.B	DRAWJOIST+3(A4)
	BEQ.S	.6
	MOVEQ.L	#0,D0
	MOVE.B	KINDOFJOIST+3(A4),D0
	MOVE.L	(A3,D0.W),A0		;AUSSEHEN DES BALKENS
	MOVE.W	#$9C*4,LENGTHJOIST+6(A4)
	MOVE.L	#DISPLAYBALKEN+SCRWIDTH*3/4,$054(A6)	;Adresse des Zielbereiches	- ziel
	MOVE.L	A0,$050(A6)		;Adresse des Quellbereichs 1	- bob
	MOVE.W	#SCRWIDTH-20,$066(A6)	;Modulowert des Zielbereiches
	MOVE.W	#0,$064(A6)		;Modulowert des Quellbereichs 1
	MOVE.W	#$9F0,$040(A6)		;fuer Shifter Quelle 1 or mit ($?fc2)
;	MOVE.L	#$FFFFFFFF,$044(A6)	;maske setzen
	MOVE.W	#20/2+$5*2*$40,$058(A6) ;blitter starten
.6
.3	BTST.B	#6,2(A6)
	BNE.S	.3
	TST.B	DRAWJOIST+2(A4)
	BEQ.S	.7
	MOVEQ.L	#0,D0
	MOVE.B	KINDOFJOIST+2(A4),D0
	MOVE.L	(A3,D0.W),A0		;AUSSEHEN DES BALKENS
	MOVE.W	#$9C*4,LENGTHJOIST+4(A4)
	MOVE.L	#DISPLAYBALKEN+SCRWIDTH/2,$054(A6)	;Adresse des Zielbereiches	- ziel
	MOVE.L	A0,$050(A6)		;Adresse des Quellbereichs 1	- bob
	MOVE.W	#SCRWIDTH-20,$066(A6)	;Modulowert des Zielbereiches
	MOVE.W	#0,$064(A6)		;Modulowert des Quellbereichs 1
	MOVE.W	#$9F0,$040(A6)		;fuer Shifter Quelle 1 or mit ($?fc2)
;	MOVE.L	#$FFFFFFFF,$044(A6)	;maske setzen
	MOVE.W	#20/2+$5*2*$40,$058(A6)	;blitter starten
.7
.4	BTST.B	#6,2(A6)
	BNE.S	.4
	TST.B	DRAWJOIST+1(A4)
	BEQ.S	.8
	MOVEQ.L	#0,D0
	MOVE.B	KINDOFJOIST+1(A4),D0
	MOVE.L	(A3,D0.W),A0		;AUSSEHEN DES BALKENS
	MOVE.W	#$9C*4,LENGTHJOIST+2(A4)
	MOVE.L	#DISPLAYBALKEN+SCRWIDTH/4,$054(A6)	;Adresse des Zielbereiches	- ziel
	MOVE.L	A0,$050(A6)		;Adresse des Quellbereichs 1	- bob
	MOVE.W	#SCRWIDTH-20,$066(A6)	;Modulowert des Zielbereiches
	MOVE.W	#0,$064(A6)		;Modulowert des Quellbereichs 1
	MOVE.W	#$9F0,$040(A6)		;fuer Shifter Quelle 1 or mit ($?fc2)
;	MOVE.L	#$FFFFFFFF,$044(A6)	;maske setzen
	MOVE.W	#20/2+$5*2*$40,$058(A6)	;blitter starten
.8
.5	BTST.B	#6,2(A6)
	BNE.S	.5
	TST.B	DRAWJOIST(A4)
	BEQ.S	.9
	MOVEQ.L	#0,D0
	MOVE.B	KINDOFJOIST(A4),D0
	MOVE.L	(A3,D0.W),A0		;AUSSEHEN DES BALKENS
	MOVE.W	#$9C*4,LENGTHJOIST(A4)
	MOVE.L	#DISPLAYBALKEN,$054(A6)	;Adresse des Zielbereiches	- ziel
	MOVE.L	A0,$050(A6)		;Adresse des Quellbereichs 1	- bob
	MOVE.W	#SCRWIDTH-20,$066(A6)	;Modulowert des Zielbereiches
	MOVE.W	#0,$064(A6)		;Modulowert des Quellbereichs 1
	MOVE.W	#$9F0,$040(A6)		;fuer Shifter Quelle 1 or mit ($?fc2)
;	MOVE.L	#$FFFFFFFF,$044(A6)	;maske setzen
	MOVE.W	#20/2+$5*2*$40,$058(A6)	;blitter starten
.9	CLR.L	DRAWJOIST(A4)
	ST.B	MOVEMENT(A4)
	MOVE.W	#$A000,$09A(A6)
	RTS

JOISTIMAGES	DC.L	STUNJOIST,X2JOIST,VANISHEDMONSTERS,FREEZEPLYR
	DC.L	DOUBLESPEED

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

CLRKRN	MOVE.L	#SCREEN2,D7
	MOVE.L	#SCREEN1,D5

.11	BTST.B	#6,2(A6)
	BNE.S	.11
	MOVE.W	#SCRWIDTH-2,D3
	MOVE.W	D3,$066(A6)	;Modulowert des Zielbereiches
	MOVE.W	D3,$064(A6)	;Modulowert des Quellbereichs 1
	MOVE.W	#$9F0,$040(A6)	;fuer Shifter Quelle 1 or mit ($?fc2)
;	MOVE.L	#$FFFFFFFF,$044(A6)  ;maske setzen

	MOVE.L	CLRKORN+3*4(PC),D1	
	BEQ.S	.1
	MOVEQ.L	#0,D2
	MOVE.W	D1,D2			;RUNTERZU
	CLR.W	D1
	SWAP	D1
	LSR.W	#1,D2
	BSR.B	KORNREMOVE
	CLR.L	CLRKORN+3*4(A4)
.1	MOVE.L	CLRKORN+4*4(PC),D1	
	BEQ.S	.2
	MOVEQ.L	#0,D2
	MOVE.W	D1,D2			;RUNTERZU
	CLR.W	D1
	SWAP	D1
	LSR.W	#1,D2
	BSR.B	KORNREMOVE
	CLR.L	CLRKORN+4*4(A4)
.2	MOVE.L	CLRKORN+5*4(PC),D1	
	BEQ.S	.3
	MOVEQ.L	#0,D2
	MOVE.W	D1,D2			;RUNTERZU
	CLR.W	D1
	SWAP	D1
	LSR.W	#1,D2
	BSR.B	KORNREMOVE
	CLR.L	CLRKORN+5*4(A4)
.3	MOVE.L	CLRKORN+6*4(PC),D1	
	BEQ.S	.4
	MOVEQ.L	#0,D2
	MOVE.W	D1,D2			;RUNTERZU
	CLR.W	D1
	SWAP	D1
	LSR.W	#1,D2
	BSR.B	KORNREMOVE
	CLR.L	CLRKORN+6*4(A4)
.4	RTS


KORNREMOVE

;AUS ZEITGRUENDEN REGISTER !VOR! AUFRUF RETTEN UND DANACH WIEDERHOLEN
;	d0 = ^bobstart
;!	d1 = x coordinate bob
;!	d2 = y coordinate bob
;	d3 = scrwidth-(bobbreite in byte (nur gerade))
;	D4 = BLITFENSTER
;=	d5 = ^SCREEN2
;=	D7 - ^BILDSCHIRMANFANG
;=	a6 = $dff000
	
	MOVE.W	#2/2+$9*4*$40,D4
	BCLR.L	#$F,D1
	BEQ.S	.2
	MOVE.W	#2/2+$8*4*$40,D4
.2	LSR.W	#4,D1
	ADD.W	D1,D1
	ADD.W	D2,D2
	ADD.W	D2,D2
	ADD.L	LINETAB(A4,D2.W),D1
	MOVE.L	D1,D0
	ADD.L	D5,D0
	ADD.L	D7,D1
	BTST.B	#6,2(A6)
.1	BTST.B	#6,2(A6)
	BNE.S	.1
	MOVE.L	D1,$054(A6)	;Adresse des Zielbereiches	- ziel
	MOVE.L	D0,$050(A6)	;Adresse des Quellbereichs 1	- bob

	MOVE.W	D4,$058(A6)  	;blitter starten

	IFNE	BLTST
.TMP	BTST	#6,$2(A6)
	BNE.S	.TMP
	ENDC

	RTS


;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

SCORTAB	DC.L	$100,$105,$110,$115,$120,$126,$132,$138
	DC.L	$145,$152,$159,$166,$174,$182,$191,$200,$209

SCORDISP	MOVEQ.L	#3*2,D0
	LEA.L	TOTALSCORE+$10(A4),A3
.2	TST.W	COUNTSCOR(A4,D0.W)
	BNE.S	.1
	SUBQ.W	#4,A3
	BRA.S	.8

.1	MOVEQ.L	#0,D2
	MOVE.B	TEMPLEVEL(PC),D2
	ADD.W	D2,D2
	ADD.W	D2,D2
	LEA.L	SCORTAB+4(PC,D2.W),A2
	SUBQ.W	#1,COUNTSCOR(A4,D0.W)
	MOVE.W	COUNTSCOR(A4,D0.W),D5
	CMP.W	#30,D5
	BLO.S	.9
	LEA.L	.SCORTAB2+4(PC,D2.W),A2
	SUB.W	#19,D5
	MOVE.W	D5,COUNTSCOR(A4,D0.W)
	BRA.S	.9

.SCORTAB2
	DC.L	$2000,$2100,$2200,$2300,$2400,$2520,$2640,$2760
	DC.L	$2900,$3040,$3180,$3320,$3480,$3640,$3820,$4000,$4180

.9	MOVE	#4,CCR
	ABCD.B	-(A2),-(A3)
	ABCD.B	-(A2),-(A3)
	ABCD.B	-(A2),-(A3)
	ABCD.B	-(A2),-(A3)
.8	SUBQ.W	#2,D0
	BPL.W	.2
	TST.B	EXTENDSYS(A4)
	BEQ.S	.3
.4	BTST.B	#6,2(A6)
	BNE.S	.4
	MOVE.W	#SCRWIDTH-4,$066(A6)	;Modulowert des Zielbereiches
	MOVE.W	#SCRWIDTH-4,$060(A6)	;Modulowert des Zielbereiches
;	MOVE.L	#$FFFFFFFF,$044(A6)	;maske setzen
	MOVE.L	#0,$062(A6)		;Modulowert des Quellbereichs 3&2
	MOVE.L	#SCOREEVEN,D7
	MOVE.L	TOTALSCORE(A4),D5
	MOVEQ.L	#$5*8,D2
	BSR.W	PRINTSCORE
	MOVE.L	TOTALSCORE+4(A4),D5
	MOVE.L	#($5+$14)*8,D2
	BSR.S	PRINTSCORE
	MOVE.L	TOTALSCORE+8(A4),D5
	MOVE.L	#($5+$14*2)*8,D2
	BSR.S	PRINTSCORE
	MOVE.L	TOTALSCORE+$C(A4),D5
	MOVE.L	#($5+$14*3)*8,D2
;	BSR.S	PRINTSCORE
;	RTS
	BRA.S	PRINTSCORE

.3	MOVEQ.L	#0,D0
	MOVE.B	VBITIMER1(A4),D0
	AND.W	#$3,D0
	ADD.W	D0,D0
	JMP	.PLYR(PC,D0.W)

.PLYR	BRA.S	.PLYR1
	BRA.S	.PLYR2
	BRA.S	.PLYR3
.PLTMP	BRA.S	.PLYR4

	IFNE	.PLTMP-.PLYR-6
	FAIL
	ENDC

.PLYR1	LEA.L	TOTALSCORE(A4),A3
	MOVEQ.L	#$5*8,D2
	BRA.S	.7

.PLYR2	LEA.L	TOTALSCORE+4(A4),A3
	MOVE.L	#($5+$14)*8,D2
	BRA.S	.7

.PLYR3	LEA.L	TOTALSCORE+8(A4),A3
	MOVE.L	#($5+$14*2)*8,D2
	BRA.S	.7

.PLYR4	LEA.L	TOTALSCORE+$C(A4),A3
	MOVE.L	#($5+$14*3)*8,D2
;	BRA.S	.7

.7	MOVE.L	#SCOREEVEN,D7
	MOVE.L	(A3),D5

.5	BTST.B	#6,2(A6)
	BNE.S	.5
	MOVE.W	#SCRWIDTH-4,$066(A6)	;Modulowert des Zielbereiches
	MOVE.W	#SCRWIDTH-4,$060(A6)	;Modulowert des Zielbereiches
;	MOVE.L	#$FFFFFFFF,$044(A6)	;maske setzen
	MOVE.L	#0,$062(A6)		;Modulowert des Quellbereichs 3&2
;	BSR.S	PRINTSCORE
;	RTS


PRINTSCORE
	ST	HEAD0(A4)
	MOVEQ.L	#8-1-1,D4
	ROL.L	#4,D5
.6	ROL.L	#4,D5
	MOVE.W	D5,D0
	AND.W	#$F,D0
	BNE.S	.4
	TST.B	HEAD0(A4)
	BEQ.S	.5
	TST.W	D4
	BEQ.S	.4
	MOVEQ.L	#$A,D0
	BRA.S	.5

.4	SF	HEAD0(A4)
.5	ADD.W	D0,D0
	ADD.W	D0,D0
	MOVE.L	.LETTERTAB(PC,D0.W),D0
	MOVE.L	D2,D1
	LSR.W	#4,D1
	ADD.W	D1,D1
	ADD.L	D7,D1
.11	BTST.B	#6,2(A6)
	BNE.S	.11
	MOVE.L	D1,$054(A6)		;Adresse des Zielbereiches	- ziel
	MOVE.L	D1,$048(A6)
	MOVE.W	D2,D1
	LSL.W	#$8,D1
	LSL.W	#$4,D1
	MOVE.L	D0,$050(A6)		;Adresse des Quellbereichs 1	- bob
	MOVE.L	#TWLETTERMASK,$04C(A6)
	MOVE.W	D1,$042(A6)
	OR.W	#$FE2,D1
	MOVE.W	D1,$040(A6)		;fuer Shifter Quelle 1 or mit ($?fc2)
	MOVE.W	#4/2+$8*2*$40,$058(A6)	;blitter starten

	IFNE	BLTST
.TMP	BTST	#6,$2(A6)
	BNE.S	.TMP
	ENDC

	ADD.W	#LETTERWIDTH,D2
	DBF	D4,.6
	RTS

.LETTERTAB	DC.L	TWLETTERS,TWLETTERS+$8*$8,TWLETTERS+$10*$8
	DC.L	TWLETTERS+$18*$8,TWLETTERS+$20*$8,TWLETTERS+$28*$8
	DC.L	TWLETTERS+$30*$8,TWLETTERS+$38*$8,TWLETTERS+$40*$8
	DC.L	TWLETTERS+$48*$8,TWLETTERS+$50*$8

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

BOBPRINT
	MOVE.B	VBITIMER1(PC),D1
	SUB.B	TIMQUIET+3(A4),D1
	LSR.W	#2,D1
	AND.W	#3,D1
	MOVEQ.L	#0,D0
	MOVE.B	RICHTUNG+3(A4),D0
	ADD.W	D0,D0
	ADD.W	D0,D0
	ADD.W	D1,D0
	ADD.W	D0,D0
	ADD.W	D0,D0
	MOVE.L	.P1IMGS(PC,D0.W),D0
	MOVE.L	D0,NEXTOBJIMAGE+3*4(A4)

	BRA.S	.IM2

.P1IMGS	DC.L	PLYR1RIGHT2,PLYR1RIGHT1,PLYR1RIGHT2,PLYR1RIGHT3
	DC.L	PLYR1LEFT2,PLYR1LEFT1,PLYR1LEFT2,PLYR1LEFT3
	DC.L	PLYR1DOWN2,PLYR1DOWN1,PLYR1DOWN2,PLYR1DOWN3
	DC.L	PLYR1UP2,PLYR1UP1,PLYR1UP2,PLYR1UP3
	DC.L	PLYR1QUIET1,PLYR1QUIET1,PLYR1QUIET1,PLYR1QUIET1
	DC.L	PLYR1STUNNED,PLYR1STUNNED,PLYR1STUNNED,PLYR1STUNNED

.IM2	MOVE.B	VBITIMER1(PC),D1
	SUB.B	TIMQUIET+4(A4),D1
	LSR.W	#2,D1
	AND.W	#3,D1
	MOVEQ.L	#0,D0
	MOVE.B	RICHTUNG+4(A4),D0
	ADD.W	D0,D0
	ADD.W	D0,D0
	ADD.W	D1,D0
	ADD.W	D0,D0
	ADD.W	D0,D0
	MOVE.L	.P2IMGS(PC,D0.W),D0
	MOVE.L	D0,NEXTOBJIMAGE+4*4(A4)

	BRA.W	.IM3

.P2IMGS	DC.L	PLYR2RIGHT2,PLYR2RIGHT3,PLYR2RIGHT4,PLYR2RIGHT1
	DC.L	PLYR2LEFT2,PLYR2LEFT3,PLYR2LEFT4,PLYR2LEFT1
	DC.L	PLYR2DOWN2,PLYR2DOWN1,PLYR2DOWN2,PLYR2DOWN3
	DC.L	PLYR2UP2,PLYR2UP1,PLYR2UP2,PLYR2UP3
	DC.L	PLYR2QUIET1,PLYR2QUIET1,PLYR2QUIET1,PLYR2QUIET1
	DC.L	PLYR2STUNNED,PLYR2STUNNED,PLYR2STUNNED,PLYR2STUNNED
	
.IM3	MOVE.B	VBITIMER1(PC),D1
	SUB.B	TIMQUIET+5(A4),D1
	LSR.W	#2,D1
	AND.W	#3,D1
	MOVEQ.L	#0,D0
	MOVE.B	RICHTUNG+5(A4),D0
	ADD.W	D0,D0
	ADD.W	D0,D0
	ADD.W	D1,D0
	ADD.W	D0,D0
	ADD.W	D0,D0
	MOVE.L	.P3IMGS(PC,D0.W),D0
	MOVE.L	D0,NEXTOBJIMAGE+5*4(A4)

	BRA.W	.IM1

.P3IMGS	DC.L	PLYR3RIGHT2,PLYR3RIGHT3,PLYR3RIGHT4,PLYR3RIGHT1
	DC.L	PLYR3LEFT2,PLYR3LEFT3,PLYR3LEFT4,PLYR3LEFT1
	DC.L	PLYR3DOWN2,PLYR3DOWN1,PLYR3DOWN2,PLYR3DOWN3
	DC.L	PLYR3UP2,PLYR3UP1,PLYR3UP2,PLYR3UP3
	DC.L	PLYR3QUIET1,PLYR3QUIET1,PLYR3QUIET1,PLYR3QUIET1
	DC.L	PLYR3STUNNED,PLYR3STUNNED,PLYR3STUNNED,PLYR3STUNNED

.P4IMGS	DC.L	PLYR4RIGHT2,PLYR4RIGHT3,PLYR4RIGHT4,PLYR4RIGHT1
	DC.L	PLYR4LEFT2,PLYR4LEFT3,PLYR4LEFT4,PLYR4LEFT1
	DC.L	PLYR4DOWN2,PLYR4DOWN1,PLYR4DOWN2,PLYR4DOWN3
	DC.L	PLYR4UP2,PLYR4UP1,PLYR4UP2,PLYR4UP3
	DC.L	PLYR4QUIET1,PLYR4QUIET1,PLYR4QUIET1,PLYR4QUIET1
	DC.L	PLYR4STUNNED,PLYR4STUNNED,PLYR4STUNNED,PLYR4STUNNED

.IM1
	MOVE.B	VBITIMER1(PC),D1
	SUB.B	TIMQUIET+6(A4),D1
	LSR.W	#2,D1
	AND.W	#3,D1
	MOVEQ.L	#0,D0
	MOVE.B	RICHTUNG+6(A4),D0
	ADD.W	D0,D0
	ADD.W	D0,D0
	ADD.W	D1,D0
	ADD.W	D0,D0
	ADD.W	D0,D0
	MOVE.L	.P4IMGS(PC,D0.W),D0
	MOVE.L	D0,NEXTOBJIMAGE+6*4(A4)


	TST.B	VBIVANMONST(A4)
	BNE.W	.VANMONST
	MOVEQ.L	#0,D1
	MOVE.B	VBITIMER1(A4),D1
	AND.W	#$1C,D1
	MOVE.L	.MIMGS(PC,D1.W),NEXTOBJIMAGE(A4)
	MOVE.L	.AIMGS(PC,D1.W),NEXTOBJIMAGE+1*4(A4)
	MOVE.L	.GIMGS(PC,D1.W),NEXTOBJIMAGE+2*4(A4)
	BRA.W	.STTST

.MIMGS	DC.L	MANANIM0,MANANIM1,MANANIM2,MANANIM3
	DC.L	MANANIM4,MANANIM5,MANANIM6,MANANIM7

.AIMGS	DC.L	ARROWANIM0,ARROWANIM1,ARROWANIM2,ARROWANIM3
	DC.L	ARROWANIM4,ARROWANIM5,ARROWANIM6,ARROWANIM7

.GIMGS	DC.L	GHOSTANIM0,GHOSTANIM1,GHOSTANIM2,GHOSTANIM3
	DC.L	GHOSTANIM4,GHOSTANIM3,GHOSTANIM2,GHOSTANIM1

.VANMONST	MOVEQ.L	#0,D1
	MOVE.B	VBITIMER1(A4),D1
	AND.W	#$1C,D1
	MOVE.L	.VANMAN(PC,D1.W),NEXTOBJIMAGE(A4)
	MOVE.L	.VANARR(PC,D1.W),NEXTOBJIMAGE+1*4(A4)
	MOVE.L	.VANGH(PC,D1.W),NEXTOBJIMAGE+2*4(A4)
	BRA.S	.STTST

.VANMAN	DC.L	MANVANIM0,MANVANIM1,MANVANIM2,MANVANIM3
	DC.L	MANVANIM4,MANVANIM5,MANVANIM6,MANVANIM7

.VANARR	DC.L	ARROWVANIM0,ARROWVANIM1,ARROWVANIM2,ARROWVANIM3
	DC.L	ARROWVANIM4,ARROWVANIM5,ARROWVANIM6,ARROWVANIM7

.VANGH	DC.L	GHOSTVANIM0,GHOSTVANIM1,GHOSTVANIM2,GHOSTVANIM3
	DC.L	GHOSTVANIM4,GHOSTVANIM3,GHOSTVANIM2,GHOSTVANIM1

.STTST	TST.B	DAUER(A4)
	BEQ.S	.NST1
	MOVEQ.L	#0,D0
	MOVE.B	VBITIMER1(PC),D0
	AND.W	#$1C,D0
	MOVE.L	.MANSTUN(PC,D0.W),NEXTOBJIMAGE(A4)
.NST1	TST.B	DAUER+1(A4)
	BEQ.S	.NST2
	MOVEQ.L	#0,D0
	MOVE.B	VBITIMER1(PC),D0
	AND.W	#$1C,D0
	MOVE.L	.ARROWSTUN(PC,D0.W),NEXTOBJIMAGE+1*4(A4)
.NST2	TST.B	DAUER+2(A4)
	BEQ.S	.NST3
	MOVEQ.L	#0,D0
	MOVE.B	VBITIMER1(PC),D0
	AND.W	#$1C,D0
	MOVE.L	.GHOSTSTUN(PC,D0.W),NEXTOBJIMAGE+2*4(A4)
.NST3	BRA.S	.5

.MANSTUN	DC.L	MANSTUN0,MANSTUN1,MANSTUN2,MANSTUN1
	DC.L	MANSTUN4,MANSTUN5,MANSTUN6,MANSTUN4

.ARROWSTUN	DC.L	ARROWSTUN0,ARROWSTUN1,ARROWSTUN2,ARROWSTUN1
	DC.L	ARROWSTUN4,ARROWSTUN5,ARROWSTUN6,ARROWSTUN4

.GHOSTSTUN	DC.L	GHOSTSTUN0,GHOSTSTUN1,GHOSTSTUN2,GHOSTSTUN1
	DC.L	GHOSTSTUN4,GHOSTSTUN5,GHOSTSTUN6,GHOSTSTUN4

.5	MOVE.L	#SCREEN3,D7
	TST.B	SCREEN4ACTIVE(A4)	;WENN SCREEN4 NICHT AKTIV, DANN SCR4!
	BNE.S	.1
	MOVE.L	#SCREEN4,D7
.1	MOVEQ.L	#0,D6
	MOVE.B	GAMEOBJ(PC),D6
	ADD.W	D6,D6
	MOVE.L	#SCREEN2,D5

	MOVE.W	#SCRWIDTH-6,D3
.12	BTST.B	#6,2(A6)
	BNE.S	.12
	MOVE.W	D3,$066(A6)	;Modulowert des Zielbereiches
	MOVE.W	D3,$064(A6)	;Modulowert des Quellbereichs 3
	MOVE.W	#$9F0,$040(A6)	;KANAL C UND D ZUM KOPIEREN
;	MOVE.L	#$FFFFFFFF,$044(A6)  ;maske setzen


	MOVEQ.L	#0,D2
.3	MOVEQ.L	#0,D1
	MOVE.W	OLD3OBJHORPOS(A4,D6.W),D1
	MOVE.W	OLD3OBJVERTPOS(A4,D6.W),D2
	LSR.W	#1,D2
	BSR.W	BOBREMOVEOBJ
	SUBQ.W	#2,D6
	BPL.S	.3

	MOVEQ.L	#0,D1
	MOVEQ.L	#0,D6
	MOVE.B	GAMEOBJ(A4),D6
	ADD.W	D6,D6

	MOVE.L	#4*SCRWIDTH-6,D3
.11	BTST.B	#6,2(A6)
	BNE.S	.11
	MOVE.W	D3,$066(A6)	;Modulowert des Zielbereiches
	MOVE.W	#6*3,$62(A6)	;BLTBMOD
	MOVE.W	D3,$64(A6)	;BLTAMOD
	MOVE.W	#$D30,$040(A6)

.6	MOVEQ.L	#0,D1
	MOVE.W	OLDOBJHORPOS(A4,D6.W),D1
	ADDQ.W	#4,D1
	MOVE.W	OLDOBJVERTPOS(A4,D6.W),D2
	ADDQ.W	#4,D2
	LSR.W	#1,D2
	MOVE.W	D6,-(A7)
	BSR.W	BOBSHADOW
	MOVE.W	(A7)+,D6
	SUBQ.W	#2,D6
	BPL.S	.6


	MOVEQ.L	#0,D1
	MOVEQ.L	#0,D6
	MOVE.L	#SCRWIDTH-6,D3
.13	BTST.B	#6,2(A6)
	BNE.S	.13
	MOVE.W	D3,$066(A6)	;Modulowert des Zielbereiches
	MOVE.W	D3,$060(A6)	;Modulowert des Quellbereichs 3
	MOVE.L	#0,$62(A6)

.4	MOVE.W	D6,D0
	LSR.W	#1,D0
	CMP.B	GAMEOBJ(A4),D0
	BHI.S	.SNR2

	TST.B	VBIVANMONST(A4)
	BEQ.S	.SNR1
	CMP.B	#2,D0
	BHI.S	.SNR1
	BTST.B	D0,STUNNED(A4)
	BNE.S	.SNR3

.SNR1	MOVEQ.L	#0,D1
	MOVE.W	OLDOBJHORPOS(A4,D6.W),D1
	MOVE.W	OLDOBJVERTPOS(A4,D6.W),D2
	LSR.W	#1,D2
	MOVE.W	D6,-(A7)
	BSR.B	BOBOBJ
	MOVE.W	(A7)+,D6
.SNR3	ADDQ.W	#2,D6
	BRA.S	.4

.SNR2	RTS


BOBREMOVEOBJ
;AUS ZEITGRUENDEN REGISTER !VOR! AUFRUF RETTEN UND DANACH WIEDERHOLEN
;	d0 = ^bobstart
;!	d1 = x coordinate bob
;!	d2 = y coordinate bob
;	d3 = scrwidth-(bobbreite in byte (nur gerade))
;=	d5 = ^SCREEN2
;=	D7 - ^BILDSCHIRMANFANG
;=	a6 = $dff000
	
	LSR.W	#4,D1
	ADD.W	D1,D1
	ADD.W	D2,D2
	ADD.W	D2,D2
	ADD.L	LINETAB(A4,D2.W),D1
	MOVE.L	D1,D0
	ADD.L	D5,D0
.1	BTST.B	#6,2(A6)
	BNE.S	.1
	ADD.L	D7,D1
	MOVE.L	D1,$054(A6)	;Adresse des Zielbereiches	- ziel
	MOVE.L	D0,$050(A6)	;Adresse des Quellbereichs 1	- bob
	MOVE.W	#6/2+$10*4*$40,$058(A6)  	;blitter starten

	IFNE	BLTST
.TMP	BTST	#6,$2(A6)
	BNE.S	.TMP
	ENDC

	RTS

BOBOBJ
;AUS ZEITGRUENDEN REGISTER !VOR! AUFRUF RETTEN UND DANACH WIEDERHOLEN
;	d0 = ^bobstart
;!	d1 = x coordinate bob
;!	d2 = y coordinate bob
;	d3 = scrwidth-(bobbreite in byte (nur gerade))
;	d4 = BOBFENSTERFORMAT	;boblaenge in zeilen
;	d5 = ^bobmaske
;!	D6 - 2*NUMMER OBJEKTES (0-6)	;DES DARZUSTELLENDEN BOBS
;=	D7 - ^BILDSCHIRMANFANG
;=	a6 = $dff000
	
	ADD.W	D6,D6
	MOVE.L	.BOBTAB(PC,D6.W),A0	;GET BOBVALUES

	MOVE.L	(A0),A0
	MOVE.L	$4(A0),D5
	MOVE.L	(A0),A0
	BRA.S	.2

;--------------------------------------------------------------------------
;^(^BOBSTART),SCRWIDTH-BOBBREITE IN BYTES,FENSTERFORMAT,^MASKENOFFSET
.BOBTAB	DC.L	NEXTOBJIMAGE
	DC.L	NEXTOBJIMAGE+4
	DC.L	NEXTOBJIMAGE+8
	DC.L	NEXTOBJIMAGE+$C
	DC.L	NEXTOBJIMAGE+$10
	DC.L	NEXTOBJIMAGE+$14
	DC.L	NEXTOBJIMAGE+$18

.2	MOVE.L	D1,D6
	LSR.W	#4,D6
	ADD.W	D6,D6
	ADD.W	D2,D2
	ADD.W	D2,D2
	ADD.L	LINETAB(A4,D2.W),D6
	ADD.L	D7,D6
.1	BTST.B	#6,2(A6)
	BNE.S	.1
	LSL.W	#$8,D1
	LSL.W	#$4,D1

	IFEQ	FINAL
	MOVE.L	D6,D6SAVE
	ENDC

	MOVE.L	D6,$054(A6)	;Adresse des Zielbereiches	- ziel
	MOVE.L	A0,$050(A6)	;Adresse des Quellbereichs 1	- bob
	MOVE.L	D5,$04C(A6)	;                          2	- maske
	MOVE.L	D6,$048(A6)	;                          3	- ziel

	IFEQ	FINAL
	CMP.L	D6SAVE,D6
.CMP1	BNE.S	.CMP1
	ENDC

	MOVE.W	D1,$042(A6)	;Shifter Quelle 2 
	OR.W	#$FE2,D1	;fuer Shifter Quelle 1 or mit ($?fc2)
	MOVE.W	D1,$040(A6)	;Ziel u. Quelle 1-3 aktivieren u. verknuepfen
;	MOVE.L	#$FFFFFFFF,$044(A6)  ;maske setzen
	MOVE.W	#6/2+$D*$4*$40,$058(A6)  	;blitter starten

	IFNE	BLTST
.TMP	BTST	#6,$2(A6)
	BNE.S	.TMP
	ENDC

	RTS


BOBSHADOW
;AUS ZEITGRUENDEN REGISTER !VOR! AUFRUF RETTEN UND DANACH WIEDERHOLEN
;	d0 = ^bobstart
;!	d1 = x coordinate bob
;!	d2 = y coordinate bob
;	d3 = scrwidth-(bobbreite in byte (nur gerade))
;	d4 = BOBFENSTERFORMAT	;boblaenge in zeilen
;	d5 = ^bobmaske
;!	D6 - 2*NUMMER OBJEKTES (0-6)	;DES DARZUSTELLENDEN BOBS
;=	D7 - ^BILDSCHIRMANFANG
;=	a6 = $dff000
	
	ADD.W	D6,D6
	MOVE.L	.BOBTAB(PC,D6.W),A0	;GET BOBVALUES
	MOVE.L	(A0),A0
	MOVE.L	$4(A0),D5
	BRA.S	.2

;--------------------------------------------------------------------------
;^(^BOBSTART),SCRWIDTH-BOBBREITE IN BYTES,FENSTERFORMAT,^MASKENOFFSET
.BOBTAB	DC.L	NEXTOBJIMAGE
	DC.L	NEXTOBJIMAGE+4
	DC.L	NEXTOBJIMAGE+8
	DC.L	NEXTOBJIMAGE+$C
	DC.L	NEXTOBJIMAGE+$10
	DC.L	NEXTOBJIMAGE+$14
	DC.L	NEXTOBJIMAGE+$18

.2	MOVE.L	D1,D6
	LSR.W	#4,D6
	ADD.W	D6,D6
	ADD.W	D2,D2
	ADD.W	D2,D2
	ADD.L	LINETAB(A4,D2.W),D6
	ADD.L	#3*SCRWIDTH,D6
	ADD.L	D7,D6
.1	BTST.B	#6,2(A6)
	BNE.S	.1
	LSL.W	#$8,D1
	LSL.W	#$4,D1
	MOVE.L	D6,$054(A6)	;Adresse des Zielbereiches	- ziel
	MOVE.L	D6,$050(A6)	;Adresse des Quellbereichs 1	- bob
	MOVE.L	D5,$04C(A6)	;                          2	- maske

	MOVE.W	D1,$042(A6)	;Shifter Quelle 2 
;	MOVE.L	#$FFFFFFFF,$044(A6)	;maske setzen
	MOVE.W	#6/2+$D*$40,$058(A6)  	;blitter starten

	IFNE	BLTST
.TMP	BTST	#6,$2(A6)
	BNE.S	.TMP
	ENDC

	RTS

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

ANCOLPG	DC.L	KOLLPG1,KOLLPG2,KOLLPG3,KOLLPG4
	DC.L	KOLLPG5,KOLLPG4,KOLLPG3,KOLLPG2

GENERALCOLL
	MOVEQ.L	#0,D2
	MOVE.W	OLDOBJVERTPOS+2*2(A4),D0
	SUB.W	D4,D0
	ASR.W	#1,D0
	ADD.W	#$D,D0
	CMP.W	#$D*2,D0
	BHS.S	.1
	ADD.W	D0,D0
	ADD.W	D0,D0
	MOVE.B	VBITIMER1(A4),D1
	AND.W	#$1C,D1
	MOVE.L	ANCOLPG(PC,D1.W),A0
	MOVE.W	OLDOBJHORPOS+2*2(A4),D1
	SUB.W	D5,D1
	TST.L	(A0,D0.W)
	BEQ.S	.1
	CMP.W	(A0,D0.W),D1
	BHS.S	.2
	CMP.W	2(A0,D0.W),D1
	BHI.S	.1
.2	ADDQ.W	#4,D2

.1	MOVE.W	OLDOBJVERTPOS+1*2(A4),D0
	SUB.W	D4,D0
	ASR.W	#1,D0
	ADD.W	#$D,D0
	CMP.W	#$D*2,D0
	BHS.S	.3
	ADD.W	D0,D0
	ADD.W	D0,D0
	MOVE.B	VBITIMER1(A4),D1
	AND.W	#$1C,D1
	MOVE.L	.ANCOLPA(PC,D1.W),A0
	MOVE.W	OLDOBJHORPOS+1*2(A4),D1
	SUB.W	D5,D1
	TST.L	(A0,D0.W)
	BEQ.S	.3
	CMP.W	(A0,D0.W),D1
	BHS.S	.4
	CMP.W	2(A0,D0.W),D1
	BHI.S	.3
.4	ADDQ.W	#2,D2
	BRA.S	.3

.ANCOLPA	DC.L	KOLLPA1,KOLLPA2,KOLLPA3,KOLLPA4
	DC.L	KOLLPA5,KOLLPA6,KOLLPA7,KOLLPA8

.3	MOVE.W	OLDOBJVERTPOS(A4),D0
	SUB.W	D4,D0
	ASR.W	#1,D0
	ADD.W	#$D,D0
	CMP.W	#$D*2,D0
	BHS.S	.5
	ADD.W	D0,D0
	ADD.W	D0,D0
	MOVE.B	VBITIMER1(A4),D1
	AND.W	#$1C,D1
	MOVE.L	.ANCOLPM(PC,D1.W),A0
	MOVE.W	OLDOBJHORPOS(A4),D1
	SUB.W	D5,D1
	TST.L	(A0,D0.W)
	BEQ.S	.5
	CMP.W	(A0,D0.W),D1
	BHS.S	.6
	CMP.W	2(A0,D0.W),D1
	BHI.S	.5
.6	ADDQ.W	#1,D2
.5	RTS

.ANCOLPM	DC.L	KOLLPM1,KOLLPM2,KOLLPM3,KOLLPM4
	DC.L	KOLLPM5,KOLLPM6,KOLLPM7,KOLLPM8


;------------------------------------------------------------------------

STUNENEMY
	MOVEQ.L	#0,D5
	MOVE.B	.ENEMY(PC,D2.W),D5
	BCLR.B	D5,STUNNED(A4)
	MOVE.B	#$A0,DAUER(A4,D5.W)
	ADDQ.B	#2,NRSTUN(A4)
	MOVEQ.L	#0,D0
	MOVE.B	NRSTUN(A4),D0
	MOVE.W	.SCOR(PC,D0.W),D0
	RTS

.ENEMY	DC.B	0,0,1,1,2,2,2,2
.SCOR	DC.W	0,50,100,200,0,0

DETECTCOLL
	MOVE.W	OLDOBJVERTPOS+3*2(A4),D4
	MOVE.W	OLDOBJHORPOS+3*2(A4),D5
	BSR.W	GENERALCOLL
	AND.B	STUNNED(A4),D2
	BEQ.S	.1
	TST.W	STUNCOUNT(A4)
	BNE.S	.2

	MOVE.B	#$19,DAUER+3(A4)
	MOVE.B	#$5,RICHTUNG+3(A4)
	MOVE.B	#$5,STORERICHTUNG+3(A4)
	MOVE.W	STRTVERTPOS+3*2(A4),OBJVERTPOS+3*2(A4)
	MOVE.W	STRTHORPOS+3*2(A4),OBJHORPOS+3*2(A4)
	SUBQ.B	#1,LIVESPL1(A4)
	ST.B	CHANGELIVES(A4)
	BRA.S	.1

.2	BSR.S	STUNENEMY
	TST.W	DBLSCOR+6(A4)
	BEQ.S	.9
	ADD.W	D0,D0
.9	ADD.W	D0,COUNTSCOR(A4)
.1
	MOVE.W	OLDOBJVERTPOS+4*2(A4),D4
	MOVE.W	OLDOBJHORPOS+4*2(A4),D5
	BSR.W	GENERALCOLL
	AND.B	STUNNED(A4),D2
	BEQ.S	.3
	TST.W	STUNCOUNT(A4)
	BNE.S	.4

	MOVE.B	#$19,DAUER+4(A4)
	MOVE.B	#$5,RICHTUNG+4(A4)
	MOVE.B	#$5,STORERICHTUNG+4(A4)
	MOVE.W	STRTVERTPOS+4*2(A4),OBJVERTPOS+4*2(A4)
	MOVE.W	STRTHORPOS+4*2(A4),OBJHORPOS+4*2(A4)
	SUBQ.B	#1,LIVESPL1+2(A4)
	ST.B	CHANGELIVES(A4)
	BRA.S	.3

.4	BSR.W	STUNENEMY
	TST.W	DBLSCOR+8(A4)
	BEQ.S	.10
	ADD.W	D0,D0
.10	ADD.W	D0,COUNTSCOR+2(A4)
.3
	MOVE.W	OLDOBJVERTPOS+5*2(A4),D4
	MOVE.W	OLDOBJHORPOS+5*2(A4),D5
	BSR.W	GENERALCOLL
	AND.B	STUNNED(A4),D2
	BEQ.S	.5
	TST.W	STUNCOUNT(A4)
	BNE.S	.6

	MOVE.B	#$19,DAUER+5(A4)
	MOVE.B	#$5,RICHTUNG+5(A4)
	MOVE.B	#$5,STORERICHTUNG+5(A4)
	MOVE.W	STRTVERTPOS+5*2(A4),OBJVERTPOS+5*2(A4)
	MOVE.W	STRTHORPOS+5*2(A4),OBJHORPOS+5*2(A4)
	SUBQ.B	#1,LIVESPL1+4(A4)
	ST.B	CHANGELIVES(A4)
	BRA.S	.5

.6	BSR.W	STUNENEMY
	TST.W	DBLSCOR+$A(A4)
	BEQ.S	.11
	ADD.W	D0,D0
.11	ADD.W	D0,COUNTSCOR+4(A4)
.5
	MOVE.W	OLDOBJVERTPOS+6*2(A4),D4
	MOVE.W	OLDOBJHORPOS+6*2(A4),D5
	BSR.W	GENERALCOLL
	AND.B	STUNNED(A4),D2
	BEQ.S	.7
	TST.W	STUNCOUNT(A4)
	BNE.S	.8

	MOVE.B	#$19,DAUER+6(A4)
	MOVE.B	#$5,RICHTUNG+6(A4)
	MOVE.B	#$5,STORERICHTUNG+6(A4)
	MOVE.W	STRTVERTPOS+6*2(A4),OBJVERTPOS+6*2(A4)
	MOVE.W	STRTHORPOS+6*2(A4),OBJHORPOS+6*2(A4)
	SUBQ.B	#1,LIVESPL1+6(A4)
	ST.B	CHANGELIVES(A4)
	BRA.S	.7

.8	BSR.W	STUNENEMY
	TST.W	DBLSCOR+$C(A4)
	BEQ.S	.12
	ADD.W	D0,D0
.12	ADD.W	D0,COUNTSCOR+6(A4)
.7
	RTS	

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

SETNEWLEVEL	ADDQ.B	#1,INGAMELEVEL(A4)
	MOVE.B	INGAMELEVEL(A4),D0
	EOR.B	#$F,D0
	LSR.B	#1,D0
	ADDQ.B	#2,D0
	MOVE.B	D0,BONUSKORN(A4)
;CHANGE FARBE LEVELABHÄNGIG SETZEN
	RTS

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

YELLOWBLINK
 ;SET SCREENCOLOR
	MOVEQ.L	#0,D0
	MOVE.B	VBITIMER1(PC),D0
	AND.W	#$F*2,D0
	TST.B	FADING(A4)
	BNE.S	.1
	TST.B	NOYELLOW(A4)
	BNE.S	.2
	MOVE.W	LFARBGELB(PC,D0.W),D0
	MOVE.W	D0,CL1COL2+2
	MOVE.W	D0,CL2COL2+2
.2	RTS

.1	ADD.W	D0,D0
	MOVE.L	LFARBGELB2(PC,D0.W),D0
	MOVE.L	D0,COLINGY
	RTS


LFARBGELB	DC.W	$770,$880,$990
	DC.W	$AA0,$BB0,$CC0,$DD0,$EE0,$DD0,$CC0,$BB0
	DC.W	$AA0,$990,$880,$770,$660

LFARBGELB2	DC.L	$707000,$808000,$909000
	DC.L	$A0A000,$B0B000,$C0C000,$D0D000,$E0E000,$D0D000,$C0C000,$B0B000
	DC.L	$A0A000,$909000,$808000,$707000,$606000

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

DECDAUER
	TST.B	MOVEMENT(A4)
	BEQ.S	.4
	MOVEQ.L	#0,D2
	MOVE.B	GAMEOBJ(A4),D2
.2	CMP.W	#2,D2
	BHI.S	.5
	TST.W	STUNCOUNT(A4)
	BNE.S	.3
	BRA.S	.1

.5	MOVE.W	D2,D3
	ADD.W	D3,D3
	TST.W	FREEZETIME(A4,D3.W)
	BNE.S	.3
.1	TST.B	DAUER(A4,D2.W)
	BEQ.S	.3
	SUBQ.B	#1,DAUER(A4,D2.W)
	BNE.S	.3
	BSET.B	D2,STUNNED(A4)

.3	DBF	D2,.2
.4	RTS

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

SETOBJSTART
	;reset times
	move.l	#0,DBLMOVE+6(a4)
	move.l	#0,DBLMOVE+$a(a4)
	move.w	#0,VANMONSTCOUNT(a4)
	move.l	#0,FREEZETIME+6(a4)
	move.l	#0,FREEZETIME+$a(a4)
	move.l	#0,DBLSCOR+6(a4)
	move.l	#0,DBLSCOR+$a(a4)

	;SET OBJECTSTARTPOSITION
	MOVEQ.L	#$C,D0

.1	MOVE.W	STRTHORPOS(A4,D0.W),OBJHORPOS(A4,D0.W)
	MOVE.W	STRTVERTPOS(A4,D0.W),OBJVERTPOS(A4,D0.W)
	SUB.W	#2,D0
	BPL.S	.1
	RTS

OBJSTARTOFGAME
	MOVEQ.L	#0,D0
	MOVE.B	GAMEOBJ(PC),D0
	LSL.W	#2,D0
	JMP	.PLYRTAB(PC,D0.W)

.PLYRTAB
	NOP
	NOP

	NOP
	NOP

	NOP
	NOP

	BRA.W	.1PLYR
	BRA.W	.2PLYR
	BRA.W	.3PLYR
.PLYRTABEND

	IFNE	.PLYRTABEND-.PLYRTAB-$18
	FAIL
	ENDC

.4PLYR	MOVEQ.L	#$C,D0
.41	MOVE.W	.4OBJHORSTART(PC,D0.W),STRTHORPOS(A4,D0.W)
	MOVE.W	.4OBJVERTSTART(PC,D0.W),STRTVERTPOS(A4,D0.W)
	SUB.W	#2,D0
	BPL.S	.41
	RTS
.4OBJHORSTART
	DC.W	MINHORPOS,(MINHORPOS+MAXHORPOS)/2,MAXHORPOS
	DC.W	MINHORPOS,$CA,$18A
	DC.W	MAXHORPOS	;STARTORT DER OBJEKTE HORIZONTAL

.4OBJVERTSTART
	DC.W	MAXVERTPOS,MAXVERTPOS,MAXVERTPOS
	DC.W	MINVERTPOS,MINVERTPOS,MINVERTPOS,MINVERTPOS
	;STARTORT DER OBJEKTE VERTIKAL


.3PLYR	MOVEQ.L	#$C,D0
.31	MOVE.W	.3OBJHORSTART(PC,D0.W),STRTHORPOS(A4,D0.W)
	MOVE.W	.3OBJVERTSTART(PC,D0.W),STRTVERTPOS(A4,D0.W)
	SUB.W	#2,D0
	BPL.S	.31
	RTS
.3OBJHORSTART
	DC.W	MINHORPOS,(MINHORPOS+MAXHORPOS)/2,MAXHORPOS
	DC.W	MINHORPOS,(MINHORPOS+MAXHORPOS)/2,MAXHORPOS,MAXHORPOS+$40
	;STARTORT DER OBJEKTE HORIZONTAL
.3OBJVERTSTART
	DC.W	MAXVERTPOS,MAXVERTPOS,MAXVERTPOS
	DC.W	MINVERTPOS,MINVERTPOS,MINVERTPOS,0
	;STARTORT DER OBJEKTE VERTIKAL

.2PLYR	MOVEQ.L	#$C,D0
.21	MOVE.W	.2OBJHORSTART(PC,D0.W),STRTHORPOS(A4,D0.W)
	MOVE.W	.2OBJVERTSTART(PC,D0.W),STRTVERTPOS(A4,D0.W)
	SUB.W	#2,D0
	BPL.S	.21
	RTS
.2OBJHORSTART
	DC.W	MINHORPOS,(MINHORPOS+MAXHORPOS)/2,MAXHORPOS
	DC.W	MINHORPOS,MAXHORPOS,MAXHORPOS+$40,MAXHORPOS+$40
	;STARTORT DER OBJEKTE HORIZONTAL
.2OBJVERTSTART
	DC.W	MAXVERTPOS,MAXVERTPOS,MAXVERTPOS
	DC.W	MINVERTPOS,MINVERTPOS,0,0
	;STARTORT DER OBJEKTE VERTIKAL

.1PLYR	MOVEQ.L	#$C,D0
.11	MOVE.W	.1OBJHORSTART(PC,D0.W),STRTHORPOS(A4,D0.W)
	MOVE.W	.1OBJVERTSTART(PC,D0.W),STRTVERTPOS(A4,D0.W)
	SUB.W	#2,D0
	BPL.S	.11
	RTS
.1OBJHORSTART
	DC.W	MINHORPOS,(MINHORPOS+MAXHORPOS)/2,MAXHORPOS
	DC.W	(MINHORPOS+MAXHORPOS)/2,MAXHORPOS+$40,MAXHORPOS+$40
	DC.W	MAXHORPOS+$40	;STARTORT DER OBJEKTE HORIZONTAL
.1OBJVERTSTART
	DC.W	MAXVERTPOS,MAXVERTPOS,MAXVERTPOS
	DC.W	MINVERTPOS,0,0,0
	;STARTORT DER OBJEKTE VERTIKAL

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

DISPLIVES	TST.B	CHANGELIVES(A4)
	BNE.S	.1
	RTS

.1	MOVE.B	LIVESPL1(A4),D0
	AND.B	LIVESPL1+2(A4),D0
	AND.B	LIVESPL1+4(A4),D0
	AND.B	LIVESPL1+6(A4),D0
	BPL.S	.2
	BSR	.2
	move.b	VBITIMER1(A4),d0
	add.b	#100,d0
.tim1	cmp.b	VBITIMER1(A4),d0
	bne.s	.tim1

.3	TST.W	COUNTSCOR(A4)
	BNE.S	.3
	TST.W	COUNTSCOR+2(A4)
	BNE.S	.3
	TST.W	COUNTSCOR+4(A4)
	BNE.S	.3
	TST.W	COUNTSCOR+6(A4)
	BNE.S	.3
	CLR.B	MOVEMENT(A4)
	BSR	FADEINGOUT
	tst.b	MODLOADED
	beq.s	.hie5
	sf	MODLOADED
	movem.l	d0-a6,-(a7)
	jsr	ende
	movem.l	(a7)+,d0-a6
.hie5
	BSR	hidisplay
	MOVE.L	OSSTACK(PC),A7
	BRA.W	RESTART

.2	CLR.B	CHANGELIVES(A4)
	MOVEQ.L	#0,D0
	MOVEQ.L	#0,D1
	MOVE.B	LIVESPL1(A4),D1
	BSR.S	PRINTLIVES
	MOVEQ.L	#SCRWIDTH/4,D0
	MOVEQ.L	#0,D1
	MOVE.B	LIVESPL1+2(A4),D1
	BSR.S	PRINTLIVES
	MOVEQ.L	#SCRWIDTH/2,D0
	MOVEQ.L	#0,D1
	MOVE.B	LIVESPL1+4(A4),D1
	BSR.S	PRINTLIVES
	MOVEQ.L	#3*SCRWIDTH/4,D0
	MOVEQ.L	#0,D1
	MOVE.B	LIVESPL1+6(A4),D1
;	BSR.S	PRINTLIVES
;	RTS


PRINTLIVES	ADD.B	#1,D1
	CMP.B	#14,D1
	BLO.S	.2
	MOVEQ.L	#14,D1
.2	ADD.W	D1,D1
	ADD.W	D1,D1
	MOVE.L	PRINTTAB(PC,D1.W),D1
	LEA.L	LIVESEVEN,A3
	LEA.L	TWLIVESCON,A2
	MOVEQ.L	#2*8-1,D2
.1	MOVE.L	(A2,D1.W),(A3,D0.W)
	MOVE.L	4(A2,D1.W),4(A3,D0.W)
	MOVE.L	8(A2,D1.W),8(A3,D0.W)
	MOVE.L	$C(A2,D1.W),$C(A3,D0.W)
	MOVE.L	$10(A2,D1.W),$10(A3,D0.W)
	LEA.L	SCRWIDTH(A3),A3
	LEA.L	SCRWIDTH/4(A2),A2
	DBF	D2,.1
	RTS

PRINTTAB	DC.L	0,8*2*$14,2*8*2*$14,3*8*2*$14,4*8*2*$14,5*8*2*$14
	DC.L	6*8*2*$14,7*8*2*$14,8*8*2*$14,9*8*2*$14,10*8*2*$14,11*8*2*$14
	DC.L	12*8*2*$14,13*8*2*$14,14*8*2*$14


BLITUSED	DC.W	0

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
;HISCOREPART
;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
;st:	;jmp	hiprintonechar
	;jmp	prg

stpl1r:	dc.l	stpl1
stpl2r:	dc.l	stpl2
stpl3r:	dc.l	stpl3


;-----------------------------------------------------------------------

;teststr	dc.b	"TEST12 5Z",0
	even

;input
;a1-format
;a2-hidata
;d7-entrynumber
hicmpandmove
	clr.b	hientryactive
	;determine at which entry score must be inserted
	moveq.l	#0,d7	;first entry
	lea.l	HIGHSFORMSC1-HIGHSFORM1PL(a1),a3

.1	move.w	6(a3),d0
	lea.l	(a2,d0.w),a0

	bsr	highconvtxttobcd

	cmp.l	ALLSCORE(pc),d1
	BLO.S	.moveentries

	adda.l	#HIGHSFORMSC2-HIGHSFORMSC1,a3
	addq.l	#1,d7
	cmp.w	#3,d7
	blo.s	.1
	;no entry here
	moveq	#-1,d7
	rts
.moveentries

	moveq	#1,d6
	lea	HIGHSFORMSC1-HIGHSFORM1PL(a1),a3
	moveq	#0,d5
	move.w	HIGHSFORMSC2-HIGHSFORMSC1+6(a3),d5
;	sub.w	6(a3),d5	;total len of one score entry

.mventr1
	cmp.w	d7,d6
	blt	.clearentry
	move.l	d6,d0
	mulu	d5,d0
	lea	(a2,d0.w),a3
	move.l	d5,d0
	subq.w	#1,d0
.mventr2
	move.b	(a3),(a3,d5.w)
	adda.l	#1,a3
	dbf	d0,.mventr2
	subq.l	#1,d6
	bra.s	.mventr1

.clearentry
	lea	HIGHSFORMSC1-HIGHSFORM1PL(a1),a3
	moveq	#0,d5
	move.w	HIGHSFORMSC2-HIGHSFORMSC1+6(a3),d5
	sub.w	6(a3),d5	;total len of one score entry
	move.l	#HIGHSFORMSC2-HIGHSFORMSC1,d0
	mulu	d7,d0
	lea	(a3,d0.w),a3	;offset in hiform definition

	move.w	6(a3),d0
;	sub.w	HIGHSFORMSC1-HIGHSFORMPL1+6(a1),d0
	lea	(a2,d0.w),a0

	move.l	ALLSCORE(PC),d1	;insert new hiscore
	move.l	a0,-(a7)
	lea	7(a0),a0
	moveq	#7-1,d2
.clr1	move.b	d1,d0
	and.b	#$F,d0
	add.b	#$30,d0
	move.b	d0,-(a0)
	lsr.l	#4,d1
	dbf	d2,.clr1
	move.l	(a7)+,a0	

	move.l	a3,-(a7)	;clear names
	moveq	#4-1,d2		;max 4 names
.clr2	lea.l	8(a3),a3
	move.w	6(a3),d0
	bmi.s	.clrskip
	clr.b	(a2,d0.w)
.clrskip
	dbf	d2,.clr2
	move.l	(a7)+,a3

	lea	hitempname(pc),a0
	move.b	#$20,(a0)+
	move.b	#$5c,(a0)+
	move.b	#$20,(a0)+
	move.b	#$00,(a0)+
	
	lea.l	8(a3),a3

	move.l	a3,-(a7)
	lea	hitempname(pc),a0
	bsr	hiprintstring
	move.l	(a7)+,a3
	st.b	hientryactive
	rts

hidisplay
prg:	movem.l	d0-d7/a0-a6,-(sp)
;.1	btst	#$6,$bfe001
;	bne.w	.1
;	move.l	4,a6
;	jsr	-132(a6)
;	move	#$4000,$dff09a
;	st	showendpart
	JSR	SWITCHTOOS
	LEA	highmodname(pc),a0
	move.l	a0,d1
	LEA	MODSPACE,a0
	move.l	a0,d2
	move.l	#180000,d3
	JSR	LOADFILE
	sf	MODLOADED
	TST.L	D4
	beq.s	.hd1
	st	MODLOADED
	
.hd1	JSR	SWITCHTOGAME

	bsr	sethivbi
	bsr.w	setplp1
	bsr.w	makestartab

	tst.b	MODLOADED
	beq.s	.hd2
	lea	MODSPACE,a0
	movem.l	d0-a6,-(a7)
	jsr	init
	movem.l	(a7)+,d0-a6
.hd2
;here display endpic
	tst.b	showendpart
	beq.w	.showhi
	move.l	#endpartcl,$dff080
	st	endpartactive
	bsr	clearhiscreen
	bsr	setplep

	lea.l	FENDPIC,a1
	LEA	SCREEN1,a3
	LEA	640/8/4(a3),a3	;hor. offset
	LEA	50*80(a3),a3	;vert. offset
	move.w	#0,d2
.cpep
	move.w	#320/8/4-1,d1	;one line in one bitplane
	move.l	a3,a0
.cppl1	move.l	(a1)+,(a0)+
	dbf	d1,.cppl1
	
	move.w	#320/8/4-1,d1	;one line in one bitplane
	lea.l	640/8*200(a3),a0
.cppl2	move.l	(a1)+,(a0)+
	dbf	d1,.cppl2
	
	move.w	#320/8/4-1,d1	;one line in one bitplane
	lea.l	640/8*200*2(a3),a0
.cppl3	move.l	(a1)+,(a0)+
	dbf	d1,.cppl3
	
	move.w	#320/8/4-1,d1	;one line in one bitplane
	lea.l	640/8*200*2(a3),a0
	lea.l	640/8*200(a0),a0
.cppl4	move.l	(a1)+,(a0)+
	dbf	d1,.cppl4

	lea	640/8(a3),a3
	addq.w	#1,d2
	cmp.w	#100,d2		;pic height
	bne.s	.cpep

	bsr	FADEENDIN

	MOVE.L	#$0F0F0F0F,INPUTSTORE
	MOVE.W	#$0F0F,INPUTSTORE+4
	BRA.S	.ep2
;ROUTINE SOLL BEI GEDRÜCKT NICHT REAGIEREN, ERST WENN INPUT WIEDER LOSGELASSEN

.ep1	MOVE.B	D0,INPUTSTORE
	BRA.S	.ep2

.ep3	MOVE.B	D0,INPUTSTORE+4
.ep2
	JSR	KBD1EROUT
	CMP.B	#$F,D0
	BNE.S	.ep3
	CMP.B	INPUTSTORE+4,D0
	BNE.S	.ep4

	JSR	JOY1ROUT
	CMP.B	#$F,D0
	BNE.S	.ep1
	CMP.B	INPUTSTORE,D0
	BEQ.S	.ep2

.ep4
	bsr	FADEENDOUT
	sf	endpartactive


.showhi
	sf.b	showendpart
	move.l	#highcl,$dff080
	bsr.w	clearhiscreen
;	lea	teststr,a0
;	move.w	#2,d1
;	move.w	#0,d2
;	move.w	#0,d3
;	move.l	#$44,d0
;	bsr	hiprintonechar
;	bsr	hiprintstringla
	moveq	#0,d0
	move.b	gameobj(pc),d0
	subq.l	#3,d0
	lea.l	HIGHSDESCR(pc),a0
	lsl.l	#3,d0
	move.l	(a0,d0.w),a1
	move.l	4(a0,d0.w),a2
;	LEA	HIGHSFORM4PL(PC),A1
;	LEA	HIGHSDAT4PL(PC),A2
	sf	hientryactive
	tst.b	hiescape
	bne.s	.sk1
	bsr	hicmpandmove
.sk1
	bsr	hiprintall
	st	hiactive(a4)
	movem.l	d0-a6,-(a7)
	bsr	FADEHIGHIN
	movem.l	(a7)+,d0-a6

;wait:	move.l	$dff004,d0
;	and.l	#$1ff00,d0
;	cmp.l	#$13000,d0
;	bne.b	wait



;nameentering here
	tst.b	hientryactive
	beq.w	.waithi
	st	KEYVAL
	moveq.l	#0,d6		;nameentering pl1

.hienter
	moveq	#0,d0
	move.b	KEYVAL(pc),d0
	bmi.s	.hienter
	st.b	KEYVAL
	cmp.b	#$44,d0		;return
	beq.s	.processentry
	cmp.b	#$41,d0		;backspace
	beq.s	.dellastchar
	lea	KEYTRANS(pc),a0
	move.b	(a0,d0.w),d0	;ascii of key

	moveq	#-1,d1
	lea	hitempname(pc),a0
.hitmpstrlen
	addq.l	#1,d1
	tst.b	(a0)+
	bne.s	.hitmpstrlen
	cmp.b	#8+3,d1
	bhs.s	.hienter
	lea	-3(a0),a0
	move.b	d0,(a0)+
	move.b	#$5c,(a0)+
	move.b	#$20,(a0)+
	move.b	#0,(a0)+

.hieprint
	LEA	HIGHSFORMSC1-HIGHSFORM1PL(a1),a3
	move.l	d7,d0
	mulu	#HIGHSFORMSC2-HIGHSFORMSC1,d0
	lea	8(A3,d0.w),a3
	move.l	d6,d0
	lsl.l	#3,d0
	lea	(a3,d0.w),a3
	lea	hitempname(pc),a0
	bsr	hiprintstring
	
	bra.s	.hienter

.dellastchar
	moveq	#-1,d1
	lea	hitempname(pc),a0
.hidellast
	addq.l	#1,d1
	tst.b	(a0)+
	bne.s	.hidellast
	cmp.b	#$3,d1		;space, _, space
	bls.s	.hienter
	lea	-4(a0),a0
	move.b	#$5c,(a0)+
	move.b	#$20,(a0)+
	move.b	#0,(a0)+
	bra.s	.hieprint

.processentry
	lea.l	HIGHSFORMSC1-HIGHSFORM1PL(a1),a3
	move.l	d7,d0
	mulu	#HIGHSFORMSC2-HIGHSFORMSC1,d0
	lea	8(A3,d0.w),a3
	move.l	d6,d0
	lsl.l	#3,d0
	lea	(a3,d0.w),a3

	move.w	6(a3),d0
	move.l	a3,-(a7)
	lea	(a2,d0.w),a3
	lea	hitempname+1(pc),a0
.pe1	move.b	(a0)+,d0
	beq.s	.peend
	cmp.b	#$5c,d0
	beq.s	.peend2
	move.b	d0,(a3)+
	bra.s	.pe1
.peend2
	move.b	#$20,-1(a0)
.peend
	clr.b	(a3)
	move.l	(a7),a3
	lea.l	hitempnamece(pc),a0
	cmp.w	#3,4(a3)
	beq.s	.peend3
	lea	hitempname(pc),a0
.peend3	bsr	hiprintstring
	move.l	(a7)+,a3

	lea	hitempname(pc),a0	;clear tempstring for next use
	move.b	#$20,(a0)+
	move.b	#$5c,(a0)+
	move.b	#$20,(a0)+
	clr.b	(a0)+

	addq.l	#1,d6
	cmp.w	#4,d6		;max 4 names
	bhs.s	.waithi
	lea	8(a3),a3
	tst.w	6(a3)
	bpl.w	.hieprint
	;fall through - end of entering

.waithi
	MOVE.L	#$0F0F0F0F,INPUTSTORE
	MOVE.W	#$0F0F,INPUTSTORE+4
	BRA.S	.hi2
;ROUTINE SOLL BEI GEDRÜCKT NICHT REAGIEREN, ERST WENN INPUT WIEDER LOSGELASSEN

.hi1	MOVE.B	D0,INPUTSTORE
	BRA.S	.hi2

.hi3	MOVE.B	D0,INPUTSTORE+4
.hi2
	JSR	KBD1EROUT
	CMP.B	#$F,D0
	BNE.S	.hi3
	CMP.B	INPUTSTORE+4,D0
	BNE.S	.hi4

	JSR	JOY1ROUT
	CMP.B	#$F,D0
	BNE.S	.hi1
	CMP.B	INPUTSTORE,D0
	BEQ.S	.hi2

.hi4
;mouse	btst	#$6,$bfe001
;	bne.w	wait

;	move	#$c000,$dff09a
;	move.l	4,a6
;	jsr	-138(a6)
	bsr	FADEHIGHOUT
	clr.b	hiactive(a4)
	tst.b	MODLOADED
	beq.s	.hie5
	sf	MODLOADED
	movem.l	d0-a6,-(a7)
	jsr	ende
	movem.l	(a7)+,d0-a6
.hie5
.bltwait
	btst	#6,$dff002
	bne.s	.bltwait

	lea	HIGHSDAT1PL(pc),a0
	move.l	#(HIGHSDATS-HIGHSDAT1PL)/4-1,d1
	move.l	#0,d0
.l1	add.l	(a0)+,d0
	dbf	d1,.l1
	move.l	d0,HIGHSDATS

	tst.b	hientryactive
	beq.s	.nosave

	JSR	SWITCHTOOS

	LEA	highfilename(pc),a0
	move.l	a0,d1
	LEA	HIGHSDAT1PL(pc),a0
	move.l	a0,d2
	move.l	#HIGHSDATEND-HIGHSDAT1PL,d3
	JSR	SAVEFILE

;wait 4 seconds
	move.l	#60*4,D1
.w1	move.l	$dff004,d0
	and.l	#$1ff00,d0
	cmp.l	#$10000,d0
	bne.s	.w1
.w2	move.l	$dff004,d0
	and.l	#$1ff00,d0
	cmp.l	#$10000,d0
	beq.s	.w2
	dbf	d1,.w1


	JSR	SWITCHTOGAME

.nosave
;	move.l	#grname,a1
;	clr.l	d0
;	jsr	-552(a6)
;	move.l	d0,a5
; 	move.l	38(a5),$dff080
;	clr.w	$dff088


	movem.l	(sp)+,d0-d7/a0-a6
	rts

;grname:	dc.b	"graphics.library",0
	even	


;------------------------------------------------------------------------------

staranz=180				; A-500 243, FREAK 970

stars:	jmp	evalstars


ofsetbl:dc.l	(sc1e-sc1s)*0
ofsetcl:dc.l	(sc1e-sc1s)*1
ofsetdi:dc.l	(sc1e-sc1s)*2
startab:ds.w	3*staranz
coltab:	ds.b	$300
;------------------------------------------------------------------------------

makestartab:

	move	#staranz-1,d7
	lea	startab(pc),a0

.1:	jsr	random
	and	#$3ff,d0	
	sub	#$1ff,d0
	move	d0,(a0)+
	jsr	random
	and	#$1ff,d0	
	sub	#$0ff,d0
	move	d0,(a0)+
	jsr	random
	and	#$1ff,d0	
	move	d0,(a0)+
	dbf	d7,.1

	lea	coltab(pc),a0

	move	#84,d0
.2:	move.b	#$c*5,(a0)+
	dbf	d0,.2
	move	#84,d0
.3:	move.b	#$c*4,(a0)+
	dbf	d0,.3
	move	#84,d0
.4:	move.b	#$c*3,(a0)+
	dbf	d0,.4
	move	#84,d0
.5:	move.b	#$c*2,(a0)+
	dbf	d0,.5
	move	#84,d0
.6:	move.b	#$c*1,(a0)+
	dbf	d0,.6
	move	#84,d0
.7:	move.b	#$c*0,(a0)+
	dbf	d0,.7
	rts


setplp1:
	lea.l	stpl1,a0
	lea.l	stpl2,a1
	lea.l	stpl3,a2
	move.l	ofsetdi(pc),d0
	add.l	d0,a0
	add.l	d0,a1
	add.l	d0,a2
	move.l	a0,stpl1r
	move.l	a1,stpl2r
	move.l	a2,stpl3r

	lea.l	plp1,a0
	move.l	stpl1r(pc),d0
	move	d0,$06(a0)
	swap	d0
	move	d0,$02(a0)
	move.l	stpl2r(pc),d0
	move	d0,$0e(a0)
	swap	d0
	move	d0,$0a(a0)
	move.l	stpl3r(pc),d0
	move	d0,$16(a0)
	swap	d0
	move	d0,$12(a0)
	lea.l	stht1,a1
	lea.l	stht2,a2
	move.l	a1,d0
	move.w	d0,$1e(a0)
	swap	d0
	move.w	d0,$1a(a0)
	move.l	a2,d0
	move.w	d0,$26(a0)
	swap	d0
	move.w	d0,$22(a0)
	lea.l	stht3,a2
	move.l	a2,d0
	move.w	d0,$2e(a0)
	swap	d0
	move.w	d0,$2a(a0)
	rts

setplep
	lea	SCREEN1,a1
	lea	plep1,a0
	move.l	a1,d0
	move.w	d0,$06(a0)
	swap	d0
	move.w	d0,$02(a0)
	lea	640/8*200(a1),a1
	move.l	a1,d0
	move.w	d0,$0e(a0)
	swap	d0
	move.w	d0,$0a(a0)
	lea	640/8*200(a1),a1
	move.l	a1,d0
	move.w	d0,$16(a0)
	swap	d0
	move.w	d0,$12(a0)
	lea	640/8*200(a1),a1
	move.l	a1,d0
	move.w	d0,$1e(a0)
	swap	d0
	move.w	d0,$1a(a0)
	rts
	
;-----------------------------------------------------------------------
;input:
;a1-hiscorelayout
;a2-hiscoredata
hiprintall
	movem.l	d4/d5/a1,-(a7)
.1	moveq	#0,d1
	move.w	(a1)+,d1
	moveq	#0,d2
	move.b	(a1)+,d2
	moveq	#0,d3
	move.b	(a1)+,d3
	move.w	(a1)+,d4
	move.w	(a1)+,d5
	lea	(a2,d5.w),a0
	mulu	#.slotend-.slotstart,d4
	jmp	.2(PC,d4.w)
.2
	movem.l	(a7)+,d4/d5/a1
	rts

.slotstart
	bsr.w	hiprintstringla
	bra.s	.1
.slotend

	bsr.w	hiprintstringra
	bra.s	.1
	
	bsr.w	hiprintstringce
	bra.s	.1


hiprintstring
.1	moveq	#0,d1
	move.w	(a3)+,d1
	moveq	#0,d2
	move.b	(a3)+,d2
	moveq	#0,d3
	move.b	(a3)+,d3
	move.w	(a3)+,d4
	move.w	(a3)+,d5
;	lea	(a2,d5.w),a0
	mulu	#.slotend-.slotstart,d4
	jmp	.2(PC,d4.w)
.2
	rts
	nop
	nop
	nop

.slotstart
	subq.w	#2,d1
	bsr.w	hiprintstringla
	rts
.slotend
	addq.w	#4,d1
	bsr.w	hiprintstringra
	rts

	nop	
	bsr.w	hiprintstringce
	rts


;-----------------------------------------------------------------------
;input:
;d0-char - attention:underscore is $5C
;d1-x, min 2, max 36 half-steps
;d2-y, min 0, max 9
;d3-y, lines offset (sensible values 0-17)
;used:
;a0-planeptr0, offset plane 1 is 200*$40
;a1-charsetptr
;a2-temporary planepointer

hiprintonechar
	movem.l	d0-d3/a0-a2,-(a7)
;	lsl.w	#1,d1	;omitted due possible half-steps
	lsl.w	#6,d3	;linewidth
	lsl.w	#6,d2	;linewidth
	mulu	#18,d2	;charsetheight
;	add.w	#$40*9,d2	;permanent offset: half line
	add.w	d1,d2
	add.w	d3,d2

	lea	stht1,a0
	lea	char_a,a1
	cmp.b	#$30,d0
	blo.s	.space
	cmp.b	#$39,d0
	bls.s	.number
	cmp.b	#$41,d0
	blo.s	.space
	cmp.b	#'Z'+2,d0
	bls.s	.char
	bra.s	.space


.number	cmp.b	#$30,d0
	bne.s	.num1
	move.l	#$3a,d0
.num1	sub.l	#$31,d0
	lea	char_0,a1
	bra.s	.cont

.space	move.l	#'Z'+1,d0
.char	sub.l	#$41,d0
	lea	char_a,a1
.cont
	lsl.w	#2,d0
	mulu.w	#18,d0
	moveq	#18-1,d1
	lea	(a0,d2.w),a2
.cpy
	move.b	(a1,d0.w),(a2)
	move.b	1(a1,d0.w),1(a2)
	move.b	2(a1,d0.w),200*$40(a2)
	move.b	3(a1,d0.w),200*$40+1(a2)
	addq.w	#4,d0
	add.l	#$40,a2
	dbf	d1,.cpy
	movem.l	(a7)+,d0-d3/a0-a2
	rts

;left-aligned
;a0-string, 0-terminated
hiprintstringla
	moveq.l	#0,d0
.1	move.b	(a0)+,d0
	beq.s	.quit
	bsr.w	hiprintonechar
	addq.w	#2,d1
	bra.s	.1

.quit	rts

;right-aligned
;a0-string, 0-terminated
hiprintstringra
	move.l	a1,-(a7)
	moveq.l	#-1,d0
	move.l	a0,a1
.countchars
	addq.w	#1,d0
	tst.b	(a1)+
	bne.s	.countchars
	lsl.w	#1,d0
	sub.w	d0,d1
	tst.w	d1
	bpl.s	.countok
	moveq	#0,d1
.countok

	moveq.l	#0,d0
.1	move.b	(a0)+,d0
	beq.s	.quit
	bsr.w	hiprintonechar
	addq.w	#2,d1
	bra.s	.1

.quit	move.l	(a7)+,a1
	rts

;centered
;a0-string, 0-terminated
hiprintstringce
	move.l	a1,-(a7)
	moveq.l	#-1,d0
	move.l	a0,a1
.countchars
	addq.w	#1,d0
	tst.b	(a1)+
	bne.s	.countchars
	sub.w	d0,d1
	tst.w	d1
	bpl.s	.countok
	moveq	#0,d1
.countok

	moveq.l	#0,d0
.1	move.b	(a0)+,d0
	beq.s	.quit
	bsr.w	hiprintonechar
	addq.w	#2,d1
	bra.s	.1

.quit	move.l	(a7)+,a1
	rts


clearhiscreen
	lea	SCREEN1,A0
	move.l	#SCREEN4ENDE-SCREEN1,D0
.1	clr.w	(a0,d0.l)
	subq.l	#2,d0
	bpl	.1
	rts

vbihigh
	MOVEM.L	A0-A6/D0-D7,-(A7)	;SAVE REGS
	LEA.L	$DFF000,A6
	BTST	#5,$01F(A6)
	BEQ.W	.1
	MOVE.W	#$20,$09C(A6)

	ADDQ.B	#1,VBITIMER1


	LEA.L	LINETAB-$7E(PC),A4
	tst.b	hiactive(a4)
	beq.w	.2
	move.l	#highcl,$80(a6)
	add.l	#(sc1e-sc1s)*1,ofsetbl	
	cmp.l	#(sc1e-sc1s)*3,ofsetbl
	bne	.10
	move.l	#0,ofsetbl
.10:	add.l	#(sc1e-sc1s)*1,ofsetcl	
	cmp.l	#(sc1e-sc1s)*3,ofsetcl
	bne	.11
	move.l	#0,ofsetcl
.11:	add.l	#(sc1e-sc1s)*1,ofsetdi	
	cmp.l	#(sc1e-sc1s)*3,ofsetdi
	bne	.12
	move.l	#0,ofsetdi
.12:	
	bsr.w	setplp1

	lea.l	$dff000,a6
	lea.l	stpl1,a0
	add.l	ofsetcl(pc),a0
	move.l	a0,$054(a6)	;Adresse des Zielbereiches
	move	#$0018,$066(a6)	;Modulowert des Zielbereiches
	move	#$0100,$040(a6)	;Ziel aktivieren
	move	#$0000,$042(a6)	
	move.l	#$ffffffff,$044(a6)
	move	#%1001011000010100,$058(a6)	;$258 H, $14 W
;		  ++++++++++------

;	move	#$00f,$dff180
	bsr.w	stars

	tst.b	MODLOADED
	beq.s	.nomus
	movem.l	d0-a6,-(a7)
	jsr	music
	movem.l	(a7)+,d0-a6
;	move	#$f00,$dff180
.nomus

.2
	tst.b	endpartactive
	beq.s	.44
	tst.b	MODLOADED
	beq.s	.nomus2
	movem.l	d0-a6,-(a7)
	jsr	music
	movem.l	(a7)+,d0-a6
;	move	#$f00,$dff180
.nomus2

	
.44
;	MOVE.W	#$F00,$DFF180
.1	MOVE.W	#$50,$09C(A6)
	MOVEM.L	(A7)+,A0-A6/D0-D7	;GET REGS
	RTE

sethivbi
	;SET INTERRUPTS
	LEA	$DFF000,A6
	MOVE.W	#$7FFF,$9A(A6)
	JSR	WAITLINE0
.1	btst	#6,$02(a6)		;waitblit
	bne.s	.1
	MOVE.W	#$7FFF,$96(A6)
	MOVE.W	#DMASET!$8220,$96(A6)	; DMA Control data
	LEA	vbihigh(PC),A0
	MOVE.L	A0,$6C.W
	LEA.L	KEYINT,A0
	MOVE.L	A0,$68.W
	LEA.L	INT6,A0
	MOVE.L	A0,$78.W
 ;ENABLE INTERRUPTS
	MOVE.W	#$7FFF,$9C(A6)
	MOVE.W	#$C028,$9A(A6)
	rts

FADEENDIN
	MOVEQ.L	#49,D3		;steps total: 1 sec
	MOVEQ.L	#0,D2
	LEA.L	endpartcl,A3
;	LEA.L	CL2,A5
	LEA.L	FADEENDTAB(PC),A0
	LEA.L	COLEND1(PC),A1
	LEA.L	COLEND2(PC),A2
	BRA.S	FADEIN


FADEHIGHIN
	MOVEQ.L	#49,D3		;steps total: 1 sec
	MOVEQ.L	#0,D2
	LEA.L	highcl,A3
;	LEA.L	CL2,A5
	LEA.L	FADEHITAB(PC),A0
	LEA.L	COLHI1(PC),A1
	LEA.L	COLHI2(PC),A2
FADEIN
.3	MOVEQ.L	#0,D7
.1	MOVE.W	D7,D1
	ADD.W	D1,D1
	MOVE.L	0(A2,D1.W),D4
	MOVE.L	0(A1,D1.W),D5
	JSR	EVALCOLOR
	MOVEQ.L	#0,D0
	LSR.L	#4,D6
	MOVEQ.L	#$F,D1
	AND.L	D6,D1
	OR.W	D1,D0
	ROR.W	#4,D0
	LSR.L	#8,D6
	MOVEQ.L	#$F,D1
	AND.L	D6,D1
	OR.W	D1,D0
	ROR.W	#4,D0
	LSR.L	#8,D6
	MOVEQ.L	#$F,D1
	AND.L	D6,D1
	OR.W	D1,D0
	ROL.W	#8,D0
	MOVE.W	0(A0,D7.W),D1
	MOVE.W	D0,0(A3,D1.W)
;	MOVE.W	D0,0(A5,D1.W)
	ADDQ.W	#2,D7
	TST.W	(A0,D7.W)
	BNE.S	.1
	MOVE.B	VBITIMER1,D0
.2	CMP.B	VBITIMER1,D0
	BEQ.S	.2
	ADDQ.W	#1,D2
	CMP.W	D2,D3
	BHS.S	.3
	RTS

FADEENDOUT
	MOVEQ.L	#49,D3
	MOVEQ.L	#0,D2
	LEA.L	endpartcl,A3
;	LEA.L	CL2,A5
	LEA.L	FADEENDTAB(PC),A0
	LEA.L	COLEND2(PC),A1
	LEA.L	COLEND1(PC),A2
	bra.s	FADEOUT

FADEHIGHOUT
	MOVEQ.L	#49,D3
	MOVEQ.L	#0,D2
	LEA.L	highcl,A3
;	LEA.L	CL2,A5
	LEA.L	FADEHITAB(PC),A0
	LEA.L	COLHI2(PC),A1
	LEA.L	COLHI1(PC),A2
FADEOUT
.3	MOVEQ.L	#0,D7
.1	MOVE.W	D7,D1
	ADD.W	D1,D1
	MOVE.L	0(A2,D1.W),D4
	MOVE.L	0(A1,D1.W),D5
	JSR	EVALCOLOR
	MOVEQ.L	#0,D0
	LSR.L	#4,D6
	MOVEQ.L	#$F,D1
	AND.L	D6,D1
	OR.W	D1,D0
	ROR.W	#4,D0
	LSR.L	#8,D6
	MOVEQ.L	#$F,D1
	AND.L	D6,D1
	OR.W	D1,D0
	ROR.W	#4,D0
	LSR.L	#8,D6
	MOVEQ.L	#$F,D1
	AND.L	D6,D1
	OR.W	D1,D0
	ROL.W	#8,D0
	MOVE.W	0(A0,D7.W),D1
	MOVE.W	D0,0(A3,D1.W)
;	MOVE.W	D0,0(A5,D1.W)
	ADDQ.W	#2,D7
	TST.W	(A0,D7.W)
	BNE.S	.1
	MOVE.B	VBITIMER1,D0
.2	CMP.B	VBITIMER1,D0
	BEQ.S	.2
	ADDQ.W	#1,D2
	CMP.W	D2,D3
	BHS.S	.3
	RTS
myend

FADEHITAB
	DC.W	hicol+2-highcl,hicol+6-highcl
	DC.W	hicol+$A-highcl,hicol+$E-highcl
	DC.W	hicol+$12-highcl,hicol+$16-highcl
	DC.W	hicol+$1A-highcl,hicol+$1E-highcl
	DC.W	hicol+$22-highcl,hicol+$26-highcl
	DC.W	hicol+$2A-highcl,hicol+$2E-highcl,0

COLHI1
	DC.L	$00000000,$00606090,$00304070,$00202040
	DC.L	$00000000,$00202020,$00404040,$00606060
	DC.L	$00808080,$00a0a0a0,$00c0c0c0,$00e0e0e0

COLHI2	DC.L	00000000,00000000,00000000,00000000
	DC.L	00000000,00000000,00000000,00000000
	DC.L	00000000,00000000,00000000,00000000

FADEENDTAB
	DC.W	epcol+2-endpartcl,epcol+6-endpartcl
	DC.W	epcol+$A-endpartcl,epcol+$E-endpartcl
	DC.W	epcol+$12-endpartcl,epcol+$16-endpartcl
	DC.W	epcol+$1A-endpartcl,epcol+$1E-endpartcl
	DC.W	epcol+$22-endpartcl,epcol+$26-endpartcl
	DC.W	epcol+$2A-endpartcl,epcol+$2E-endpartcl
	DC.W	epcol+$32-endpartcl,epcol+$36-endpartcl
	DC.W	epcol+$3A-endpartcl,epcol+$3E-endpartcl,0

COLEND1
	DC.L	$00000000,$00e0d000,$00c0b000,$00a09000
	DC.L	$00807000,$00605000,$00405050,$002050a0
	DC.L	$00600080,$00a00000,$00807000,$00c00000
	DC.L	$00a09000,$00c0b000,$00808080,$00b0b0b0

COLEND2	DC.L	00000000,00000000,00000000,00000000
	DC.L	00000000,00000000,00000000,00000000
	DC.L	00000000,00000000,00000000,00000000
	DC.L	00000000,00000000,00000000,00000000



;^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

	EVEN
STEP	DC.W	2,-2,2*COLS,-2*COLS
	DC.W	1,-1,COLS,-COLS

	CNOP	0,4
HLBEGIN
DBLSCOR	EQU	*-2*3
	DS.W	NROFOBJECTS-2
FREEZETIME	EQU	*-2*3
	DS.W	NROFOBJECTS-2
DBLMOVE	DS.W	NROFOBJECTS+1
KINDOFJOIST	DS.B	4
DRAWJOIST	DS.B	NROFOBJECTS-2
LENGTHJOIST	DS.W	NROFOBJECTS-2
STRTHORPOS	DS.W	NROFOBJECTS+1
STRTVERTPOS	DS.W	NROFOBJECTS+1
OBJHORPOS	DS.W	NROFOBJECTS+1	;ORT DER OBJEKTE:MAN,ARROW,GHOST,PLYR1-4
OBJVERTPOS	DS.W	NROFOBJECTS+1
					;ORT DER OBJEKTE ^^ VERTIKAL
OLDOBJHORPOS	DS.W	NROFOBJECTS+1
OLDOBJVERTPOS	DS.W	NROFOBJECTS+1
OLD2OBJHORPOS	DS.W	NROFOBJECTS+1
OLD2OBJVERTPOS	DS.W	NROFOBJECTS+1
OLD3OBJHORPOS	DS.W	NROFOBJECTS+1
OLD3OBJVERTPOS	DS.W	NROFOBJECTS+1
RICHTUNG	DS.B	NROFOBJECTS+1	;LAUFRICHTUNGEN DER OBJEKTE

	ODD
DAUER	DS.B	NROFOBJECTS+1	;NOCH DAUER DER BETÄUBUNG

TIMQUIET	EQU	*-3
	DS.B	NROFOBJECTS-2
STORERICHTUNG	EQU	*-3
	DS.B	NROFOBJECTS-2
INPUTDEV	EQU	*-3
INPUTDEV2
	DC.B	0,5,2,3
;INPUTDEV:	0-3: JOY 0-3
;		4-5: KBD 0-1

	EVEN
RIGHTMOV	DC.B	0	;NULL HEISST, OBJEKT KANN NACH RECHTS ZIEHEN
LEFTMOV	DC.B	0		;-"- LINKS
DOWNMOV	DC.B	0		;UNTEN
UPMOV	DC.B	0		;OBEN

	EVEN
TEMPSCORE	EQU	*-3*2
COUNTSCOR
	DS.W	NROFOBJECTS-2	;TEMPORÄRE SCORE

;EXTRASTUN	DS.W	NROFOBJECTS-2

LIVESPL1	DC.B	0	;NUMBER OF LIVES PLYR1
NEW100000	DC.B	0
			;BONUSLIVE BEI ERREICHEN DIESER HUNDERTTAUSENDERSTELLE
LIVESPL2	DC.B	0	;NUMBER OF LIVES PLYR2
	DC.B	0		;BONUSLIVE ... PLYR2
LIVESPL3	DC.B	0
	DC.B	0
LIVESPL4	DC.B	0
	DC.B	0
MODLOADED	dc.b	0
hiactive	dc.b	0
 CNOP 0,4
HLENDE

LINETAB	DC.L	0,SCRWIDTH*4,SCRWIDTH*4*2,SCRWIDTH*4*3
	DC.L	SCRWIDTH*4*4,SCRWIDTH*4*5,SCRWIDTH*4*6,SCRWIDTH*4*7
	DC.L	SCRWIDTH*4*8,SCRWIDTH*4*9,SCRWIDTH*4*$A,SCRWIDTH*4*$B
	DC.L	SCRWIDTH*4*$C,SCRWIDTH*4*$D,SCRWIDTH*4*$E,SCRWIDTH*4*$F
	DC.L	SCRWIDTH*4*$10,SCRWIDTH*4*$11,SCRWIDTH*4*$12,SCRWIDTH*4*$13
	DC.L	SCRWIDTH*4*$14,SCRWIDTH*4*$15,SCRWIDTH*4*$16,SCRWIDTH*4*$17
	DC.L	SCRWIDTH*4*$18,SCRWIDTH*4*$19,SCRWIDTH*4*$1A,SCRWIDTH*4*$1B
	DC.L	SCRWIDTH*4*$1C,SCRWIDTH*4*$1D,SCRWIDTH*4*$1E,SCRWIDTH*4*$1F
	DC.L	SCRWIDTH*4*$20,SCRWIDTH*4*$21,SCRWIDTH*4*$22,SCRWIDTH*4*$23
	DC.L	SCRWIDTH*4*$24,SCRWIDTH*4*$25,SCRWIDTH*4*$26,SCRWIDTH*4*$27
	DC.L	SCRWIDTH*4*$28,SCRWIDTH*4*$29,SCRWIDTH*4*$2A,SCRWIDTH*4*$2B
	DC.L	SCRWIDTH*4*$2C,SCRWIDTH*4*$2D,SCRWIDTH*4*$2E,SCRWIDTH*4*$2F
	DC.L	SCRWIDTH*4*$30,SCRWIDTH*4*$31,SCRWIDTH*4*$32,SCRWIDTH*4*$33
	DC.L	SCRWIDTH*4*$34,SCRWIDTH*4*$35,SCRWIDTH*4*$36,SCRWIDTH*4*$37
	DC.L	SCRWIDTH*4*$38,SCRWIDTH*4*$39,SCRWIDTH*4*$3A,SCRWIDTH*4*$3B
	DC.L	SCRWIDTH*4*$3C,SCRWIDTH*4*$3D,SCRWIDTH*4*$3E,SCRWIDTH*4*$3F
	DC.L	SCRWIDTH*4*$40,SCRWIDTH*4*$41,SCRWIDTH*4*$42,SCRWIDTH*4*$43
	DC.L	SCRWIDTH*4*$44,SCRWIDTH*4*$45,SCRWIDTH*4*$46,SCRWIDTH*4*$47
	DC.L	SCRWIDTH*4*$48,SCRWIDTH*4*$49,SCRWIDTH*4*$4A,SCRWIDTH*4*$4B
	DC.L	SCRWIDTH*4*$4C,SCRWIDTH*4*$4D,SCRWIDTH*4*$4E,SCRWIDTH*4*$4F
	DC.L	SCRWIDTH*4*$50,SCRWIDTH*4*$51,SCRWIDTH*4*$52,SCRWIDTH*4*$53
	DC.L	SCRWIDTH*4*$54,SCRWIDTH*4*$55,SCRWIDTH*4*$56,SCRWIDTH*4*$57
	DC.L	SCRWIDTH*4*$58,SCRWIDTH*4*$59,SCRWIDTH*4*$5A,SCRWIDTH*4*$5B
	DC.L	SCRWIDTH*4*$5C,SCRWIDTH*4*$5D,SCRWIDTH*4*$5E,SCRWIDTH*4*$5F
	DC.L	SCRWIDTH*4*$60,SCRWIDTH*4*$61,SCRWIDTH*4*$62,SCRWIDTH*4*$63
	DC.L	SCRWIDTH*4*$64,SCRWIDTH*4*$65,SCRWIDTH*4*$66,SCRWIDTH*4*$67
	DC.L	SCRWIDTH*4*$68,SCRWIDTH*4*$69,SCRWIDTH*4*$6A,SCRWIDTH*4*$6B
	DC.L	SCRWIDTH*4*$6C,SCRWIDTH*4*$6D,SCRWIDTH*4*$6E,SCRWIDTH*4*$6F
	DC.L	SCRWIDTH*4*$70,SCRWIDTH*4*$71,SCRWIDTH*4*$72,SCRWIDTH*4*$73
	DC.L	SCRWIDTH*4*$74,SCRWIDTH*4*$75,SCRWIDTH*4*$76,SCRWIDTH*4*$77
	DC.L	SCRWIDTH*4*$78,SCRWIDTH*4*$79,SCRWIDTH*4*$7A,SCRWIDTH*4*$7B
	DC.L	SCRWIDTH*4*$7C,SCRWIDTH*4*$7D,SCRWIDTH*4*$7E,SCRWIDTH*4*$7F
	DC.L	SCRWIDTH*4*$80,SCRWIDTH*4*$81,SCRWIDTH*4*$82,SCRWIDTH*4*$83
	DC.L	SCRWIDTH*4*$84,SCRWIDTH*4*$85,SCRWIDTH*4*$86,SCRWIDTH*4*$87
	DC.L	SCRWIDTH*4*$88,SCRWIDTH*4*$89,SCRWIDTH*4*$8A,SCRWIDTH*4*$8B
	DC.L	SCRWIDTH*4*$8C,SCRWIDTH*4*$8D,SCRWIDTH*4*$8E,SCRWIDTH*4*$8F
	DC.L	SCRWIDTH*4*$90,SCRWIDTH*4*$91,SCRWIDTH*4*$92,SCRWIDTH*4*$93
	DC.L	SCRWIDTH*4*$94,SCRWIDTH*4*$95,SCRWIDTH*4*$96,SCRWIDTH*4*$97
	DC.L	SCRWIDTH*4*$98,SCRWIDTH*4*$99,SCRWIDTH*4*$9A,SCRWIDTH*4*$9B
	DC.L	SCRWIDTH*4*$9C,SCRWIDTH*4*$9D,SCRWIDTH*4*$9E,SCRWIDTH*4*$9F
	DC.L	SCRWIDTH*4*$A0,SCRWIDTH*4*$A1,SCRWIDTH*4*$A2,SCRWIDTH*4*$A3
	DC.L	SCRWIDTH*4*$A4,SCRWIDTH*4*$A5,SCRWIDTH*4*$A6,SCRWIDTH*4*$A7
	DC.L	SCRWIDTH*4*$A8,SCRWIDTH*4*$A9,SCRWIDTH*4*$AA,SCRWIDTH*4*$AB
	DC.L	SCRWIDTH*4*$AC,SCRWIDTH*4*$AD,SCRWIDTH*4*$AE,SCRWIDTH*4*$AF
	DC.L	SCRWIDTH*4*$B0,SCRWIDTH*4*$B1,SCRWIDTH*4*$B2,SCRWIDTH*4*$B3
	DC.L	SCRWIDTH*4*$B4,SCRWIDTH*4*$B5,SCRWIDTH*4*$B6,SCRWIDTH*4*$B7
	DC.L	SCRWIDTH*4*$B8,SCRWIDTH*4*$B9,SCRWIDTH*4*$BA,SCRWIDTH*4*$BB
	DC.L	SCRWIDTH*4*$BC,SCRWIDTH*4*$BD,SCRWIDTH*4*$BE,SCRWIDTH*4*$BF
	DC.L	SCRWIDTH*4*$C0,SCRWIDTH*4*$C1,SCRWIDTH*4*$C2,SCRWIDTH*4*$C3
	DC.L	SCRWIDTH*4*$C4,SCRWIDTH*4*$C5,SCRWIDTH*4*$C6,SCRWIDTH*4*$C7
	DC.L	SCRWIDTH*4*$C8,SCRWIDTH*4*$C9,SCRWIDTH*4*$CA,SCRWIDTH*4*$CB
	DC.L	SCRWIDTH*4*$CC,SCRWIDTH*4*$CD,SCRWIDTH*4*$CE,SCRWIDTH*4*$CF

highestever	dc.l	0
ALLSCORE	DC.L	0
GELBERBALKEN	DC.B	0
LASTKORNPLYR	DC.B	0	;NUMMER DES SPIELERS, DER SOUND ERZEUGTE
				;0-PLYR1, 4-PLYR2
TEMPLEVEL
INGAMELEVEL	DC.B	0	;LEVEL WÄHREND SPIEL
BEGINLEVEL	DC.B	0	;STARTLEVEL, IM WAHLSCREEN FESTGELEGT
VBITIMER1	DC.B	0	;VBICOUNTER
SCREEN4ACTIVE	DC.B	$FF
GAMEOBJ		DC.B	3	;IM ZWEISPIELERMODUS $4 FÜR PLYR2
				;IM EINSPIELERMODUS $3 FÜR FEIND #3
				;GESAMTZAHL OBJEKTE
BONUSKORN	DC.B	3	;HAEUFIGKEIT BONUSKOERNER
COUNTRICHTUNG	DC.B	0	;ANZAHL DER MÖGLICHEN ZUGRICHTUNGEN MINUS 1
MOVEMENT	DC.B	0
HEAD0		DC.B	0	;AUSBLENDUNG FÜHRENDER NULLEN IN SCORDISP
FORBID		DC.B	0
OWNBLIT		DC.B	0
STUNNED		DC.B	0
NRSTUN		DC.B	0
CHANGELIVES	DC.B	0
EXTENDSYS	DC.B	0	;TRUE, WENN ERWEITERTES SYSTEM (68020+) VORLIEGT
SPECIALCOUNT	DC.B	4
VBIVANMONST	DC.B	0
FASTMEM		DC.B	0
TURBOPROC	DC.B	0
ORIGMONSTSET	DC.B	0
FADING		DC.B	0	;1: FADE IN PROGRESS... FÜR YELLOWBLINK
NOYELLOW	DC.B	1	;1: NO YELLOW BLINKING ALLOWED
ANFLIVES	DC.B	5	;LIVES ZU ANFANG DES SPIELS, IM WAHLMENU
				;ENTSPRECHEND ANFANGSLEVEL SETZEN
	EVEN
SPECRANDOM	DC.W	0
NEWSPECIAL	DC.L	0
STUNCOUNT	DC.W	0
VANMONSTCOUNT	DC.W	0
TOTALSCORE	DS.L	4
CLRKORN	EQU	*-3*4
	DS.L	4
KORNZAHL	DC.W	0		;ANZAHL KOERNER IM LEVEL
NEXTOBJIMAGE	DC.L	MANANIM0
	DC.L	ARROWANIM0
	DC.L	GHOSTANIM0
	DC.L	PLYR1QUIET1
	DC.L	PLYR2QUIET1
	DC.L	PLYR3QUIET1
	DC.L	PLYR4QUIET1
;HIGHSCORETABLE	DS.B	$100

COPLIST	DC.L	CL1
GRABASE	DC.L	0
DOSBAS	DC.L	0

LABYRBEGIN	DS.B	COLS
SCRBEGIN	DS.B	LINES*COLS
		DS.B	COLS
LABYRENDE

FADEINGTAB	DC.W	CL1TB1+2-CL1,CL1TB1+6-CL1,CL1TB1+$A-CL1,CL1TB1+$E-CL1
	DC.W	CL1TB1+$12-CL1,CL1TB1+$16-CL1,CL1TB1+$1A-CL1,CL1TB1+$1E-CL1

	DC.W	CL1FB1+6-CL1,CL1FB1+$E-CL1,CL1FB1+$16-CL1,CL1FB1+$1E-CL1
	DC.W	CL1FB1+$26-CL1

	DC.W	CL1FB2+6-CL1,CL1FB2+$E-CL1,CL1FB2+$16-CL1,CL1FB2+$1E-CL1

	DC.W	CL1TB2+2-CL1,CL1TB2+6-CL1,CL1TB2+$A-CL1,CL1TB2+$E-CL1
	DC.W	CL1TB2+$12-CL1,CL1TB2+$16-CL1,CL1TB2+$1A-CL1,CL1TB2+$1E-CL1
	DC.W	CL1TB2+$22-CL1,CL1TB2+$26-CL1,CL1TB2+$2A-CL1,CL1TB2+$2E-CL1
	DC.W	CL1TB2+$32-CL1,CL1TB2+$36-CL1,CL1TB2+$3A-CL1,CL1TB2+$3E-CL1
	DC.W	CL1TB2+$42-CL1,CL1TB2+$46-CL1,CL1TB2+$4A-CL1,CL1TB2+$4E-CL1
	DC.W	CL1TB2+$52-CL1,CL1TB2+$56-CL1,CL1TB2+$5A-CL1,CL1TB2+$5E-CL1
	DC.W	CL1TB2+$62-CL1,CL1TB2+$66-CL1,CL1TB2+$6A-CL1,CL1TB2+$6E-CL1
	DC.W	CL1TB2+$72-CL1,CL1TB2+$76-CL1,CL1TB2+$7A-CL1,CL1TB2+$7E-CL1

	DC.W	CL1TB3+2-CL1,CL1TB3+6-CL1,CL1TB3+$A-CL1,CL1TB3+$E-CL1
	DC.W	CL1TB3+$12-CL1,CL1TB3+$16-CL1,CL1TB3+$1A-CL1,CL1TB3+$1E-CL1
	DC.W	CL1TB3+$22-CL1,CL1TB3+$26-CL1,CL1TB3+$2A-CL1,CL1TB3+$2E-CL1
	DC.W	CL1TB3+$32-CL1,CL1TB3+$36-CL1
	DC.W	CL1TB4+2-CL1
	DC.W	CL1FB3+6-CL1,CL1FB3+$E-CL1,CL1FB3+$16-CL1,CL1FB3+$1E-CL1
	DC.W	CL1FB3+$26-CL1,0

COLING1	DC.L	$00000000,$00C0C0E0,$009090C0,$007070A0
	DC.L	$00505080,$00000000,$00202040,$00001020

	DC.L	$00100020,$00201030,$00202050,$00302050,$00303060

	DC.L	$00403060,$00404060,$00504060,$00505060

	DC.L	$00606060,$00404040
COLINGY	DC.L	$00F0F000,$00D0D0E0
	DC.L	$00C0A000,$00808090,$00800080,$00303040
	DC.L	$00E08020,$00606060,$0020B080,$0090A000
	DC.L	$00006080,$00C08070,$00B02030,$00502020
	DC.L	$00000000,$00000000,$00A05000,$00000000
	DC.L	$00000000,$00000000,$00007050,$00607000
	DC.L	$00000000,$00000000,$00A07000,$00003040
	DC.L	$00000000,$00D000D0,$00400050,$000080C0

	DC.L	$00403000,$00004030,$00C0A000
	DC.L	$00F0D000,$0020B080,$0030D0A0
	DC.L	$00606060,$00606060
	DC.L	$00304000,$00403010,$0090A000
	DC.L	$00B0D000,$00E08020,$00F0C040

	DC.L	$00606060

	DC.L	$00505050,$00303030,$00202020,$00101010,$00000000

COLING2	DC.L	$00000000,$00000000,$00000000,$00000000
	DC.L	$00000000,$00000000,$00000000,$00000000
	DC.L	$00000000,$00000000,$00000000,$00000000,$00000000
	DC.L	$00000000,$00000000,$00000000,$00000000
	DC.L	$00000000,$00000000,$00000000,$00000000
	DC.L	$00000000,$00000000,$00000000,$00000000
	DC.L	$00000000,$00000000,$00000000,$00000000
	DC.L	$00000000,$00000000,$00000000,$00000000
	DC.L	$00000000,$00000000,$00000000,$00000000
	DC.L	$00000000,$00000000,$00000000,$00000000
	DC.L	$00000000,$00000000,$00000000,$00000000
	DC.L	$00000000,$00000000,$00000000,$00000000
	DC.L	$00000000,$00000000,$00000000
	DC.L	$00000000,$00000000,$00000000
	DC.L	$00000000,$00000000
	DC.L	$00000000,$00000000,$00000000
	DC.L	$00000000,$00000000,$00000000
	DC.L	$00000000
	DC.L	$00000000,$00000000,$00000000,$00000000,$00000000


;-------------------------------------------------------------------
HIGHSDAT1PL

	dc.b	"2000000",0
	dc.b	"ACHIM",0,0,0,0

	dc.b	"1500000",0
	dc.b	"TILO",0,0,0,0,0

	dc.b	"1000000",0
	dc.b	"INGO",0,0,0,0,0

HIGHSDAT2PL
	IFNE	HIGHSDAT2PL-HIGHSDAT1PL-(8+9)*3
	fail
	ENDC
	dc.b	"2000000",0
;	dc.b	"0003000",0
	dc.b	"UWE",0,0,0,0,0,0
	dc.b	"ENRICO",0,0,0

	dc.b	"1500000",0
	dc.b	"JEAN",0,0,0,0,0
	dc.b	"BERT",0,0,0,0,0

	dc.b	"1000000",0
	dc.b	"CZESLAW",0,0
	dc.b	"PAVEL",0,0,0,0

HIGHSDAT3PL
	IFNE	HIGHSDAT3PL-HIGHSDAT2PL-(8+9+9)*3
	fail
	ENDC
	dc.b	"2000000",0
;	dc.b	"0003000",0
	dc.b	"KEITH",0,0,0,0
	dc.b	"IAN",0,0,0,0,0,0
	dc.b	"PHILIPPE",0

	dc.b	"1500000",0
	dc.b	"PHILL",0,0,0,0
	dc.b	"JOHN",0,0,0,0,0
	dc.b	"SVEN",0,0,0,0,0

	dc.b	"1000000",0
	dc.b	"MICKAEL",0,0
	dc.b	"BERTRAND",0
	dc.b	"MICHAEL",0,0
	
HIGHSDAT4PL
	IFNE	HIGHSDAT4PL-HIGHSDAT3PL-(8+9+9+9)*3
	fail
	ENDC
	dc.b	"2000000",0
;	dc.b	"0003000",0
	dc.b	"TONI",0,0,0,0,0
	dc.b	"SPS",0,0,0,0,0,0
	dc.b	"MARK",0,0,0,0,0
	dc.b	"ERIK",0,0,0,0,0

	dc.b	"1500000",0
	dc.b	"RAFFAELE",0
	dc.b	"ANDRE",0,0,0,0
	dc.b	"JOCHEN",0,0,0
	dc.b	"CHRIS",0,0,0,0

	dc.b	"1000000",0
	dc.b	"MIKE",0,0,0,0,0
	dc.b	"ERIC",0,0,0,0,0
	dc.b	"STEVE",0,0,0,0
	dc.b	"PAUL",0,0,0,0,0
HIGHSDATS
	dc.l	0
	IFNE	HIGHSDATS-HIGHSDAT4PL-(8+9+9+9+9)*3
	fail
	ENDC

HIGHSDATEND
HIGHHEADER1PL
	dc.b	"HISCORE 1 PLAYER",0
HIGHHEADER2PL
	dc.b	"HISCORE TEAM OF 2",0
HIGHHEADER3PL
	dc.b	"HISCORE TEAM OF 3",0
HIGHHEADER4PL
	dc.b	"HISCORE TEAM OF 4",0
	even

;x,(y chars+y offset),align,textoffset
;0-tableend
;1-left aligned
;2-right aligned
;3-centered
;-1-no print
HIGHSFORM1PL
	DC.W	20,$0100,3,HIGHHEADER1PL-HIGHSDAT1PL

HIGHSFORMSC1
	DC.W	20,$0306,3,0
HIGHSFORMT1
	DC.W	20,$0406,3,8
	DC.W	20,$0406,1,-1
	DC.W	20,$0406,1,-1
	DC.W	20,$0406,1,-1

HIGHSFORMSC2
	DC.W	20,$050c,3,17
HIGHSFORMT2
	DC.W	20,$060c,3,17+8
	DC.W	20,$060c,1,-1
	DC.W	20,$060c,1,-1
	DC.W	20,$060c,1,-1
	
HIGHSFORMSC3
	DC.W	20,$0800,3,34
HIGHSFORMT3
	DC.W	20,$0900,3,34+8
	DC.W	20,$0900,1,-1
	DC.W	20,$0900,1,-1
	DC.W	20,$0900,1,-1
	
	DC.W	0,0,0,0

HIGHSFORM2PL
	DC.W	20,$0100,3,HIGHHEADER2PL-HIGHSDAT2PL

	DC.W	20,$0306,3,0
	DC.W	18,$0406,2,8
	DC.W	22,$0406,1,17
	DC.W	20,$0406,1,-1
	DC.W	20,$0406,1,-1

	DC.W	20,$050c,3,26
	DC.W	18,$060c,2,26+8
	DC.W	22,$060c,1,26+17
	DC.W	20,$060c,1,-1
	DC.W	20,$060c,1,-1
	
	DC.W	20,$0800,3,52
	DC.W	18,$0900,2,52+8
	DC.W	22,$0900,1,52+17
	DC.W	20,$0900,1,-1
	DC.W	20,$0900,1,-1
	
	DC.W	0,0,0,0

HIGHSFORM3PL
	DC.W	20,$0003,3,HIGHHEADER3PL-HIGHSDAT3PL

	DC.W	20,$0109,3,0
	DC.W	18,$0209,2,8
	DC.W	22,$0209,1,17
	DC.W	20,$0309,3,26
	DC.W	20,$0309,1,-1

	DC.W	20,$040f,3,35
	DC.W	18,$050f,2,35+8
	DC.W	22,$050f,1,35+17
	DC.W	20,$060f,3,35+26
	DC.W	20,$060f,1,-1
	
	DC.W	20,$0803,3,70
	DC.W	18,$0903,2,70+8
	DC.W	22,$0903,1,70+17
	DC.W	20,$0a03,3,70+26
	DC.W	20,$0a03,1,-1
	
	DC.W	0,0,0,0

HIGHSFORM4PL
	DC.W	20,$0003,3,HIGHHEADER4PL-HIGHSDAT4PL

	DC.W	20,$0109,3,0
	DC.W	18,$0209,2,8
	DC.W	22,$0209,1,17
	DC.W	18,$0309,2,26
	DC.W	22,$0309,1,35

	DC.W	20,$040f,3,44
	DC.W	18,$050f,2,44+8
	DC.W	22,$050f,1,44+17
	DC.W	18,$060f,2,44+26
	DC.W	22,$060f,1,44+35
	
	DC.W	20,$0803,3,88
	DC.W	18,$0903,2,88+8
	DC.W	22,$0903,1,88+17
	DC.W	18,$0a03,2,88+26
	DC.W	22,$0a03,1,88+35
	
	DC.W	0,0,0,0

HIGHSDESCR
	dc.l	HIGHSFORM1PL
	dc.l	HIGHSDAT1PL

	dc.l	HIGHSFORM2PL
	dc.l	HIGHSDAT2PL

	dc.l	HIGHSFORM3PL
	dc.l	HIGHSDAT3PL

	dc.l	HIGHSFORM4PL
	dc.l	HIGHSDAT4PL

hitempnamece
	dc.b	$20
hitempname
	ds.b	9+3

hientryactive
	dc.b	0
endpartactive	dc.b	0
showendpart	dc.b	0
hiescape	dc.b	0
highfilename	dc.b	'FourMaze:Hiscores.dat',0
highmodname	dc.b	'FourMaze:mod.dreamdimension',0
titlemodname	dc.b	'FourMaze:mod.dat_egypt',0
ingmodname	dc.b	'FourMaze:mod.vol11',0
	even

;-------------------------------------------------------------------


BITSPERCHAR = $8

	IFEQ	FINAL
KOLLTAB
	LEA.L	COLLTAB,A2
	LEA.L	PLYRMASK,A1
	LEA.L	GHOSTMASK,A0
	MOVEQ.L	#$0,D2		;FEIND POSITION 0, SPIELER $D RUNTERZU
.2	MOVEQ.L	#28,D3		;FEIND POSITION 0, SPIELER 28 HOR.
.1	BSR.S	BOBCOLLLEFT
	BEQ.S	.COLLL
	DBF	D3,.1
.4	MOVEQ.L	#28,D3
.3	BSR.S	BOBCOLLRIGHT
	BEQ.S	.COLLR
	DBF	D3,.3
.5	ADDQ.L	#1,D2
	CMP.L	#$D*2,D2
	BNE.S	.2
	RTS

.COLLL	MOVE.L	D2,D1
	LSL.L	#1,D1
	MOVEQ.L	#0,D0
	SUB.B	D3,D0
	MOVE.B	D0,(A2,D1.W)
	BRA.S	.4

.COLLR	MOVE.L	D2,D1
	LSL.L	#1,D1
	MOVE.B	D3,1(A2,D1.W)
	BRA.S	.5	

BOBCOLLLEFT
;	MOVEQ.L	#$D,D0
;	SUB.L	D2,D0
	MOVE.L	D2,D1
	MULU.W	#6*4,D1
	MOVE.L	#$0,D0
	MOVEQ.L	#$D,D4

.1	MOVE.L	(A1,D1.W),D5	;AUS PLYRMASK HOLEN
	LSR.L	D3,D5
	AND.L	(A0,D0.W),D5	;AUS GHOSTMASK HOLEN
	BNE.S	.END
	ADD.L	#6*4,D1
	ADD.L	#6*4,D0
	DBF	D4,.1

	ZEROCLEAR
	RTS

.END	ZEROSET
	RTS

BOBCOLLRIGHT
	MOVE.L	D2,D1
	MULU.W	#6*4,D1
	MOVE.L	#$0,D0
	MOVEQ.L	#$D,D4

.1	MOVE.L	(A1,D1.W),D5	;AUS PLYRMASK HOLEN
	LSL.L	D3,D5
	AND.L	(A0,D0.W),D5	;AUS GHOSTMASK HOLEN
	BNE.S	.END
	ADD.L	#6*4,D1
	ADD.L	#6*4,D0
	DBF	D4,.1

	ZEROCLEAR
	RTS

.END	ZEROSET
	RTS

	DS.B	$200
GHOSTMASK
	INCBIN	OWN/FOURMAZE/TWGFX/D8M
	DS.B	$200
PLYRMASK	EQU	*-4*$D*6
	INCBIN	OWN/FOURMAZE/TWGFX/P1V1M
	DS.B	$200
COLLTAB	DS.W	$100
	ENDC

ORIGMONSTER
KOLLPM1
	DC.W	$00,$00,$00,$00,$FFF5,$0B,$FFF1,$0F
	DC.W	$FFED,$13,$FFEB,$15,$FFEA,$16,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFEA,$16,$FFEB,$15,$FFED,$13
	DC.W	$FFEF,$12,$FFF1,$10,$FFF3,$0C,$FFF7,$08
	DC.W	$00,$00,$00,$00

KOLLPM2
	DC.W	$00,$00,$00,$00,$FFF5,$02,$FFF1,$06
	DC.W	$FFEF,$0B,$FFEE,$0F,$FFED,$13,$FFEB,$15
	DC.W	$FFEA,$16,$FFE9,$17,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFEA,$16,$FFEB,$15
	DC.W	$FFED,$13,$FFEF,$12,$FFF1,$10,$FFF3,$0C
	DC.W	$FFF7,$08,$00,$00

KOLLPM3
	DC.W	$00,$00,$00,$00,$FFF5,$02,$FFF1,$06
	DC.W	$FFEF,$08,$FFEE,$0B,$FFED,$0F,$FFED,$13
	DC.W	$FFEB,$15,$FFEA,$16,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFEA,$16,$FFEB,$15
	DC.W	$FFED,$13,$FFEF,$12,$FFF1,$10,$FFF3,$0C
	DC.W	$FFF7,$08,$00,$00

KOLLPM4
	DC.W	$00,$00,$00,$00,$FFF5,$02,$FFF1,$06
	DC.W	$FFEF,$0B,$FFEE,$0F,$FFED,$13,$FFEB,$15
	DC.W	$FFEA,$16,$FFE9,$17,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFEA,$16,$FFEB,$15
	DC.W	$FFED,$13,$FFEF,$12,$FFF1,$10,$FFF3,$0C
	DC.W	$FFF7,$08,$00,$00

KOLLPM5
	DC.W	$00,$00,$00,$00,$FFF5,$0B,$FFF1,$0F
	DC.W	$FFED,$13,$FFEB,$15,$FFEA,$16,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFEA,$16,$FFEB,$15,$FFED,$13
	DC.W	$FFEF,$12,$FFF1,$10,$FFF3,$0C,$FFF7,$08
	DC.W	$00,$00,$00,$00

KOLLPM6
	DC.W	$00,$00,$00,$00,$FFFE,$0B,$FFFA,$0F
	DC.W	$FFF5,$11,$FFF1,$12,$FFED,$13,$FFEB,$15
	DC.W	$FFEA,$16,$FFE9,$17,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFEA,$16,$FFEB,$15
	DC.W	$FFED,$13,$FFEF,$12,$FFF1,$10,$FFF3,$0C
	DC.W	$FFF7,$08,$00,$00

KOLLPM7
	DC.W	$00,$00,$00,$00,$FFFE,$0B,$FFFA,$0F
	DC.W	$FFF8,$11,$FFF5,$12,$FFF1,$13,$FFED,$13
	DC.W	$FFEB,$15,$FFEA,$16,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFEA,$16,$FFEB,$15
	DC.W	$FFED,$13,$FFEF,$12,$FFF1,$10,$FFF3,$0C
	DC.W	$FFF7,$08,$00,$00

KOLLPM8
	DC.W	$00,$00,$00,$00,$FFFE,$0B,$FFFA,$0F
	DC.W	$FFF5,$11,$FFF1,$12,$FFED,$13,$FFEB,$15
	DC.W	$FFEA,$16,$FFE9,$17,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFEA,$16,$FFEB,$15
	DC.W	$FFED,$13,$FFEF,$12,$FFF1,$10,$FFF3,$0C
	DC.W	$FFF7,$08,$00,$00


KOLLPG1	DC.W	$00,$00,$00,$00,$00,$00,$FFF9,$09	;KOLLISION PLAYER-GHOST1
	DC.W	$FFF5,$0D,$FFF2,$10,$FFF0,$12,$FFEF,$13
	DC.W	$FFEE,$14,$FFED,$15,$FFEC,$16,$FFEB,$17
	DC.W	$FFEB,$17,$FFEB,$17,$FFEB,$17,$FFEB,$17
	DC.W	$FFEB,$17,$FFEC,$16,$FFED,$15,$FFEE,$14
	DC.W	$FFEF,$13,$FFF0,$12,$FFF2,$10,$FFF5,$0D
	DC.W	$FFF9,$09,$00,$00

KOLLPG2
	DC.W	$00,$00,$00,$00,$00,$00,$00,$00	;PLYR-GHOST2
	DC.W	$FFF9,$09,$FFF5,$0D,$FFF1,$11,$FFEF,$13
	DC.W	$FFEE,$14,$FFED,$15,$FFEC,$16,$FFEB,$17
	DC.W	$FFEB,$17,$FFEB,$17,$FFEB,$17,$FFEB,$17
	DC.W	$FFEC,$16,$FFED,$15,$FFEE,$14,$FFEF,$13
	DC.W	$FFF1,$11,$FFF5,$0D,$FFF9,$09,$00,$00
	DC.W	$00,$00,$00,$00

KOLLPG3
	DC.W	$00,$00,$00,$00,$00,$00,$00,$00	;PLYR-GHOST3
	DC.W	$FFF9,$09,$FFF5,$0D,$FFF1,$11,$FFEF,$13
	DC.W	$FFEE,$14,$FFED,$15,$FFEC,$16,$FFEB,$17
	DC.W	$FFEB,$17,$FFEB,$17,$FFEB,$17,$FFEC,$16
	DC.W	$FFED,$15,$FFEE,$14,$FFEF,$13,$FFF1,$11
	DC.W	$FFF5,$0D,$FFF9,$09,$00,$00,$00,$00
	DC.W	$00,$00,$00,$00

KOLLPG4	
	DC.W	$00,$00,$00,$00,$00,$00,$00,$00
	DC.W	$FFF9,$09,$FFF5,$0D,$FFF1,$11,$FFEF,$13
	DC.W	$FFED,$15,$FFEC,$16,$FFEB,$17,$FFEB,$17
	DC.W	$FFEB,$17,$FFEB,$17,$FFEC,$16,$FFED,$15
	DC.W	$FFEE,$14,$FFEF,$13,$FFF1,$11,$FFF5,$0D
	DC.W	$FFF9,$09,$00,$00,$00,$00,$00,$00
	DC.W	$00,$00,$00,$00

KOLLPG5
	DC.W	$00,$00,$00,$00,$00,$00,$00,$00
	DC.W	$00,$00,$FFF8,$0A,$FFF4,$0E,$FFF2,$11
	DC.W	$FFEF,$13,$FFED,$15,$FFEC,$16,$FFEB,$17
	DC.W	$FFEB,$17,$FFEB,$17,$FFEB,$17,$FFEC,$16
	DC.W	$FFED,$15,$FFEE,$14,$FFF0,$12,$FFF4,$0F
	DC.W	$FFF8,$0B,$00,$00,$00,$00,$00,$00
	DC.W	$00,$00,$00,$00

KOLLPA1
	DC.W	$00,$00,$00,$00,$FFFB,$05,$FFF7,$09	;PLYR-ARROW1
	DC.W	$FFF4,$0C,$FFF0,$10,$FFED,$13,$FFEB,$15
	DC.W	$FFEA,$16,$FFE9,$17,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFEA,$16,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFEA,$16,$FFEB,$15
	DC.W	$FFED,$13,$FFF0,$10,$FFF4,$0C,$FFF7,$09
	DC.W	$FFFB,$05,$00,$00

KOLLPA2
	DC.W	$00,$00,$00,$00,$00,$00,$FFFB,$05
	DC.W	$FFF7,$09,$FFF4,$0C,$FFF0,$10,$FFED,$13
	DC.W	$FFEB,$15,$FFEA,$16,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFEA,$16,$FFEB,$15
	DC.W	$FFED,$13,$FFF0,$10,$FFF4,$0C,$FFF7,$09
	DC.W	$FFFB,$05,$00,$00

KOLLPA3
	DC.W	$00,$00,$00,$00,$00,$00,$FFFB,$05
	DC.W	$FFF7,$09,$FFF4,$0C,$FFF0,$10,$FFED,$13
	DC.W	$FFEB,$15,$FFEA,$16,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFEA,$16,$FFEB,$15,$FFED,$13
	DC.W	$FFF0,$10,$FFF4,$0C,$FFF7,$09,$FFFB,$05
	DC.W	$00,$00,$00,$00

KOLLPA4
	DC.W	$00,$00,$00,$00,$00,$00,$00,$00
	DC.W	$FFFB,$05,$FFF7,$09,$FFF4,$0C,$FFF0,$10
	DC.W	$FFED,$13,$FFEB,$15,$FFEA,$16,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFEA,$16,$FFEB,$15,$FFED,$13
	DC.W	$FFF0,$10,$FFF4,$0C,$FFF7,$09,$FFFB,$05
	DC.W	$00,$00,$00,$00

KOLLPA5
	DC.W	$00,$00,$00,$00,$00,$00,$00,$00
	DC.W	$FFFB,$05,$FFF7,$09,$FFF4,$0C,$FFF0,$10
	DC.W	$FFED,$13,$FFEB,$15,$FFEA,$16,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFE9,$17,$FFE9,$17
	DC.W	$FFEA,$16,$FFEB,$15,$FFED,$13,$FFF0,$10
	DC.W	$FFF4,$0C,$FFF7,$09,$FFFB,$05,$00,$00
	DC.W	$00,$00,$00,$00
KOLLPA6
	DC.W	$00,$00,$00,$00,$00,$00,$00,$00
	DC.W	$FFFB,$05,$FFF7,$09,$FFF4,$0C,$FFF0,$10
	DC.W	$FFED,$13,$FFEB,$15,$FFEA,$16,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFEA,$16,$FFEB,$15,$FFED,$13
	DC.W	$FFF0,$10,$FFF4,$0C,$FFF7,$09,$FFFB,$05
	DC.W	$00,$00,$00,$00

KOLLPA7
	DC.W	$00,$00,$00,$00,$00,$00,$FFFB,$05
	DC.W	$FFF7,$09,$FFF4,$0C,$FFF0,$10,$FFED,$13
	DC.W	$FFEB,$15,$FFEA,$16,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFEA,$16,$FFEB,$15,$FFED,$13
	DC.W	$FFF0,$10,$FFF4,$0C,$FFF7,$09,$FFFB,$05
	DC.W	$00,$00,$00,$00

KOLLPA8
	DC.W	$00,$00,$00,$00,$00,$00,$FFFB,$05
	DC.W	$FFF7,$09,$FFF4,$0C,$FFF0,$10,$FFED,$13
	DC.W	$FFEB,$15,$FFEA,$16,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFEA,$16,$FFEB,$15
	DC.W	$FFED,$13,$FFF0,$10,$FFF4,$0C,$FFF7,$09
	DC.W	$FFFB,$05,$00,$00

MANVANIM0
	DC.L	MANVCON
	DC.L	MANV1M
MANVANIM0ENDE
MANVANIM1
	DC.L	MANVCON
	DC.L	MANV2M
MANVANIM1ENDE
MANVANIM2
	DC.L	MANVCON
	DC.L	MANV3M
MANVANIM2ENDE
MANVANIM3
	DC.L	MANVCON
	DC.L	MANV4M
MANVANIM3ENDE
MANVANIM4
	DC.L	MANVCON
	DC.L	MANV5M
MANVANIM4ENDE
MANVANIM5
	DC.L	MANVCON
	DC.L	MANV6M
MANVANIM5ENDE
MANVANIM6
	DC.L	MANVCON
	DC.L	MANV7M
MANVANIM6ENDE
MANVANIM7
	DC.L	MANVCON
	DC.L	MANV7M
MANVANIM7ENDE

MANANIM0
	DC.L	MAN1C
	DC.L	MAN1M
MANANIM0ENDE
MANANIM1
	DC.L	MAN2C
	DC.L	MAN2M
MANANIM1ENDE
MANANIM2
	DC.L	MAN3C
	DC.L	MAN3M
MANANIM2ENDE
MANANIM3
	DC.L	MAN4C
	DC.L	MAN4M
MANANIM3ENDE
MANANIM4
	DC.L	MAN5C
	DC.L	MAN5M
MANANIM4ENDE
MANANIM5
	DC.L	MAN6C
	DC.L	MAN6M
MANANIM5ENDE
MANANIM6
	DC.L	MAN7C
	DC.L	MAN7M
MANANIM6ENDE
MANANIM7
	DC.L	MAN8C
	DC.L	MAN8M
MANANIM7ENDE

GHOSTVANIM0
	DC.L	MANVCON
	DC.L	GV1M
	DC.L	VS
GHOSTVANIM0ENDE
GHOSTVANIM1
	DC.L	MANVCON
	DC.L	GV2M
	DC.L	VS
GHOSTVANIM1ENDE
GHOSTVANIM2
	DC.L	MANVCON
	DC.L	GV3M
	DC.L	VS
GHOSTVANIM2ENDE
GHOSTVANIM3
	DC.L	MANVCON
	DC.L	GV4M
	DC.L	VS
GHOSTVANIM3ENDE
GHOSTVANIM4
	DC.L	MANVCON
	DC.L	GV5M
	DC.L	VS
GHOSTVANIM4ENDE

GHOSTANIM0
	DC.L	G1C
	DC.L	G1M
	DC.L	G1S
GHOSTANIM0ENDE
GHOSTANIM1
	DC.L	G2C
	DC.L	G2M
	DC.L	G2S
GHOSTANIM1ENDE
GHOSTANIM2
	DC.L	G3C
	DC.L	G3M
	DC.L	G3S
GHOSTANIM2ENDE
GHOSTANIM3
	DC.L	G4C
	DC.L	G4M
	DC.L	G4S
GHOSTANIM3ENDE
GHOSTANIM4
	DC.L	G5C
	DC.L	G5M
	DC.L	G5S
GHOSTANIM4ENDE

ARROWVANIM0
	DC.L	MANVCON
	DC.L	AV1M
	DC.L	VS
ARROWVANIM0ENDE
ARROWVANIM1
	DC.L	MANVCON
	DC.L	AV2M
	DC.L	VS
ARROWVANIM1ENDE
ARROWVANIM2
	DC.L	MANVCON
	DC.L	AV3M
	DC.L	VS
ARROWVANIM2ENDE
ARROWVANIM3
	DC.L	MANVCON
	DC.L	AV4M
	DC.L	VS
ARROWVANIM3ENDE
ARROWVANIM4
	DC.L	MANVCON
	DC.L	AV5M
	DC.L	VS
ARROWVANIM4ENDE
ARROWVANIM5
	DC.L	MANVCON
	DC.L	AV6M
	DC.L	VS
ARROWVANIM5ENDE
ARROWVANIM6
	DC.L	MANVCON
	DC.L	AV7M
	DC.L	VS
ARROWVANIM6ENDE
ARROWVANIM7
	DC.L	MANVCON
	DC.L	AV8M
	DC.L	VS
ARROWVANIM7ENDE

ARROWANIM0
	DC.L	A1C
	DC.L	A1M
	DC.L	A1S
ARROWANIM0ENDE
ARROWANIM1
	DC.L	A2C
	DC.L	A2M
	DC.L	A2S
ARROWANIM1ENDE
ARROWANIM2
	DC.L	A3C
	DC.L	A3M
	DC.L	A3S
ARROWANIM2ENDE
ARROWANIM3
	DC.L	A4C
	DC.L	A4M
	DC.L	A4S
ARROWANIM3ENDE
ARROWANIM4
	DC.L	A5C
	DC.L	A5M
	DC.L	A5S
ARROWANIM4ENDE
ARROWANIM5
	DC.L	A6C
	DC.L	A6M
	DC.L	A6S
ARROWANIM5ENDE
ARROWANIM6
	DC.L	A7C
	DC.L	A7M
	DC.L	A7S
ARROWANIM6ENDE
ARROWANIM7
	DC.L	A8C
	DC.L	A8M
	DC.L	A8S
ARROWANIM7ENDE
	DC.L	0			;IMPORTANT FILLER

EXGMONSTER
KOLLPN1
	DC.W	$00,$00,$00,$00,$FFF9,$02,$FFF5,$06
	DC.W	$FFF3,$08,$FFF2,$0A,$FFF1,$0B,$FFF1,$0D
	DC.W	$FFEF,$10,$FFEC,$13,$FFEA,$15,$FFE9,$16
	DC.W	$FFE8,$17,$FFE8,$17,$FFE8,$17,$FFE8,$17
	DC.W	$FFE9,$16,$FFEA,$15,$FFEC,$13,$FFEE,$10
	DC.W	$FFEF,$0E,$FFF0,$0D,$FFF2,$0B,$FFF4,$09
	DC.W	$FFF8,$05,$00,$00

KOLLPN2
	DC.W	$00,$00,$00,$00,$FFFB,$05,$FFF7,$09
	DC.W	$FFF5,$0B,$FFF4,$0C,$FFF3,$0D,$FFF0,$0E
	DC.W	$FFEC,$10,$FFEA,$12,$FFE9,$13,$FFE8,$15
	DC.W	$FFE8,$16,$FFE8,$17,$FFE8,$17,$FFE9,$17
	DC.W	$FFEA,$17,$FFEC,$16,$FFEE,$15,$FFEE,$13
	DC.W	$FFEF,$0F,$FFF0,$0D,$FFF2,$0B,$FFF4,$09
	DC.W	$FFF8,$05,$00,$00

KOLLPN3
	DC.W	$00,$00,$00,$00,$FFFD,$07,$FFF9,$0B
	DC.W	$FFF7,$0D,$FFF6,$0E,$FFF0,$0F,$FFEC,$10
	DC.W	$FFEA,$11,$FFE9,$11,$FFE8,$11,$FFE8,$13
	DC.W	$FFE8,$15,$FFE8,$16,$FFE9,$17,$FFEA,$17
	DC.W	$FFEC,$17,$FFED,$17,$FFEE,$16,$FFEE,$15
	DC.W	$FFEF,$13,$FFF0,$0F,$FFF2,$0D,$FFF4,$09
	DC.W	$FFF8,$05,$00,$00

KOLLPN4
	DC.W	$00,$00,$00,$00,$FFFF,$07,$FFFB,$0B
	DC.W	$FFF9,$0D,$FFF8,$0E,$FFF5,$0F,$FFF0,$10
	DC.W	$FFEC,$11,$FFEA,$11,$FFE9,$13,$FFE8,$15
	DC.W	$FFE8,$16,$FFE8,$17,$FFE8,$17,$FFE9,$17
	DC.W	$FFEA,$17,$FFEC,$16,$FFEE,$15,$FFEE,$13
	DC.W	$FFEF,$11,$FFF0,$0F,$FFF2,$0C,$FFF4,$09
	DC.W	$FFF8,$05,$00,$00

KOLLPN5
	DC.W	$00,$00,$00,$00,$FFFE,$07,$FFFA,$0B
	DC.W	$FFF8,$0D,$FFF6,$0E,$FFF4,$0F,$FFF1,$0F
	DC.W	$FFEE,$0F,$FFEC,$13,$FFEA,$15,$FFE9,$16
	DC.W	$FFE8,$17,$FFE8,$17,$FFE8,$17,$FFE8,$17
	DC.W	$FFE9,$16,$FFEA,$15,$FFEC,$13,$FFEE,$11
	DC.W	$FFEF,$0F,$FFF0,$0D,$FFF2,$0B,$FFF4,$09
	DC.W	$FFF8,$05,$00,$00

KOLLPN6
	DC.W	$00,$00,$00,$00,$FFFD,$07,$FFF9,$0B
	DC.W	$FFF6,$0D,$FFF4,$0E,$FFF3,$0F,$FFF1,$0F
	DC.W	$FFEF,$13,$FFEE,$15,$FFEC,$16,$FFEA,$17
	DC.W	$FFE9,$17,$FFE8,$17,$FFE8,$17,$FFE8,$16
	DC.W	$FFE8,$15,$FFE9,$13,$FFEA,$10,$FFEC,$0F
	DC.W	$FFEF,$0E,$FFF0,$0D,$FFF2,$0B,$FFF4,$09
	DC.W	$FFF8,$05,$00,$00

KOLLPN7
	DC.W	$00,$00,$00,$00,$FFFB,$03,$FFF7,$07
	DC.W	$FFF5,$09,$FFF3,$0A,$FFF2,$0F,$FFF1,$13
	DC.W	$FFF0,$15,$FFEF,$16,$FFEE,$17,$FFEC,$17
	DC.W	$FFEA,$17,$FFE9,$17,$FFE8,$16,$FFE8,$15
	DC.W	$FFE8,$13,$FFE8,$11,$FFE9,$10,$FFEA,$0F
	DC.W	$FFEC,$0E,$FFF0,$0D,$FFF2,$0B,$FFF4,$09
	DC.W	$FFF8,$05,$00,$00

KOLLPN8
	DC.W	$00,$00,$00,$00,$FFF8,$01,$FFF4,$05
	DC.W	$FFF2,$07,$FFF1,$09,$FFF0,$0A,$FFF0,$0F
	DC.W	$FFF0,$13,$FFEE,$15,$FFEC,$16,$FFEA,$17
	DC.W	$FFE9,$17,$FFE8,$17,$FFE8,$17,$FFE8,$16
	DC.W	$FFE8,$15,$FFE9,$13,$FFEA,$10,$FFEC,$0F
	DC.W	$FFEF,$0E,$FFF0,$0D,$FFF2,$0B,$FFF4,$09
	DC.W	$FFF8,$05,$00,$00

KOLLPC1							;KOLLISION PLAYER-CROSS
	DC.W	$00,$00,$00,$00,$00,$00,$00,$00
	DC.W	$00,$00,$FFF2,$0E,$FFEE,$12,$FFEC,$14
	DC.W	$FFEB,$15,$FFEA,$16,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFEA,$16,$FFEB,$15,$FFEC,$14
	DC.W	$FFEE,$12,$FFF2,$0E,$00,$00,$00,$00
	DC.W	$00,$00,$00,$00

KOLLPC2
	DC.W	$00,$00,$00,$00,$00,$00,$00,$00
	DC.W	$00,$00,$FFF2,$0E,$FFEE,$12,$FFEC,$14
	DC.W	$FFEB,$15,$FFEA,$16,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFE9,$17,$FFE9,$17,$FFE9,$17
	DC.W	$FFE9,$17,$FFEA,$16,$FFEB,$15,$FFEC,$14
	DC.W	$FFEE,$12,$FFF2,$0E,$00,$00,$00,$00
	DC.W	$00,$00,$00,$00

KOLLPC3
	DC.W	$00,$00,$00,$00,$00,$00,$FFF9,$07
	DC.W	$FFF5,$0B,$FFF3,$0D,$FFF2,$0E,$FFF1,$0F
	DC.W	$FFEF,$11,$FFEE,$12,$FFED,$13,$FFED,$13
	DC.W	$FFED,$13,$FFED,$13,$FFED,$13,$FFED,$13
	DC.W	$FFED,$13,$FFEE,$12,$FFEF,$11,$FFF1,$0F
	DC.W	$FFF2,$0E,$FFF3,$0D,$FFF5,$0B,$FFF9,$07
	DC.W	$00,$00,$00,$00

KOLLPC4	
	DC.W	$00,$00,$00,$00,$FFF9,$07,$FFF5,$0B
	DC.W	$FFF3,$0D,$FFF2,$0E,$FFF1,$0F,$FFF0,$10
	DC.W	$FFF0,$10,$FFF0,$10,$FFF0,$10,$FFEF,$11
	DC.W	$FFEF,$11,$FFEF,$11,$FFEF,$11,$FFEF,$11
	DC.W	$FFF0,$10,$FFF0,$10,$FFF0,$10,$FFF0,$10
	DC.W	$FFF1,$0F,$FFF2,$0E,$FFF3,$0D,$FFF5,$0B
	DC.W	$FFF9,$07,$00,$00

KOLLPC5
	DC.W	$00,$00,$00,$00,$FFF9,$07,$FFF5,$0B
	DC.W	$FFF3,$0D,$FFF1,$0F,$FFF0,$10,$FFEF,$11
	DC.W	$FFEF,$11,$FFEF,$11,$FFEF,$11,$FFEF,$11
	DC.W	$FFF0,$10,$FFF1,$0F,$FFF0,$10,$FFEF,$11
	DC.W	$FFEF,$11,$FFEF,$11,$FFEF,$11,$FFEF,$11
	DC.W	$FFF0,$10,$FFF1,$0F,$FFF3,$0D,$FFF5,$0B
	DC.W	$FFF9,$07,$00,$00

KOLLPD1							;PLYR-DOUBLESPHERE
	DC.W	$00,$00,$00,$00,$00,$00,$00,$00
	DC.W	$00,$00,$FFF6,$0B,$FFF2,$0F,$FFF0,$11
	DC.W	$FFEE,$13,$FFED,$14,$FFEC,$15,$FFEB,$16
	DC.W	$FFEB,$16,$FFEB,$16,$FFEB,$16,$FFEC,$15
	DC.W	$FFED,$14,$FFEE,$13,$FFF0,$11,$FFF2,$0F
	DC.W	$FFF6,$0B,$00,$00,$00,$00,$00,$00
	DC.W	$00,$00,$00,$00

KOLLPD2
	DC.W	$00,$00,$00,$00,$00,$00,$00,$00
	DC.W	$00,$00,$FFF7,$0B,$FFF3,$0F,$FFF1,$11
	DC.W	$FFEF,$13,$FFEE,$14,$FFED,$15,$FFEC,$16
	DC.W	$FFEC,$16,$FFEC,$16,$FFEC,$16,$FFED,$15
	DC.W	$FFEE,$14,$FFEF,$13,$FFF1,$11,$FFF3,$0F
	DC.W	$FFF7,$0B,$00,$00,$00,$00,$00,$00
	DC.W	$00,$00,$00,$00

KOLLPD3
	DC.W	$00,$00,$00,$00,$00,$00,$00,$00
	DC.W	$FFFE,$0A,$FFF8,$0E,$FFF4,$10,$FFF2,$12
	DC.W	$FFF0,$13,$FFEF,$14,$FFEE,$15,$FFED,$16
	DC.W	$FFED,$16,$FFED,$16,$FFED,$16,$FFEE,$15
	DC.W	$FFEF,$14,$FFF0,$13,$FFF2,$12,$FFF4,$10
	DC.W	$FFF8,$0E,$FFFE,$0A,$00,$00,$00,$00
	DC.W	$00,$00,$00,$00

KOLLPD4
	DC.W	$00,$00,$00,$00,$00,$00,$FFFD,$09
	DC.W	$FFF9,$0D,$FFF7,$0F,$FFF5,$11,$FFF3,$13
	DC.W	$FFF1,$14,$FFF0,$15,$FFEF,$16,$FFEE,$16
	DC.W	$FFEE,$16,$FFEE,$16,$FFEE,$16,$FFEF,$16
	DC.W	$FFF0,$15,$FFF1,$14,$FFF3,$13,$FFF5,$11
	DC.W	$FFF6,$0F,$FFF8,$0D,$FFFC,$09,$00,$00
	DC.W	$00,$00,$00,$00

KOLLPD5
	DC.W	$00,$00,$00,$00,$00,$00,$FFF9,$09
	DC.W	$FFF5,$0D,$FFF3,$0F,$FFF1,$11,$FFF0,$12
	DC.W	$FFEF,$13,$FFEE,$14,$FFED,$15,$FFED,$15
	DC.W	$FFED,$15,$FFED,$15,$FFED,$15,$FFED,$15
	DC.W	$FFEE,$14,$FFEF,$13,$FFF0,$12,$FFF1,$11
	DC.W	$FFF3,$0F,$FFF5,$0D,$FFF9,$09,$00,$00
	DC.W	$00,$00,$00,$00

KOLLPD6
	DC.W	$00,$00,$00,$00,$00,$00,$FFF9,$05
	DC.W	$FFF5,$09,$FFF3,$0C,$FFF1,$0E,$FFEF,$10
	DC.W	$FFEE,$12,$FFED,$13,$FFEC,$14,$FFEC,$15
	DC.W	$FFEC,$15,$FFEC,$15,$FFEC,$15,$FFEC,$14
	DC.W	$FFED,$13,$FFEE,$12,$FFEF,$10,$FFF0,$0E
	DC.W	$FFF2,$0B,$FFF5,$08,$FFF9,$04,$00,$00
	DC.W	$00,$00,$00,$00

KOLLPD7
	DC.W	$00,$00,$00,$00,$00,$00,$00,$00
	DC.W	$FFF8,$04,$FFF4,$0A,$FFF2,$0E,$FFF0,$10
	DC.W	$FFEF,$12,$FFEE,$13,$FFED,$14,$FFEC,$15
	DC.W	$FFEC,$15,$FFEC,$15,$FFEC,$15,$FFED,$14
	DC.W	$FFEE,$13,$FFEF,$12,$FFF0,$10,$FFF2,$0E
	DC.W	$FFF4,$0A,$FFF8,$04,$00,$00,$00,$00
	DC.W	$00,$00,$00,$00

KOLLPD8
	DC.W	$00,$00,$00,$00,$00,$00,$00,$00
	DC.W	$00,$00,$FFF7,$0B,$FFF3,$0F,$FFF1,$11
	DC.W	$FFEF,$13,$FFEE,$14,$FFED,$15,$FFEC,$16
	DC.W	$FFEC,$16,$FFEC,$16,$FFEC,$16,$FFED,$15
	DC.W	$FFEE,$14,$FFEF,$13,$FFF1,$11,$FFF3,$0F
	DC.W	$FFF7,$0B,$00,$00,$00,$00,$00,$00
	DC.W	$00,$00,$00,$00

NVANIM0
	DC.L	MANVCON
	DC.L	MANV1M
NVANIM0ENDE
NVANIM1
	DC.L	MANVCON
	DC.L	MANV2M
NVANIM1ENDE
NVANIM2
	DC.L	MANVCON
	DC.L	MANV3M
NVANIM2ENDE
NVANIM3
	DC.L	MANVCON
	DC.L	MANV4M
NVANIM3ENDE
NVANIM4
	DC.L	MANVCON
	DC.L	MANV5M
NVANIM4ENDE
NVANIM5
	DC.L	MANVCON
	DC.L	MANV6M
NVANIM5ENDE
NVANIM6
	DC.L	MANVCON
	DC.L	MANV7M
NVANIM6ENDE
NVANIM7
	DC.L	MANVCON
	DC.L	MANV7M
NVANIM7ENDE

NANIM0
	DC.L	MAN1C
	DC.L	MAN1M
NANIM0ENDE
NANIM1
	DC.L	MAN2C
	DC.L	MAN2M
NANIM1ENDE
NANIM2
	DC.L	MAN3C
	DC.L	MAN3M
NANIM2ENDE
NANIM3
	DC.L	MAN4C
	DC.L	MAN4M
NANIM3ENDE
NANIM4
	DC.L	MAN5C
	DC.L	MAN5M
NANIM4ENDE
NANIM5
	DC.L	MAN6C
	DC.L	MAN6M
NANIM5ENDE
NANIM6
	DC.L	MAN7C
	DC.L	MAN7M
NANIM6ENDE
NANIM7
	DC.L	MAN8C
	DC.L	MAN8M
NANIM7ENDE

CRVANIM0
	DC.L	MANVCON
	DC.L	GV1M
	DC.L	VS
CRVANIM0ENDE
CRVANIM1
	DC.L	MANVCON
	DC.L	GV2M
	DC.L	VS
CRVANIM1ENDE
CRVANIM2
	DC.L	MANVCON
	DC.L	GV3M
	DC.L	VS
CRVANIM2ENDE
CRVANIM3
	DC.L	MANVCON
	DC.L	GV4M
	DC.L	VS
CRVANIM3ENDE
CRVANIM4
	DC.L	MANVCON
	DC.L	GV5M
	DC.L	VS
CRVANIM4ENDE

CRANIM0
	DC.L	G1C
	DC.L	G1M
	DC.L	G1S
CRANIM0ENDE
CRANIM1
	DC.L	G2C
	DC.L	G2M
	DC.L	G2S
CRANIM1ENDE
CRANIM2
	DC.L	G3C
	DC.L	G3M
	DC.L	G3S
CRANIM2ENDE
CRANIM3
	DC.L	G4C
	DC.L	G4M
	DC.L	G4S
CRANIM3ENDE
CRANIM4
	DC.L	G5C
	DC.L	G5M
	DC.L	G5S
CRANIM4ENDE

DSVANIM0
	DC.L	MANVCON
	DC.L	AV1M
	DC.L	VS
DSVANIM0ENDE
DSVANIM1
	DC.L	MANVCON
	DC.L	AV2M
	DC.L	VS
DSVANIM1ENDE
DSVANIM2
	DC.L	MANVCON
	DC.L	AV3M
	DC.L	VS
DSVANIM2ENDE
DSVANIM3
	DC.L	MANVCON
	DC.L	AV4M
	DC.L	VS
DSVANIM3ENDE
DSVANIM4
	DC.L	MANVCON
	DC.L	AV5M
	DC.L	VS
DSVANIM4ENDE
DSVANIM5
	DC.L	MANVCON
	DC.L	AV6M
	DC.L	VS
DSVANIM5ENDE
DSVANIM6
	DC.L	MANVCON
	DC.L	AV7M
	DC.L	VS
DSVANIM6ENDE
DSVANIM7
	DC.L	MANVCON
	DC.L	AV8M
	DC.L	VS
DSVANIM7ENDE

DSANIM0
	DC.L	A1C
	DC.L	A1M
	DC.L	A1S
DSANIM0ENDE
DSANIM1
	DC.L	A2C
	DC.L	A2M
	DC.L	A2S
DSANIM1ENDE
DSANIM2
	DC.L	A3C
	DC.L	A3M
	DC.L	A3S
DSANIM2ENDE
DSANIM3
	DC.L	A4C
	DC.L	A4M
	DC.L	A4S
DSANIM3ENDE
DSANIM4
	DC.L	A5C
	DC.L	A5M
	DC.L	A5S
DSANIM4ENDE
DSANIM5
	DC.L	A6C
	DC.L	A6M
	DC.L	A6S
DSANIM5ENDE
DSANIM6
	DC.L	A7C
	DC.L	A7M
	DC.L	A7S
DSANIM6ENDE
DSANIM7
	DC.L	A8C
	DC.L	A8M
	DC.L	A8S
DSANIM7ENDE
EXGMONSTEREND
	DC.L	0		;IMPORTANT FILLER

MANSTUN0
	DC.L	MS1C
	DC.L	MS1M
MANSTUN0ENDE
MANSTUN1
	DC.L	MS2C
	DC.L	MS2M
MANSTUN1ENDE
MANSTUN2
	DC.L	MS3C
	DC.L	MS3M
MANSTUN2ENDE
MANSTUN4
	DC.L	MS4C
	DC.L	MS4M
MANSTUN4ENDE
MANSTUN5
	DC.L	MS5C
	DC.L	MS5M
MANSTUN5ENDE
MANSTUN6
	DC.L	MS6C
	DC.L	MS6M
MANSTUN6ENDE
GHOSTSTUN0
	DC.L	GS1C
	DC.L	MS1M
	DC.L	GS1S
GHOSTSTUN0ENDE
GHOSTSTUN1
	DC.L	GS2C
	DC.L	MS2M
	DC.L	GS2S
GHOSTSTUN1ENDE
GHOSTSTUN2
	DC.L	GS3C
	DC.L	MS3M
	DC.L	GS3S
GHOSTSTUN2ENDE
GHOSTSTUN4
	DC.L	GS4C
	DC.L	MS4M
	DC.L	GS4S
GHOSTSTUN4ENDE
GHOSTSTUN5
	DC.L	GS5C
	DC.L	MS5M
	DC.L	GS5S
GHOSTSTUN5ENDE
GHOSTSTUN6
	DC.L	GS6C
	DC.L	MS6M
	DC.L	GS6S
GHOSTSTUN6ENDE
ARROWSTUN0
	DC.L	AS1C
	DC.L	MS1M
	DC.L	AS1S
ARROWSTUN0ENDE
ARROWSTUN1
	DC.L	AS2C
	DC.L	MS2M
	DC.L	AS2S
ARROWSTUN1ENDE
ARROWSTUN2
	DC.L	AS3C
	DC.L	MS3M
	DC.L	AS3S
ARROWSTUN2ENDE
ARROWSTUN4
	DC.L	AS4C
	DC.L	MS4M
	DC.L	AS4S
ARROWSTUN4ENDE
ARROWSTUN5
	DC.L	AS5C
	DC.L	MS5M
	DC.L	AS5S
ARROWSTUN5ENDE
ARROWSTUN6
	DC.L	AS6C
	DC.L	MS6M
	DC.L	AS6S
ARROWSTUN6ENDE

	ENDB	A4
;-----------------------------------------------------------------------
;		PRO-TRACKER REPLAY SYSTEM
;	-----------------------------------------


lbL000000	dc.l	0
	dc.l	0
	dc.l	0
	dc.l	0
	dc.l	0
	dc.l	0
	dc.l	0
	dc.l	0
	dc.l	0
lbB000024	dc.b	0
	dc.b	4
	dc.b	$C7
	dc.b	$F8
init:	LEA	lbL000000(PC),A4
	LEA	lbB000024(PC),A1
	MOVE.L	A0,(A1)
	MOVE.L	A0,$11E2(A4)
	MOVE.L	A0,A1
	LEA	$03B8(A1),A1
	MOVEQ.L	#$7F,D0
	MOVEQ.L	#0,D1
lbC000040	MOVE.L	D1,D2
	SUBQ.W	#1,D0
lbC000044	MOVE.B	(A1)+,D1
	CMP.B	D2,D1
	BGT	lbC000040
	DBRA	D0,lbC000044
	ADDQ.B	#1,D2
	LEA	lbB001166(PC),A1
	ASL.L	#8,D2
	ASL.L	#2,D2
	ADD.L	#$0000043C,D2
	ADD.L	A0,D2
	MOVE.L	D2,A2
	MOVEQ.L	#$1E,D0
lbC000066	MOVE.L	A2,(A1)+
	MOVEQ.L	#0,D1
	MOVE.W	$002A(A0),D1
	ASL.L	#1,D1
	ADD.L	D1,A2
	ADD.L	#$0000001E,A0
	DBRA	D0,lbC000066
	OR.B	#2,$00BFE001
	MOVE.B	#6,$11E6(A4)
	CLR.W	$00DFF0A8
	CLR.W	$00DFF0B8
	CLR.W	$00DFF0C8
	CLR.W	$00DFF0D8
	CLR.B	$11E7(A4)
	CLR.B	$11E8(A4)
	CLR.W	$11F0(A4)
	RTS	
 
ende:	CLR.W	$00DFF0A8
	CLR.W	$00DFF0B8
	CLR.W	$00DFF0C8
	CLR.W	$00DFF0D8
	MOVE.W	#15,$00DFF096
	RTS	
 
music:	MOVEM.L	D0-D4/A0-A6,-(SP)
	LEA	lbL000000(PC),A4
	ADDQ.B	#1,$11E7(A4)
	MOVE.B	lbB0011E7(pc),D0
	CMP.B	lbB0011E6(pc),D0
	BCS	lbC0000FE
	CLR.B	$11E7(A4)
	TST.B	$11EE(A4)
	BEQ	lbC00013E
	BSR	lbC000106
	BRA	lbC000390
 
lbC0000FE	BSR	lbC000106
	BRA	lbC000414
 
lbC000106	LEA	$00DFF0A0,A5
	LEA	lbL0010B6(PC),A6
	BSR	lbC000422
	LEA	$00DFF0B0,A5
	LEA	lbL0010E2(PC),A6
	BSR	lbC000422
	LEA	$00DFF0C0,A5
	LEA	lbL00110E(PC),A6
	BSR	lbC000422
	LEA	$00DFF0D0,A5
	LEA	lbL00113A(PC),A6
	BRA	lbC000422
 
lbC00013E	MOVE.L	lbL0011E2(pc),A0
	LEA	12(A0),A3
	LEA	$03B8(A0),A2
	LEA	$043C(A0),A0
	MOVEQ.L	#0,D0
	MOVEQ.L	#0,D1
	MOVE.B	lbB0011E8(pc),D0
	MOVE.B	0(A2,D0.W),D1
	ASL.L	#8,D1
	ASL.L	#2,D1
	ADD.W	lbW0011F0(pc),D1
	CLR.W	$11F2(A4)
	LEA	$00DFF0A0,A5
	LEA	lbL0010B6(PC),A6
	BSR	lbC0001A2
	LEA	$00DFF0B0,A5
	LEA	lbL0010E2(PC),A6
	BSR	lbC0001A2
	LEA	$00DFF0C0,A5
	LEA	lbL00110E(PC),A6
	BSR	lbC0001A2
	LEA	$00DFF0D0,A5
	LEA	lbL00113A(PC),A6
	BSR	lbC0001A2
	BRA	lbC00032C
 
lbC0001A2	TST.L	(A6)
	BNE	lbC0001AC
	BSR	lbC00048E
lbC0001AC	MOVE.L	0(A0,D1.L),(A6)
	ADDQ.L	#4,D1
	MOVEQ.L	#0,D2
	MOVE.B	2(A6),D2
	AND.B	#$F0,D2
	LSR.B	#4,D2
	MOVE.B	(A6),D0
	AND.B	#$F0,D0
	OR.B	D0,D2
	TST.B	D2
	BEQ	lbC000252
	MOVEQ.L	#0,D3
	LEA	lbB001166(PC),A1
	MOVE.W	D2,D4
	SUBQ.L	#1,D2
	ASL.L	#2,D2
	MULU	#$1E,D4
	MOVE.L	0(A1,D2.L),4(A6)
	MOVE.W	0(A3,D4.L),8(A6)
	MOVE.W	0(A3,D4.L),$0028(A6)
	MOVE.B	2(A3,D4.L),$0012(A6)
	MOVE.B	3(A3,D4.L),$0013(A6)
	MOVE.W	4(A3,D4.L),D3
	TST.W	D3
	BEQ	lbC000234
	MOVE.L	4(A6),D2
	ASL.W	#1,D3
	ADD.L	D3,D2
	MOVE.L	D2,10(A6)
	MOVE.L	D2,$0024(A6)
	MOVE.W	4(A3,D4.L),D0
	ADD.W	6(A3,D4.L),D0
	MOVE.W	D0,8(A6)
	MOVE.W	6(A3,D4.L),14(A6)
	MOVEQ.L	#0,D0
	MOVE.B	$0013(A6),D0
	MOVE.W	D0,8(A5)
	BRA	lbC000252
 
lbC000234	MOVE.L	4(A6),D2
	ADD.L	D3,D2
	MOVE.L	D2,10(A6)
	MOVE.L	D2,$0024(A6)
	MOVE.W	6(A3,D4.L),14(A6)
	MOVEQ.L	#0,D0
	MOVE.B	$0013(A6),D0
	MOVE.W	D0,8(A5)
lbC000252	MOVE.W	(A6),D0
	AND.W	#$0FFF,D0
	BEQ	lbC000918
	MOVE.W	2(A6),D0
	AND.W	#$0FF0,D0
	CMP.W	#$0E50,D0
	BEQ	lbC000294
	MOVE.B	2(A6),D0
	AND.B	#15,D0
	CMP.B	#3,D0
	BEQ	lbC00029C
	CMP.B	#5,D0
	BEQ	lbC00029C
	CMP.B	#9,D0
	BNE	lbC0002A4
	BSR	lbC000918
	BRA	lbC0002A4
 
lbC000294	BSR	lbC000A18
	BRA	lbC0002A4
 
lbC00029C	BSR	lbC00059E
	BRA	lbC000918
 
lbC0002A4	MOVEM.L	D0/D1/A0/A1,-(SP)
	MOVE.W	(A6),D1
	AND.W	#$0FFF,D1
	LEA	lbB000C36(PC),A1
	MOVEQ.L	#0,D0
	MOVEQ.L	#$24,D7
lbC0002B6	CMP.W	0(A1,D0.W),D1
	BCC	lbC0002C4
	ADDQ.L	#2,D0
	DBRA	D7,lbC0002B6
lbC0002C4	MOVEQ.L	#0,D1
	MOVE.B	$0012(A6),D1
	MULU	#$48,D1
	ADD.L	D1,A1
	MOVE.W	0(A1,D0.W),$0010(A6)
	MOVEM.L	(SP)+,D0/D1/A0/A1
	MOVE.W	2(A6),D0
	AND.W	#$0FF0,D0
	CMP.W	#$0ED0,D0
	BEQ	lbC000918
	MOVE.W	$0014(A6),$00DFF096
	BTST	#2,$001E(A6)
	BNE	lbC000300
	CLR.B	$001B(A6)
lbC000300	BTST	#6,$001E(A6)
	BNE	lbC00030E
	CLR.B	$001D(A6)
lbC00030E	MOVE.L	4(A6),(A5)
	MOVE.W	8(A6),4(A5)
	MOVE.W	$0010(A6),D0
	MOVE.W	D0,6(A5)
	MOVE.W	$0014(A6),D0
	OR.W	D0,$11F2(A4)
	BRA	lbC000918
 
lbC00032C	MOVE.W	#$012C,D0
	bsr	TIME
;lbC000330	DBRA	D0,lbC000330	;todo!
	MOVE.W	lbB0011F2(pc),D0
	OR.W	#$8000,D0
	MOVE.W	D0,$00DFF096
	MOVE.W	#$012C,D0
	bsr	TIME
;lbC000346	DBRA	D0,lbC000346	;todo!
	LEA	$00DFF000,A5
	LEA	lbL00113A(PC),A6
	MOVE.L	10(A6),$00D0(A5)
	MOVE.W	14(A6),$00D4(A5)
	LEA	lbL00110E(PC),A6
	MOVE.L	10(A6),$00C0(A5)
	MOVE.W	14(A6),$00C4(A5)
	LEA	lbL0010E2(PC),A6
	MOVE.L	10(A6),$00B0(A5)
	MOVE.W	14(A6),$00B4(A5)
	LEA	lbL0010B6(PC),A6
	MOVE.L	10(A6),$00A0(A5)
	MOVE.W	14(A6),$00A4(A5)
lbC000390	ADD.W	#$0010,$11F0(A4)
	MOVE.B	$11ED(A4),D0
	BEQ	lbC0003A6
	MOVE.B	D0,$11EE(A4)
	CLR.B	$11ED(A4)
lbC0003A6	TST.B	$11EE(A4)
	BEQ	lbC0003BC
	SUBQ.B	#1,$11EE(A4)
	BEQ	lbC0003BC
	SUB.W	#$0010,$11F0(A4)
lbC0003BC	TST.B	$11EB(A4)
	BEQ	lbC0003D8
	SF	$11EB(A4)
	MOVEQ.L	#0,D0
	MOVE.B	lbB0011E9(pc),D0
	CLR.B	$11E9(A4)
	LSL.W	#4,D0
	MOVE.W	D0,$11F0(A4)
lbC0003D8	CMP.W	#$0400,$11F0(A4)
	BCS	lbC000414
lbC0003E2	MOVEQ.L	#0,D0
	MOVE.B	lbB0011E9(pc),D0
	LSL.W	#4,D0
	MOVE.W	D0,$11F0(A4)
	CLR.B	$11E9(A4)
	CLR.B	$11EA(A4)
	ADDQ.B	#1,$11E8(A4)
	AND.B	#$7F,$11E8(A4)
	MOVE.B	lbB0011E8(pc),D1
	MOVE.L	lbL0011E2(pc),A0
	CMP.B	$03B6(A0),D1
	BCS	lbC000414
	CLR.B	$11E8(A4)
lbC000414	TST.B	$11EA(A4)
	BNE	lbC0003E2
	MOVEM.L	(SP)+,D0-D4/A0-A6
	RTS	
 
lbC000422	BSR	lbC000BA2
	MOVE.W	2(A6),D0
	AND.W	#$0FFF,D0
	BEQ	lbC00048E
	MOVE.B	2(A6),D0
	AND.B	#15,D0
	BEQ	lbC000496
	CMP.B	#1,D0
	BEQ	lbC000514
	CMP.B	#2,D0
	BEQ	lbC000560
	CMP.B	#3,D0
	BEQ	lbC00060A
	CMP.B	#4,D0
	BEQ	lbC0006A8
	CMP.B	#5,D0
	BEQ	lbC00075A
	CMP.B	#6,D0
	BEQ	lbC000762
	CMP.B	#14,D0
	BEQ	lbC000956
	MOVE.W	$0010(A6),6(A5)
	CMP.B	#7,D0
	BEQ	lbC00076E
	CMP.B	#10,D0
	BEQ	lbC000866
lbC00048C	RTS	
 
lbC00048E	MOVE.W	$0010(A6),6(A5)
	RTS	
 
lbC000496	MOVEQ.L	#0,D0
	MOVE.B	lbB0011E7(pc),D0
	DIVS	#3,D0
	SWAP	D0
	CMP.W	#0,D0
	BEQ	lbC0004CC
	CMP.W	#2,D0
	BEQ	lbC0004BE
	MOVEQ.L	#0,D0
	MOVE.B	3(A6),D0
	LSR.B	#4,D0
	BRA	lbC0004D4
 
lbC0004BE	MOVEQ.L	#0,D0
	MOVE.B	3(A6),D0
	AND.B	#15,D0
	BRA	lbC0004D4
 
lbC0004CC	MOVE.W	$0010(A6),D2
	BRA	lbC000500
 
lbC0004D4	ASL.W	#1,D0
	MOVEQ.L	#0,D1
	MOVE.B	$0012(A6),D1
	MULU	#$48,D1
	LEA	lbB000C36(PC),A0
	ADD.L	D1,A0
	MOVEQ.L	#0,D1
	MOVE.W	$0010(A6),D1
	MOVEQ.L	#$24,D7
lbC0004EE	MOVE.W	0(A0,D0.W),D2
	CMP.W	(A0),D1
	BCC	lbC000500
	ADDQ.L	#2,A0
	DBRA	D7,lbC0004EE
	RTS	
 
lbC000500	MOVE.W	D2,6(A5)
	RTS	
 
lbC000506	TST.B	$11E7(A4)
	BNE	lbC00048C
	MOVE.B	#15,$11EC(A4)
lbC000514	MOVEQ.L	#0,D0
	MOVE.B	3(A6),D0
	AND.B	lbB0011EC(pc),D0
	MOVE.B	#$FF,$11EC(A4)
	SUB.W	D0,$0010(A6)
	MOVE.W	$0010(A6),D0
	AND.W	#$0FFF,D0
	CMP.W	#$0071,D0
	BPL	lbC000544
	AND.W	#$F000,$0010(A6)
	OR.W	#$0071,$0010(A6)
lbC000544	MOVE.W	$0010(A6),D0
	AND.W	#$0FFF,D0
	MOVE.W	D0,6(A5)
	RTS	
 
lbC000552	TST.B	$11E7(A4)
	BNE	lbC00048C
	MOVE.B	#15,$11EC(A4)
lbC000560	CLR.W	D0
	MOVE.B	3(A6),D0
	AND.B	lbB0011EC(pc),D0
	MOVE.B	#$FF,$11EC(A4)
	ADD.W	D0,$0010(A6)
	MOVE.W	$0010(A6),D0
	AND.W	#$0FFF,D0
	CMP.W	#$0358,D0
	BMI	lbC000590
	AND.W	#$F000,$0010(A6)
	OR.W	#$0358,$0010(A6)
lbC000590	MOVE.W	$0010(A6),D0
	AND.W	#$0FFF,D0
	MOVE.W	D0,6(A5)
	RTS	
 
lbC00059E	MOVE.L	A0,-(SP)
	MOVE.W	(A6),D2
	AND.W	#$0FFF,D2
	MOVEQ.L	#0,D0
	MOVE.B	$0012(A6),D0
	MULU	#$4A,D0
	LEA	lbB000C36(PC),A0
	ADD.L	D0,A0
	MOVEQ.L	#0,D0
lbC0005B8	CMP.W	0(A0,D0.W),D2
	BCC	lbC0005CC
	ADDQ.W	#2,D0
	CMP.W	#$004A,D0
	BCS	lbC0005B8
	MOVEQ.L	#$46,D0
lbC0005CC	MOVE.B	$0012(A6),D2
	AND.B	#8,D2
	BEQ	lbC0005E0
	TST.W	D0
	BEQ	lbC0005E0
	SUBQ.W	#2,D0
lbC0005E0	MOVE.W	0(A0,D0.W),D2
	MOVE.L	(SP)+,A0
	MOVE.W	D2,$0018(A6)
	MOVE.W	$0010(A6),D0
	CLR.B	$0016(A6)
	CMP.W	D0,D2
	BEQ	lbC000604
	BGE	lbC00048C
	MOVE.B	#1,$0016(A6)
	RTS	
 
lbC000604	CLR.W	$0018(A6)
	RTS	
 
lbC00060A	MOVE.B	3(A6),D0
	BEQ	lbC00061A
	MOVE.B	D0,$0017(A6)
	CLR.B	3(A6)
lbC00061A	TST.W	$0018(A6)
	BEQ	lbC00048C
	MOVEQ.L	#0,D0
	MOVE.B	$0017(A6),D0
	TST.B	$0016(A6)
	BNE	lbC00064E
	ADD.W	D0,$0010(A6)
	MOVE.W	$0018(A6),D0
	CMP.W	$0010(A6),D0
	BGT	lbC000668
	MOVE.W	$0018(A6),$0010(A6)
	CLR.W	$0018(A6)
	BRA	lbC000668
 
lbC00064E	SUB.W	D0,$0010(A6)
	MOVE.W	$0018(A6),D0
	CMP.W	$0010(A6),D0
	BLT	lbC000668
	MOVE.W	$0018(A6),$0010(A6)
	CLR.W	$0018(A6)
lbC000668	MOVE.W	$0010(A6),D2
	MOVE.B	$001F(A6),D0
	AND.B	#15,D0
	BEQ	lbC0006A2
	MOVEQ.L	#0,D0
	MOVE.B	$0012(A6),D0
	MULU	#$48,D0
	LEA	lbB000C36(PC),A0
	ADD.L	D0,A0
	MOVEQ.L	#0,D0
lbC00068A	CMP.W	0(A0,D0.W),D2
	BCC	lbC00069E
	ADDQ.W	#2,D0
	CMP.W	#$0048,D0
	BCS	lbC00068A
	MOVEQ.L	#$46,D0
lbC00069E	MOVE.W	0(A0,D0.W),D2
lbC0006A2	MOVE.W	D2,6(A5)
	RTS	
 
lbC0006A8	MOVE.B	3(A6),D0
	BEQ	lbC0006D8
	MOVE.B	$001A(A6),D2
	AND.B	#15,D0
	BEQ	lbC0006C2
	AND.B	#$F0,D2
	OR.B	D0,D2
lbC0006C2	MOVE.B	3(A6),D0
	AND.B	#$F0,D0
	BEQ	lbC0006D4
	AND.B	#15,D2
	OR.B	D0,D2
lbC0006D4	MOVE.B	D2,$001A(A6)
lbC0006D8	MOVE.B	$001B(A6),D0
	LEA	lbB000C16(PC),A4
	LSR.W	#2,D0
	AND.W	#$001F,D0
	MOVEQ.L	#0,D2
	MOVE.B	$001E(A6),D2
	AND.B	#3,D2
	BEQ	lbC00071E
	LSL.B	#3,D0
	CMP.B	#1,D2
	BEQ	lbC000706
	MOVE.B	#$FF,D2
	BRA	lbC000722
 
lbC000706	TST.B	$001B(A6)
	BPL	lbC000718
	MOVE.B	#$FF,D2
	SUB.B	D0,D2
	BRA	lbC000722
 
lbC000718	MOVE.B	D0,D2
	BRA	lbC000722
 
lbC00071E	MOVE.B	0(A4,D0.W),D2
lbC000722	MOVE.B	$001A(A6),D0
	AND.W	#15,D0
	MULU	D0,D2
	LSR.W	#7,D2
	MOVE.W	$0010(A6),D0
	TST.B	$001B(A6)
	BMI	lbC000740
	ADD.W	D2,D0
	BRA	lbC000742
 
lbC000740	SUB.W	D2,D0
lbC000742	MOVE.W	D0,6(A5)
	MOVE.B	$001A(A6),D0
	LSR.W	#2,D0
	AND.W	#$003C,D0
	ADD.B	D0,$001B(A6)
	LEA	lbL000000(PC),A4
	RTS	
 
lbC00075A	BSR	lbC00061A
	BRA	lbC000866
 
lbC000762	BSR	lbC0006D8
	LEA	lbL000000(PC),A4
	BRA	lbC000866
 
lbC00076E	MOVE.B	3(A6),D0
	BEQ	lbC00079E
	MOVE.B	$001C(A6),D2
	AND.B	#15,D0
	BEQ	lbC000788
	AND.B	#$F0,D2
	OR.B	D0,D2
lbC000788	MOVE.B	3(A6),D0
	AND.B	#$F0,D0
	BEQ	lbC00079A
	AND.B	#15,D2
	OR.B	D0,D2
lbC00079A	MOVE.B	D2,$001C(A6)
lbC00079E	MOVE.B	$001D(A6),D0
	LEA	lbB000C16(PC),A4
	LSR.W	#2,D0
	AND.W	#$001F,D0
	MOVEQ.L	#0,D2
	MOVE.B	$001E(A6),D2
	LSR.B	#4,D2
	AND.B	#3,D2
	BEQ	lbC0007E6
	LSL.B	#3,D0
	CMP.B	#1,D2
	BEQ	lbC0007CE
	MOVE.B	#$FF,D2
	BRA	lbC0007EA
 
lbC0007CE	TST.B	$001B(A6)
	BPL	lbC0007E0
	MOVE.B	#$FF,D2
	SUB.B	D0,D2
	BRA	lbC0007EA
 
lbC0007E0	MOVE.B	D0,D2
	BRA	lbC0007EA
 
lbC0007E6	MOVE.B	0(A4,D0.W),D2
lbC0007EA	MOVE.B	$001C(A6),D0
	AND.W	#15,D0
	MULU	D0,D2
	LSR.W	#6,D2
	MOVEQ.L	#0,D0
	MOVE.B	$0013(A6),D0
	TST.B	$001D(A6)
	BMI	lbC00080A
	ADD.W	D2,D0
	BRA	lbC00080C
 
lbC00080A	SUB.W	D2,D0
lbC00080C	BPL	lbC000812
	CLR.W	D0
lbC000812	CMP.W	#$0040,D0
	BLS	lbC00081E
	MOVE.W	#$0040,D0
lbC00081E	MOVE.W	D0,8(A5)
	MOVE.B	$001C(A6),D0
	LSR.W	#2,D0
	AND.W	#$003C,D0
	ADD.B	D0,$001D(A6)
	LEA	lbL000000(PC),A4
	RTS	
 
lbC000836	MOVEQ.L	#0,D0
	MOVE.B	3(A6),D0
	BEQ	lbC000844
	MOVE.B	D0,$0020(A6)
lbC000844	MOVE.B	$0020(A6),D0
	LSL.W	#7,D0
	CMP.W	8(A6),D0
	BGE	lbC00085E
	SUB.W	D0,8(A6)
	LSL.W	#1,D0
	ADD.L	D0,4(A6)
	RTS	
 
lbC00085E	MOVE.W	#1,8(A6)
	RTS	
 
lbC000866	MOVEQ.L	#0,D0
	MOVE.B	3(A6),D0
	LSR.B	#4,D0
	TST.B	D0
	BEQ	lbC000892
lbC000874	ADD.B	D0,$0013(A6)
	CMP.B	#$40,$0013(A6)
	BMI	lbC000888
	MOVE.B	#$40,$0013(A6)
lbC000888	MOVE.B	$0013(A6),D0
	MOVE.W	D0,8(A5)
	RTS	
 
lbC000892	MOVEQ.L	#0,D0
	MOVE.B	3(A6),D0
	AND.B	#15,D0
lbC00089C	SUB.B	D0,$0013(A6)
	BPL	lbC0008A8
	CLR.B	$0013(A6)
lbC0008A8	MOVE.B	$0013(A6),D0
	MOVE.W	D0,8(A5)
	RTS	
 
lbC0008B2	MOVE.B	3(A6),D0
	SUBQ.B	#1,D0
	MOVE.B	D0,$11E8(A4)
lbC0008BC	CLR.B	$11E9(A4)
	ST 	$11EA(A4)
	RTS	
 
lbC0008C6	MOVEQ.L	#0,D0
	MOVE.B	3(A6),D0
	CMP.B	#$40,D0
	BLS	lbC0008D6
	MOVEQ.L	#$40,D0
lbC0008D6	MOVE.B	D0,$0013(A6)
	MOVE.W	D0,8(A5)
	RTS	
 
lbC0008E0	MOVEQ.L	#0,D0
	MOVE.B	3(A6),D0
	MOVE.L	D0,D2
	LSR.B	#4,D0
	MULU	#10,D0
	AND.B	#15,D2
	ADD.B	D2,D0
	CMP.B	#$3F,D0
	BHI	lbC0008BC
	MOVE.B	D0,$11E9(A4)
	ST 	$11EA(A4)
	RTS	
 
lbC000906	MOVE.B	3(A6),D0
	BEQ	lbC00048C
	CLR.B	$11E7(A4)
	MOVE.B	D0,$11E6(A4)
	RTS	
 
lbC000918	BSR	lbC000BA2
	MOVE.B	2(A6),D0
	AND.B	#15,D0
	CMP.B	#9,D0
	BEQ	lbC000836
	CMP.B	#11,D0
	BEQ	lbC0008B2
	CMP.B	#13,D0
	BEQ	lbC0008E0
	CMP.B	#14,D0
	BEQ	lbC000956
	CMP.B	#15,D0
	BEQ	lbC000906
	CMP.B	#12,D0
	BEQ	lbC0008C6
	RTS	
 
lbC000956	MOVE.B	3(A6),D0
	AND.B	#$F0,D0
	LSR.B	#4,D0
	BEQ	lbC0009D6
	CMP.B	#1,D0
	BEQ	lbC000506
	CMP.B	#2,D0
	BEQ	lbC000552
	CMP.B	#3,D0
	BEQ	lbC0009F0
	CMP.B	#4,D0
	BEQ	lbC000A04
	CMP.B	#5,D0
	BEQ	lbC000A18
	CMP.B	#6,D0
	BEQ	lbC000A26
	CMP.B	#7,D0
	BEQ	lbC000A6C
	CMP.B	#9,D0
	BEQ	lbC000A82
	CMP.B	#10,D0
	BEQ	lbC000AF6
	CMP.B	#11,D0
	BEQ	lbC000B0C
	CMP.B	#12,D0
	BEQ	lbC000B22
	CMP.B	#13,D0
	BEQ	lbC000B40
	CMP.B	#14,D0
	BEQ	lbC000B5E
	CMP.B	#15,D0
	BEQ	lbC000B80
	RTS	
 
lbC0009D6	MOVE.B	3(A6),D0
	AND.B	#1,D0
	ASL.B	#1,D0
	AND.B	#$FD,$00BFE001
	OR.B	D0,$00BFE001
	RTS	
 
lbC0009F0	MOVE.B	3(A6),D0
	AND.B	#15,D0
	AND.B	#$F0,$001F(A6)
	OR.B	D0,$001F(A6)
	RTS	
 
lbC000A04	MOVE.B	3(A6),D0
	AND.B	#15,D0
	AND.B	#$F0,$001E(A6)
	OR.B	D0,$001E(A6)
	RTS	
 
lbC000A18	MOVE.B	3(A6),D0
	AND.B	#15,D0
	MOVE.B	D0,$0012(A6)
	RTS	
 
lbC000A26	TST.B	$11E7(A4)
	BNE	lbC00048C
	MOVE.B	3(A6),D0
	AND.B	#15,D0
	BEQ	lbC000A60
	TST.B	$0022(A6)
	BEQ	lbC000A58
	SUB.B	#1,$0022(A6)
	BEQ	lbC00048C
lbC000A4C	MOVE.B	$0021(A6),$11E9(A4)
	ST 	$11EB(A4)
	RTS	
 
lbC000A58	MOVE.B	D0,$0022(A6)
	BRA	lbC000A4C
 
lbC000A60	MOVE.W	lbW0011F0(pc),D0
	LSR.W	#4,D0
	MOVE.B	D0,$0021(A6)
	RTS	
 
lbC000A6C	MOVE.B	3(A6),D0
	AND.B	#15,D0
	LSL.B	#4,D0
	AND.B	#15,$001E(A6)
	OR.B	D0,$001E(A6)
	RTS	
 
lbC000A82	MOVE.L	D1,-(SP)
	MOVEQ.L	#0,D0
	MOVE.B	3(A6),D0
	AND.B	#15,D0
	BEQ	lbC000AF2
	MOVEQ.L	#0,D1
	MOVE.B	lbB0011E7(pc),D1
	BNE	lbC000AAE
	MOVE.W	0(A6),D1
	AND.W	#$0FFF,D1
	BNE	lbC000AF2
	MOVEQ.L	#0,D1
	MOVE.B	lbB0011E7(pc),D1
lbC000AAE	DIVU	D0,D1
	SWAP	D1
	TST.W	D1
	BNE	lbC000AF2
lbC000AB8	MOVE.W	$0014(A6),$00DFF096
	MOVE.L	4(A6),(A5)
	MOVE.W	8(A6),4(A5)
	MOVE.W	#$012C,D0
	bsr	TIME
;lbC000ACE	DBRA	D0,lbC000ACE	;todo!
	MOVE.W	$0014(A6),D0
	BSET	#15,D0
	MOVE.W	D0,$00DFF096
	MOVE.W	#$012C,D0
	bsr	TIME
;lbC000AE4	DBRA	D0,lbC000AE4	;todo!
	MOVE.L	10(A6),(A5)
	MOVE.L	14(A6),4(A5)
lbC000AF2	MOVE.L	(SP)+,D1
	RTS	
 
lbC000AF6	TST.B	$11E7(A4)
	BNE	lbC00048C
	MOVEQ.L	#0,D0
	MOVE.B	3(A6),D0
	AND.B	#15,D0
	BRA	lbC000874
 
lbC000B0C	TST.B	$11E7(A4)
	BNE	lbC00048C
	MOVEQ.L	#0,D0
	MOVE.B	3(A6),D0
	AND.B	#15,D0
	BRA	lbC00089C
 
lbC000B22	MOVEQ.L	#0,D0
	MOVE.B	3(A6),D0
	AND.B	#15,D0
	CMP.B	lbB0011E7(pc),D0
	BNE	lbC00048C
	CLR.B	$0013(A6)
	MOVE.W	#0,8(A5)
	RTS	
 
lbC000B40	MOVEQ.L	#0,D0
	MOVE.B	3(A6),D0
	AND.B	#15,D0
	CMP.B	$11E7(A4),D0
	BNE	lbC00048C
	MOVE.W	(A6),D0
	BEQ	lbC00048C
	MOVE.L	D1,-(SP)
	BRA	lbC000AB8
 
lbC000B5E	TST.B	$11E7(A4)
	BNE	lbC00048C
	MOVEQ.L	#0,D0
	MOVE.B	3(A6),D0
	AND.B	#15,D0
	TST.B	$11EE(A4)
	BNE	lbC00048C
	ADDQ.B	#1,D0
	MOVE.B	D0,$11ED(A4)
	RTS	
 
lbC000B80	TST.B	$11E7(A4)
	BNE	lbC00048C
	MOVE.B	3(A6),D0
	AND.B	#15,D0
	LSL.B	#4,D0
	AND.B	#15,$001F(A6)
	OR.B	D0,$001F(A6)
	TST.B	D0
	BEQ	lbC00048C
lbC000BA2	MOVEM.L	D1/D2/A0,-(SP)
	MOVEQ.L	#0,D0
	MOVE.B	$001F(A6),D0
	LSR.B	#4,D0
	BEQ	lbC000C00
	LEA	lbB000C06(PC),A0
	MOVE.B	0(A0,D0.W),D0
	ADD.B	D0,$0023(A6)
	BTST	#7,$0023(A6)
	BEQ	lbC000C00
	CLR.B	$0023(A6)
	MOVE.L	4(A6),D1
	MOVEQ.L	#0,D2
	MOVE.W	$0028(A6),D2
	LSL.W	#1,D2
	ADD.L	D2,D1
	MOVE.W	14(A6),D2
	LSL.L	#1,D2
	SUB.L	D2,D1
	MOVE.L	$0024(A6),D2
	MOVEQ.L	#0,D0
	MOVE.W	14(A6),D0
	LSL.L	#1,D0
	ADD.L	D0,D2
	CMP.L	D1,D2
	BLS	lbC000BFA
	MOVE.L	10(A6),D2
lbC000BFA	MOVE.L	D2,$0024(A6)
	MOVE.L	D2,(A5)
lbC000C00	MOVEM.L	(SP)+,D1/D2/A0
	RTS	
 
lbB000C06	dc.b	0
	dc.b	5
	dc.b	6
	dc.b	7
	dc.b	8
	dc.b	10
	dc.b	11
	dc.b	13
	dc.b	$10
	dc.b	$13
	dc.b	$16
	dc.b	$1A
	dc.b	$20
	dc.b	$2B
	dc.b	$40
	dc.b	$80
lbB000C16	dc.b	0
	dc.b	$18
	dc.b	$31
	dc.b	$4A
	dc.b	$61
	dc.b	$78
	dc.b	$8D
	dc.b	$A1
	dc.b	$B4
	dc.b	$C5
	dc.b	$D4
	dc.b	$E0
	dc.b	$EB
	dc.b	$F4
	dc.b	$FA
	dc.b	$FD
	dc.b	$FF
	dc.b	$FD
	dc.b	$FA
	dc.b	$F4
	dc.b	$EB
	dc.b	$E0
	dc.b	$D4
	dc.b	$C5
	dc.b	$B4
	dc.b	$A1
	dc.b	$8D
	dc.b	$78
	dc.b	$61
	dc.b	$4A
	dc.b	$31
	dc.b	$18
lbB000C36
	DC.B	$03,$58,$03,$28,$02,$FA,$02,$D0
	DC.B	$02,$A6,$02,$80,$02,$5C,$02,$3A
	DC.B	$02,$1A,$01,$FC,$01,$E0,$01,$C5
	DC.B	$01,$AC,$01,$94,$01,$7D,$01,$68
	DC.B	$01,$53,$01,$40,$01,$2E,$01,$1D
	DC.B	$01,$0D,$00,$FE,$00,$F0,$00,$E2
	DC.B	$00,$D6,$00,$CA,$00,$BE,$00,$B4
	DC.B	$00,$AA,$00,$A0,$00,$97,$00,$8F
	DC.B	$00,$87,$00,$7F,$00,$78,$00,$71
	DC.B	$03,$52,$03,$22,$02,$F5,$02,$CB
	DC.B	$02,$A2,$02,$7D,$02,$59,$02,$37
	DC.B	$02,$17,$01,$F9,$01,$DD,$01,$C2
	DC.B	$01,$A9,$01,$91,$01,$7B,$01,$65
	DC.B	$01,$51,$01,$3E,$01,$2C,$01,$1C
	DC.B	$01,$0C,$00,$FD,$00,$EF,$00,$E1
	DC.B	$00,$D5,$00,$C9,$00,$BD,$00,$B3
	DC.B	$00,$A9,$00,$9F,$00,$96,$00,$8E
	DC.B	$00,$86,$00,$7E,$00,$77,$00,$71
	DC.B	$03,$4C,$03,$1C,$02,$F0,$02,$C5
	DC.B	$02,$9E,$02,$78,$02,$55,$02,$33
	DC.B	$02,$14,$01,$F6,$01,$DA,$01,$BF
	DC.B	$01,$A6,$01,$8E,$01,$78,$01,$63
	DC.B	$01,$4F,$01,$3C,$01,$2A,$01,$1A
	DC.B	$01,$0A,$00,$FB,$00,$ED,$00,$E0
	DC.B	$00,$D3,$00,$C7,$00,$BC,$00,$B1
	DC.B	$00,$A7,$00,$9E,$00,$95,$00,$8D
	DC.B	$00,$85,$00,$7D,$00,$76,$00,$70
	DC.B	$03,$46,$03,$17,$02,$EA,$02,$C0
	DC.B	$02,$99,$02,$74,$02,$50,$02,$2F
	DC.B	$02,$10,$01,$F2,$01,$D6,$01,$BC
	DC.B	$01,$A3,$01,$8B,$01,$75,$01,$60
	DC.B	$01,$4C,$01,$3A,$01,$28,$01,$18
	DC.B	$01,$08,$00,$F9,$00,$EB,$00,$DE
	DC.B	$00,$D1,$00,$C6,$00,$BB,$00,$B0
	DC.B	$00,$A6,$00,$9D,$00,$94,$00,$8C
	DC.B	$00,$84,$00,$7D,$00,$76,$00,$6F
	DC.B	$03,$40,$03,$11,$02,$E5,$02,$BB
	DC.B	$02,$94,$02,$6F,$02,$4C,$02,$2B
	DC.B	$02,$0C,$01,$EF,$01,$D3,$01,$B9
	DC.B	$01,$A0,$01,$88,$01,$72,$01,$5E
	DC.B	$01,$4A,$01,$38,$01,$26,$01,$16
	DC.B	$01,$06,$00,$F7,$00,$E9,$00,$DC
	DC.B	$00,$D0,$00,$C4,$00,$B9,$00,$AF
	DC.B	$00,$A5,$00,$9C,$00,$93,$00,$8B
	DC.B	$00,$83,$00,$7C,$00,$75,$00,$6E
	DC.B	$03,$3A,$03,$0B,$02,$E0,$02,$B6
	DC.B	$02,$8F,$02,$6B,$02,$48,$02,$27
	DC.B	$02,$08,$01,$EB,$01,$CF,$01,$B5
	DC.B	$01,$9D,$01,$86,$01,$70,$01,$5B
	DC.B	$01,$48,$01,$35,$01,$24,$01,$14
	DC.B	$01,$04,$00,$F5,$00,$E8,$00,$DB
	DC.B	$00,$CE,$00,$C3,$00,$B8,$00,$AE
	DC.B	$00,$A4,$00,$9B,$00,$92,$00,$8A
	DC.B	$00,$82,$00,$7B,$00,$74,$00,$6D
	DC.B	$03,$34,$03,$06,$02,$DA,$02,$B1
	DC.B	$02,$8B,$02,$66,$02,$44,$02,$23
	DC.B	$02,$04,$01,$E7,$01,$CC,$01,$B2
	DC.B	$01,$9A,$01,$83,$01,$6D,$01,$59
	DC.B	$01,$45,$01,$33,$01,$22,$01,$12
	DC.B	$01,$02,$00,$F4,$00,$E6,$00,$D9
	DC.B	$00,$CD,$00,$C1,$00,$B7,$00,$AC
	DC.B	$00,$A3,$00,$9A,$00,$91,$00,$89
	DC.B	$00,$81,$00,$7A,$00,$73,$00,$6D
	DC.B	$03,$2E,$03,$00,$02,$D5,$02,$AC
	DC.B	$02,$86,$02,$62,$02,$3F,$02,$1F
	DC.B	$02,$01,$01,$E4,$01,$C9,$01,$AF
	DC.B	$01,$97,$01,$80,$01,$6B,$01,$56
	DC.B	$01,$43,$01,$31,$01,$20,$01,$10
	DC.B	$01,$00,$00,$F2,$00,$E4,$00,$D8
	DC.B	$00,$CC,$00,$C0,$00,$B5,$00,$AB
	DC.B	$00,$A1,$00,$98,$00,$90,$00,$88
	DC.B	$00,$80,$00,$79,$00,$72,$00,$6C
	DC.B	$03,$8B,$03,$58,$03,$28,$02,$FA
	DC.B	$02,$D0,$02,$A6,$02,$80,$02,$5C
	DC.B	$02,$3A,$02,$1A,$01,$FC,$01,$E0
	DC.B	$01,$C5,$01,$AC,$01,$94,$01,$7D
	DC.B	$01,$68,$01,$53,$01,$40,$01,$2E
	DC.B	$01,$1D,$01,$0D,$00,$FE,$00,$F0
	DC.B	$00,$E2,$00,$D6,$00,$CA,$00,$BE
	DC.B	$00,$B4,$00,$AA,$00,$A0,$00,$97
	DC.B	$00,$8F,$00,$87,$00,$7F,$00,$78
	DC.B	$03,$84,$03,$52,$03,$22,$02,$F5
	DC.B	$02,$CB,$02,$A3,$02,$7C,$02,$59
	DC.B	$02,$37,$02,$17,$01,$F9,$01,$DD
	DC.B	$01,$C2,$01,$A9,$01,$91,$01,$7B
	DC.B	$01,$65,$01,$51,$01,$3E,$01,$2C
	DC.B	$01,$1C,$01,$0C,$00,$FD,$00,$EE
	DC.B	$00,$E1,$00,$D4,$00,$C8,$00,$BD
	DC.B	$00,$B3,$00,$A9,$00,$9F,$00,$96
	DC.B	$00,$8E,$00,$86,$00,$7E,$00,$77
	DC.B	$03,$7E,$03,$4C,$03,$1C,$02,$F0
	DC.B	$02,$C5,$02,$9E,$02,$78,$02,$55
	DC.B	$02,$33,$02,$14,$01,$F6,$01,$DA
	DC.B	$01,$BF,$01,$A6,$01,$8E,$01,$78
	DC.B	$01,$63,$01,$4F,$01,$3C,$01,$2A
	DC.B	$01,$1A,$01,$0A,$00,$FB,$00,$ED
	DC.B	$00,$DF,$00,$D3,$00,$C7,$00,$BC
	DC.B	$00,$B1,$00,$A7,$00,$9E,$00,$95
	DC.B	$00,$8D,$00,$85,$00,$7D,$00,$76
	DC.B	$03,$77,$03,$46,$03,$17,$02,$EA
	DC.B	$02,$C0,$02,$99,$02,$74,$02,$50
	DC.B	$02,$2F,$02,$10,$01,$F2,$01,$D6
	DC.B	$01,$BC,$01,$A3,$01,$8B,$01,$75
	DC.B	$01,$60,$01,$4C,$01,$3A,$01,$28
	DC.B	$01,$18,$01,$08,$00,$F9,$00,$EB
	DC.B	$00,$DE,$00,$D1,$00,$C6,$00,$BB
	DC.B	$00,$B0,$00,$A6,$00,$9D,$00,$94
	DC.B	$00,$8C,$00,$84,$00,$7D,$00,$76
	DC.B	$03,$71,$03,$40,$03,$11,$02,$E5
	DC.B	$02,$BB,$02,$94,$02,$6F,$02,$4C
	DC.B	$02,$2B,$02,$0C,$01,$EE,$01,$D3
	DC.B	$01,$B9,$01,$A0,$01,$88,$01,$72
	DC.B	$01,$5E,$01,$4A,$01,$38,$01,$26
	DC.B	$01,$16,$01,$06,$00,$F7,$00,$E9
	DC.B	$00,$DC,$00,$D0,$00,$C4,$00,$B9
	DC.B	$00,$AF,$00,$A5,$00,$9C,$00,$93
	DC.B	$00,$8B,$00,$83,$00,$7B,$00,$75
	DC.B	$03,$6B,$03,$3A,$03,$0B,$02,$E0
	DC.B	$02,$B6,$02,$8F,$02,$6B,$02,$48
	DC.B	$02,$27,$02,$08,$01,$EB,$01,$CF
	DC.B	$01,$B5,$01,$9D,$01,$86,$01,$70
	DC.B	$01,$5B,$01,$48,$01,$35,$01,$24
	DC.B	$01,$14,$01,$04,$00,$F5,$00,$E8
	DC.B	$00,$DB,$00,$CE,$00,$C3,$00,$B8
	DC.B	$00,$AE,$00,$A4,$00,$9B,$00,$92
	DC.B	$00,$8A,$00,$82,$00,$7B,$00,$74
	DC.B	$03,$64,$03,$34,$03,$06,$02,$DA
	DC.B	$02,$B1,$02,$8B,$02,$66,$02,$44
	DC.B	$02,$23,$02,$04,$01,$E7,$01,$CC
	DC.B	$01,$B2,$01,$9A,$01,$83,$01,$6D
	DC.B	$01,$59,$01,$45,$01,$33,$01,$22
	DC.B	$01,$12,$01,$02,$00,$F4,$00,$E6
	DC.B	$00,$D9,$00,$CD,$00,$C1,$00,$B7
	DC.B	$00,$AC,$00,$A3,$00,$9A,$00,$91
	DC.B	$00,$89,$00,$81,$00,$7A,$00,$73
	DC.B	$03,$5E,$03,$2E,$03,$00,$02,$D5
	DC.B	$02,$AC,$02,$86,$02,$62,$02,$3F
	DC.B	$02,$1F,$02,$01,$01,$E4,$01,$C9
	DC.B	$01,$AF,$01,$97,$01,$80,$01,$6B
	DC.B	$01,$56,$01,$43,$01,$31,$01,$20
	DC.B	$01,$10,$01,$00,$00,$F2,$00,$E4
	DC.B	$00,$D8,$00,$CB,$00,$C0,$00,$B5
	DC.B	$00,$AB,$00,$A1,$00,$98,$00,$90
	DC.B	$00,$88,$00,$80,$00,$79,$00,$72
lbL0010B6	dc.l	0
	dc.l	$000560D4
	dc.l	$064C0005
	dc.l	$60D40001
	dc.l	$01AC0040
	dc.l	$00010000
	dc.l	0
	dc.l	0
	dc.l	0
	dc.l	$000560D4
	dc.l	$064C0000
lbL0010E2	dc.l	0
	dc.l	$0005557E
	dc.l	$05AB0005
	dc.l	$557E0001
	dc.l	$011D0030
	dc.l	$00020000
	dc.l	0
	dc.l	0
	dc.l	0
	dc.l	$0005557E
	dc.l	$05AB0000
lbL00110E	dc.l	0
	dc.l	$00050C34
	dc.l	$08EC0005
	dc.l	$0C3808EA
	dc.l	$01AC0028
	dc.l	$00040000
	dc.l	0
	dc.l	0
	dc.l	0
	dc.l	$00050C38
	dc.l	$08EC0000
lbL00113A	dc.l	0
	dc.l	0
	dc.l	0
	dc.l	0
	dc.l	0
	dc.l	$00080000
	dc.l	0
	dc.l	0
	dc.l	0
	dc.l	0
	dc.l	0
lbB001166
	DC.B	$00,$05,$0C,$34,$00,$05,$1E,$0C
	DC.B	$00,$05,$1E,$0C,$00,$05,$40,$38
	DC.B	$00,$05,$55,$7E,$00,$05,$55,$7E
	DC.B	$00,$05,$60,$D4,$00,$05,$60,$D4
	DC.B	$00,$05,$6D,$6C,$00,$05,$6D,$6C
	DC.B	$00,$05,$6D,$6C,$00,$05,$6D,$6C
	DC.B	$00,$05,$6D,$6C,$00,$05,$6D,$6C
	DC.B	$00,$05,$6D,$6C,$00,$05,$6D,$6C
	DC.B	$00,$05,$6D,$6C,$00,$05,$6D,$6C
	DC.B	$00,$05,$6D,$6C,$00,$05,$6D,$6C
	DC.B	$00,$05,$6D,$6C,$00,$05,$6D,$6C
	DC.B	$00,$05,$6D,$6C,$00,$05,$6D,$6C
	DC.B	$00,$05,$6D,$6C,$00,$05,$6D,$6C
	DC.B	$00,$05,$6D,$6C,$00,$05,$6D,$6C
	DC.B	$00,$05,$6D,$6C,$00,$05,$6D,$6C
	DC.B	$00,$05,$6D,$6C
lbL0011E2	dc.l	$0004C7F8
lbB0011E6	dc.b	4
lbB0011E7	dc.b	1
lbB0011E8	dc.b	1
lbB0011E9	dc.b	0
	dc.b	0
	dc.b	0
lbB0011EC	dc.b	0
	dc.b	0
	dc.b	0
	dc.b	0
lbW0011F0	dc.w	$0060
lbB0011F2	dc.w	0

TIME
	AND.L	#$FFFF,D0
	DIVU	#$28,D0
.4	MOVE.L	D0,-(A7)
	MOVE.B	$DFF006,D0
.3	CMP.B	$DFF006,D0
	BEQ.S	.3
	MOVE.L	(A7)+,D0
	DBF	D0,.4
	RTS

EOPART1

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

	SECTION	FOURMAZEDATA,DATA_C

BOPART2

FFLINE	DC.L	-1,-1,-1,-1,-1,-1,-1,-1
	DC.L	-1,-1,-1,-1,-1,-1,-1,-1
	DC.L	-1,-1,-1,-1

SPREMPTY	DC.L	0

CL1

	DC.W	$1001,$FFFE		;WAIT
CL1SPR0	DC.W	$120,$0000,$122,$0000	;PLAYERPOINTER
CL1SPR1	DC.W	$124,$0000,$126,$0000
CL1SPR2	DC.W	$128,$0000,$12A,$0000
CL1SPR3	DC.W	$12C,$0000,$12E,$0000
CL1SPR4	DC.W	$130,$0000,$132,$0000
CL1SPR5	DC.W	$134,$0000,$136,$0000
CL1SPR6	DC.W	$138,$0000,$13A,$0000
CL1SPR7	DC.W	$13C,$0000,$13E,$0000

	DC.W	$08E,$1541,$090,$40C1	;DIWSTRT/STOP

	DC.W	$100,$0200,$102,$0000,$104,$00

	DC.W	$092,$003C,$094,$00D4	;DATAFETCHSTRT/STOP

	DC.W	$108,2*SCRWIDTH,$10A,2*SCRWIDTH	;MODULO BITPLANES

CL1LOG0	DC.W	$0E0,$0002,$0E2,$F05C
CL1LOG1	DC.W	$0E4,$0003,$0E6,$64B4
CL1LOG2	DC.W	$0E8,$0003,$0EA,$A33C

CL1TB1	DC.W	$180,$0000,$182,$0000
	DC.W	$184,$0000,$186,$0000
	DC.W	$188,$0000,$18A,$0000
	DC.W	$18C,$0000,$18E,$0000

CL1FB1	DC.W	BASELINE*$100+$0007,$FFFE
	DC.W	$180,$0000
	DC.W	BASELINE*$100+$0107,$FFFE
	DC.W	$180,$0000
	DC.W	BASELINE*$100+$0207,$FFFE
	DC.W	$180,$0000
	DC.W	BASELINE*$100+$0307,$FFFE
	DC.W	$180,$0000
	DC.W	BASELINE*$100+$0407,$FFFE
	DC.W	$180,$0000

	DC.W	BASELINE*$100+$07FF,$FFFE

	DC.W	$100,$B200

	DC.W	BASELINE*$100+$1AFF,$FFFE

	DC.W	$100,$0200

CL1FB2	DC.W	BASELINE*$100+$1E07,$FFFE
	DC.W	$180,$0000
	DC.W	BASELINE*$100+$1F07,$FFFE
	DC.W	$180,$0000
	DC.W	BASELINE*$100+$2007,$FFFE
	DC.W	$180,$0000
	DC.W	BASELINE*$100+$2107,$FFFE
	DC.W	$180,$0000
	DC.W	BASELINE*$100+$2207,$FFFE

CL1TB2	DC.W	$180,$0000,$182,$0000	;COLORS
CL1COL2	DC.W	$184,$0000
	DC.W	$186,$0000
	DC.W	$188,$0000,$18A,$0000
	DC.W	$18C,$0000,$18E,$0000
	DC.W	$190,$0000,$192,$0000
	DC.W	$194,$0000,$196,$0000
	DC.W	$198,$0000,$19A,$0000
	DC.W	$19C,$0000,$19E,$0000
	DC.W	$1A0,$0000,$1A2,$0000
	DC.W	$1A4,$0000,$1A6,$0000
	DC.W	$1A8,$0000,$1AA,$0000
	DC.W	$1AC,$0000,$1AE,$0000
	DC.W	$1B0,$0000,$1B2,$0000
	DC.W	$1B4,$0000,$1B6,$0000
	DC.W	$1B8,$0000,$1BA,$0000
	DC.W	$1BC,$0000,$1BE,$0000

CL1BPL0	DC.W	$0E0,$0002,$0E2,$F05C
CL1BPL1	DC.W	$0E4,$0003,$0E6,$64B4
CL1BPL2	DC.W	$0E8,$0003,$0EA,$A33C
CL1BPL3	DC.W	$0EC,$0003,$0EE,$E1C4

	DC.W	$108,3*SCRWIDTH,$10A,3*SCRWIDTH	;MODULO BITPLANES

	DC.W	BASELINE*$100+$26FF,$FFFE

	DC.W	$100,$C200

	DC.W	(BASELINE*$100+$DF01)&$FFFF,$FFFE

	DC.W	$100,$0200

CL1TB3	DC.W	$182,$0000,$186,$0000,$188,$0000
	DC.W	$18A,$0000,$18C,$0000,$18E,$0000
	DC.W	$190,$0000,$194,$0000
	DC.W	$192,$0000,$196,$0000,$198,$0000
	DC.W	$19A,$0000,$19C,$0000,$19E,$0000

	DC.W	$108,SCRWIDTH,$10A,-SCRWIDTH

CL1SC0	DC.W	$0E0,$0000,$0E2,$0000
CL1SC1	DC.W	$0E4,$0000,$0E6,$0000
CL1SC2	DC.W	$0E8,$0000,$0EA,$0000
CL1SC3	DC.W	$0EC,$0000,$0EE,$0000

CL1TB4	DC.W	$184,$0000

	DC.W	$FFE1,$FFFE
	DC.W	(BASELINE*$100+$E601)&$FFFF,$FFFE

	DC.W	$100,$C200

	DC.W	(BASELINE*$100+$EE01)&$FFFF,$FFFE

	DC.W	$100,$0200

CL1LV0	DC.W	$0E0,$0000,$0E2,$0000
CL1LV2	DC.W	$0E8,$0000,$0EA,$0000

	DC.W	(BASELINE*$100+$F001)&$FFFF,$FFFE

	DC.W	$100,$C200

	DC.W	(BASELINE*$100+$F701)&$FFFF,$FFFE

	DC.W	$100,$0200

CL1DIS0	DC.W	$0E0,$0000,$0E2,$0000
CL1DIS1	DC.W	$0E8,$0000,$0EA,$0000

	DC.W	(BASELINE*$100+$FA01)&$FFFF,$FFFE

	DC.W	$100,$C200

	DC.W	(BASELINE*$100+$FF01)&$FFFF,$FFFE

	DC.W	$100,$0200

CL1FB3	DC.W	BASELINE*$100+$0307,$FFFE
	DC.W	$180,$0000
	DC.W	BASELINE*$100+$0407,$FFFE
	DC.W	$180,$0000
	DC.W	BASELINE*$100+$0507,$FFFE
	DC.W	$180,$0000
	DC.W	BASELINE*$100+$0607,$FFFE
	DC.W	$180,$0000
	DC.W	BASELINE*$100+$0707,$FFFE
	DC.W	$180,$0000

	DC.W	$FFFF,$FFFE


CL2
	DC.W	$1001,$FFFE		;WAIT

CL2SPR0	DC.W	$120,$0000,$122,$0000	;PLAYERPOINTER
CL2SPR1	DC.W	$124,$0000,$126,$0000
CL2SPR2	DC.W	$128,$0000,$12A,$0000
CL2SPR3	DC.W	$12C,$0000,$12E,$0000
CL2SPR4	DC.W	$130,$0000,$132,$0000
CL2SPR5	DC.W	$134,$0000,$136,$0000
CL2SPR6	DC.W	$138,$0000,$13A,$0000
CL2SPR7	DC.W	$13C,$0000,$13E,$0000

	DC.W	$08E,$1541,$090,$3EC1	;DIWSTRT/STOP

	DC.W	$100,$0200,$102,$0000,$104,$00

	DC.W	$092,$003C,$094,$00D4	;DATAFETCHSTRT/STOP

	DC.W	$108,2*SCRWIDTH,$10A,2*SCRWIDTH	;MODULO BITPLANES

CL2LOG0	DC.W	$0E0,$0002,$0E2,$F05C
CL2LOG1	DC.W	$0E4,$0003,$0E6,$64B4
CL2LOG2	DC.W	$0E8,$0003,$0EA,$A33C

	DC.W	$180,$0000,$182,$0000
	DC.W	$184,$0000,$186,$0000
	DC.W	$188,$0000,$18A,$0000
	DC.W	$18C,$0000,$18E,$0000

	DC.W	BASELINE*$100+$0007,$FFFE
	DC.W	$180,$0000
	DC.W	BASELINE*$100+$0107,$FFFE
	DC.W	$180,$0000
	DC.W	BASELINE*$100+$0207,$FFFE
	DC.W	$180,$0000
	DC.W	BASELINE*$100+$0307,$FFFE
	DC.W	$180,$0000
	DC.W	BASELINE*$100+$0407,$FFFE
	DC.W	$180,$0000

	DC.W	BASELINE*$100+$07FF,$FFFE

	DC.W	$100,$B200

	DC.W	BASELINE*$100+$1AFF,$FFFE

	DC.W	$100,$0200

	DC.W	BASELINE*$100+$1E07,$FFFE
	DC.W	$180,$0000
	DC.W	BASELINE*$100+$1F07,$FFFE
	DC.W	$180,$0000
	DC.W	BASELINE*$100+$2007,$FFFE
	DC.W	$180,$0000
	DC.W	BASELINE*$100+$2107,$FFFE
	DC.W	$180,$0000
	DC.W	BASELINE*$100+$2207,$FFFE

	DC.W	$180,$0000,$182,$0000	;COLORS
CL2COL2	DC.W	$184,$0000
	DC.W	$186,$0000
	DC.W	$188,$0000,$18A,$0000
	DC.W	$18C,$0000,$18E,$0000
	DC.W	$190,$0000,$192,$0000
	DC.W	$194,$0000,$196,$0000
	DC.W	$198,$0000,$19A,$0000
	DC.W	$19C,$0000,$19E,$0000
	DC.W	$1A0,$0000,$1A2,$0000
	DC.W	$1A4,$0000,$1A6,$0000
	DC.W	$1A8,$0000,$1AA,$0000
	DC.W	$1AC,$0000,$1AE,$0000
	DC.W	$1B0,$0000,$1B2,$0000
	DC.W	$1B4,$0000,$1B6,$0000
	DC.W	$1B8,$0000,$1BA,$0000
	DC.W	$1BC,$0000,$1BE,$0000


CL2BPL0	DC.W	$0E0,$0002,$0E2,$F05C
CL2BPL1	DC.W	$0E4,$0003,$0E6,$64B4
CL2BPL2	DC.W	$0E8,$0003,$0EA,$A33C
CL2BPL3	DC.W	$0EC,$0003,$0EE,$E1C4

	DC.W	$108,3*SCRWIDTH,$10A,3*SCRWIDTH	;MODULO BITPLANES



CL2WT2	DC.W	BASELINE*$100+$26FF,$FFFE

	DC.W	$100,$C200

	DC.W	(BASELINE*$100+$DF01)&$FFFF,$FFFE

	DC.W	$100,$0200

	DC.W	$182,$0000,$186,$0000,$188,$0000
	DC.W	$18A,$0000,$18C,$0000,$18E,$0000
	DC.W	$190,$0000,$194,$0000
	DC.W	$192,$0000,$196,$0000,$198,$0000
	DC.W	$19A,$0000,$19C,$0000,$19E,$0000

	DC.W	$108,SCRWIDTH,$10A,-SCRWIDTH

CL2SC0	DC.W	$0E0,$0000,$0E2,$0000
CL2SC1	DC.W	$0E4,$0000,$0E6,$0000
CL2SC2	DC.W	$0E8,$0000,$0EA,$0000
CL2SC3	DC.W	$0EC,$0000,$0EE,$0000

	DC.W	$184,$0000

	DC.W	$FFE1,$FFFE
	DC.W	(BASELINE*$100+$E601)&$FFFF,$FFFE

	DC.W	$100,$C200

	DC.W	(BASELINE*$100+$EE01)&$FFFF,$FFFE

	DC.W	$100,$0200

CL2LV0	DC.W	$0E0,$0000,$0E2,$0000
CL2LV2	DC.W	$0E8,$0000,$0EA,$0000

	DC.W	(BASELINE*$100+$F001)&$FFFF,$FFFE

	DC.W	$100,$C200

	DC.W	(BASELINE*$100+$F701)&$FFFF,$FFFE

	DC.W	$100,$0200

CL2DIS0	DC.W	$0E0,$0000,$0E2,$0000
CL2DIS1	DC.W	$0E8,$0000,$0EA,$0000

	DC.W	(BASELINE*$100+$FA01)&$FFFF,$FFFE

	DC.W	$100,$C200

	DC.W	(BASELINE*$100+$FF01)&$FFFF,$FFFE

	DC.W	$100,$0200

	DC.W	BASELINE*$100+$0307,$FFFE
	DC.W	$180,$0000
	DC.W	BASELINE*$100+$0407,$FFFE
	DC.W	$180,$0000
	DC.W	BASELINE*$100+$0507,$FFFE
	DC.W	$180,$0000
	DC.W	BASELINE*$100+$0607,$FFFE
	DC.W	$180,$0000
	DC.W	BASELINE*$100+$0707,$FFFE
	DC.W	$180,$0000

	DC.W	$FFFF,$FFFE


	EVEN
TWCHARSET	INCBIN	OWN/FOURMAZE/TWGFX/CHARSCON
TWCHARSETENDE
	EVEN
TWRANDOM	INCBIN	OWN/FOURMAZE/TWGFX/FMCHARSCRACKS
TWRANDOMENDE

	EVEN
TWCHARMASK	INCBIN	OWN/FOURMAZE/TWGFX/CHARSMASK
TWCHARMASKENDE

	EVEN
TWLETTERS	INCBIN	OWN/FOURMAZE/TWGFX/TWLETTERSCON
	DS.B	$8*$8
TWLETTERSENDE

	EVEN
TWLETTERMASK
	DC.B	$FF,$E0,0,0
	DC.B	$FF,$E0,0,0
	DC.B	$FF,$E0,0,0
	DC.B	$FF,$E0,0,0
	DC.B	$FF,$E0,0,0
	DC.B	$FF,$E0,0,0
	DC.B	$FF,$E0,0,0
	DC.B	$FF,$E0,0,0
	DC.B	$FF,$E0,0,0
	DC.B	$FF,$E0,0,0
	DC.B	$FF,$E0,0,0
	DC.B	$FF,$E0,0,0
	DC.B	$FF,$E0,0,0
	DC.B	$FF,$E0,0,0
	DC.B	$FF,$E0,0,0
TWLETTERMASKENDE

TWLIVESCON	INCBIN	OWN/FOURMAZE/TWGFX/TWLIVESCON
TWLIVESCONENDE
	EVEN
MANVCON	DS.B	312
VS
	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

ORIGIMAGE
MAN1C	INCBIN	OWN/FOURMAZE/TWGFX/MAN1C
MAN2C	INCBIN	OWN/FOURMAZE/TWGFX/MAN2C
MAN3C	INCBIN	OWN/FOURMAZE/TWGFX/MAN3C
MAN4C	INCBIN	OWN/FOURMAZE/TWGFX/MAN2C
MAN5C	INCBIN	OWN/FOURMAZE/TWGFX/MAN1C
MAN6C	INCBIN	OWN/FOURMAZE/TWGFX/MAN6C
MAN7C	INCBIN	OWN/FOURMAZE/TWGFX/MAN7C
MAN8C	INCBIN	OWN/FOURMAZE/TWGFX/MAN6C
MAN1M	INCBIN	OWN/FOURMAZE/TWGFX/MAN1M
MAN2M	INCBIN	OWN/FOURMAZE/TWGFX/MAN2M
MAN3M	INCBIN	OWN/FOURMAZE/TWGFX/MAN3M
MAN4M	INCBIN	OWN/FOURMAZE/TWGFX/MAN2M
MAN5M	INCBIN	OWN/FOURMAZE/TWGFX/MAN1M
MAN6M	INCBIN	OWN/FOURMAZE/TWGFX/MAN6M
MAN7M	INCBIN	OWN/FOURMAZE/TWGFX/MAN7M
MAN8M	INCBIN	OWN/FOURMAZE/TWGFX/MAN6M
MANV1M	INCBIN	OWN/FOURMAZE/TWGFX/MV1M
MANV2M	INCBIN	OWN/FOURMAZE/TWGFX/MV2M
MANV3M	INCBIN	OWN/FOURMAZE/TWGFX/MV3M
MANV4M	INCBIN	OWN/FOURMAZE/TWGFX/MV2M
MANV5M	INCBIN	OWN/FOURMAZE/TWGFX/MV1M
MANV6M	INCBIN	OWN/FOURMAZE/TWGFX/MV6M
MANV7M	INCBIN	OWN/FOURMAZE/TWGFX/MV7M
MANV8M	INCBIN	OWN/FOURMAZE/TWGFX/MV6M

G1C	INCBIN	OWN/FOURMAZE/TWGFX/G1C
G2C	INCBIN	OWN/FOURMAZE/TWGFX/G2C
G3C	INCBIN	OWN/FOURMAZE/TWGFX/G3C
G4C	INCBIN	OWN/FOURMAZE/TWGFX/G4C
G5C	INCBIN	OWN/FOURMAZE/TWGFX/G5C
G1M	INCBIN	OWN/FOURMAZE/TWGFX/G1M
G2M	INCBIN	OWN/FOURMAZE/TWGFX/G2M
G3M	INCBIN	OWN/FOURMAZE/TWGFX/G3M
G4M	INCBIN	OWN/FOURMAZE/TWGFX/G4M
G5M	INCBIN	OWN/FOURMAZE/TWGFX/G5M
GV1M	INCBIN	OWN/FOURMAZE/TWGFX/GV1M
GV2M	INCBIN	OWN/FOURMAZE/TWGFX/GV2M
GV3M	INCBIN	OWN/FOURMAZE/TWGFX/GV3M
GV4M	INCBIN	OWN/FOURMAZE/TWGFX/GV4M
GV5M	INCBIN	OWN/FOURMAZE/TWGFX/GV5M
G1S	DC.L	0
	DC.W	$1e00,$1e00,$3e00,$3e00,$7e00,$7e00,$7c00,$7c00
	DC.W	$e000,$e000,$4000,$4000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0f00,$0f00,$3e00,$3e00,$3f00,$3f00,$7c00,$7c00
	DC.W	$7000,$7000,$4000,$4000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0040,$0040
	DC.W	$0040,$0040,$0180,$0180,$1f00,$1f00,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0020,$0020
	DC.W	$0040,$0040,$00c0,$00c0,$0f00,$0f00,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

G2S	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$1e00,$1e00,$7e00,$7e00
	DC.W	$7e00,$7e00,$fc00,$fc00,$7000,$7000,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0f00,$0f00,$3e00,$3e00
	DC.W	$7f00,$7f00,$7c00,$7c00,$3800,$3800,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0040,$0040
	DC.W	$00c0,$00c0,$1f00,$1f00,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0020,$0020
	DC.W	$00c0,$00c0,$0f00,$0f00,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

G3S	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$1e00,$1e00
	DC.W	$7e00,$7e00,$7e00,$7e00,$7c00,$7c00,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0f00,$0f00
	DC.W	$3e00,$3e00,$7f00,$7f00,$7c00,$7c00,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0040,$0040
	DC.W	$00c0,$00c0,$1f00,$1f00,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0020,$0020
	DC.W	$00c0,$00c0,$0f00,$0f00,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

G4S	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$1e00,$1e00,$7e00,$7e00,$7c00,$7c00,$6000,$6000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0f00,$0f00,$3e00,$3e00,$7e00,$7e00,$6000,$6000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$00c0,$00c0,$1f00,$1f00,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$00c0,$00c0,$0f00,$0f00,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

G5S	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$1e00,$1e00,$7e00,$7e00,$fc00,$fc00,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$1e00,$1e00,$3f00,$3f00,$7c00,$7c00,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0040,$0040,$0060,$0060,$0180,$0180
	DC.W	$1f00,$1f00,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0020,$0020,$0060,$0060,$00c0,$00c0
	DC.W	$0f80,$0f80,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

A1C	INCBIN	OWN/FOURMAZE/TWGFX/A1C
A2C	INCBIN	OWN/FOURMAZE/TWGFX/A2C
A3C	INCBIN	OWN/FOURMAZE/TWGFX/A3C
A4C	INCBIN	OWN/FOURMAZE/TWGFX/A4C
A5C	INCBIN	OWN/FOURMAZE/TWGFX/A5C
A6C	INCBIN	OWN/FOURMAZE/TWGFX/A4C
A7C	INCBIN	OWN/FOURMAZE/TWGFX/A3C
A8C	INCBIN	OWN/FOURMAZE/TWGFX/A2C
A1M	INCBIN	OWN/FOURMAZE/TWGFX/A1M
A2M	INCBIN	OWN/FOURMAZE/TWGFX/A2M
A3M	INCBIN	OWN/FOURMAZE/TWGFX/A3M
A4M	INCBIN	OWN/FOURMAZE/TWGFX/A4M
A5M	INCBIN	OWN/FOURMAZE/TWGFX/A5M
A6M	INCBIN	OWN/FOURMAZE/TWGFX/A4M
A7M	INCBIN	OWN/FOURMAZE/TWGFX/A3M
A8M	INCBIN	OWN/FOURMAZE/TWGFX/A2M
AV1M	INCBIN	OWN/FOURMAZE/TWGFX/AV1M
AV2M	INCBIN	OWN/FOURMAZE/TWGFX/AV2M
AV3M	INCBIN	OWN/FOURMAZE/TWGFX/AV3M
AV4M	INCBIN	OWN/FOURMAZE/TWGFX/AV4M
AV5M	INCBIN	OWN/FOURMAZE/TWGFX/AV5M
AV6M	INCBIN	OWN/FOURMAZE/TWGFX/AV4M
AV7M	INCBIN	OWN/FOURMAZE/TWGFX/AV3M
AV8M	INCBIN	OWN/FOURMAZE/TWGFX/AV2M
A1S
ASPR0E	DC.L	0
	DC.W	$0400,$0000,$0c00,$0300,$3800,$0700,$f800,$0060
	DC.W	$0000,$3f80,$0000,$0f80,$0000,$0f00,$3800,$0700
	DC.W	$f800,$0060,$0000,$3f00,$0000,$0e00,$0000,$0600
	DC.W	$0000,$0000
	DC.L	0

ASPR0O	DC.L	0
	DC.W	$0200,$0000,$0c00,$0300,$3c00,$0380,$7c00,$0060
	DC.W	$0000,$3f80,$0000,$0f80,$0000,$0f80,$3c00,$0380
	DC.W	$7c00,$0060,$0000,$3f80,$0000,$0f00,$0000,$0200
	DC.W	$0000,$0000
	DC.L	0

A2S
ASPR1E	DC.L	0
	DC.W	$0400,$0000,$0800,$0300,$3800,$07c0,$f800,$0070
	DC.W	$0000,$3f80,$0000,$0f00,$3800,$07c0,$f800,$0070
	DC.W	$0000,$3fc0,$0000,$0e00,$0000,$0600,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

ASPR1O	DC.L	0
	DC.W	$0200,$0000,$0c00,$0180,$3800,$07e0,$7c00,$0070
	DC.W	$0000,$3f80,$0000,$0f00,$3800,$07e0,$7c00,$0070
	DC.W	$0000,$3fe0,$0000,$0f00,$0000,$0200,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

A3S
ASPR2E	DC.L	0
	DC.W	$0000,$0000,$0400,$0000,$0c00,$0300,$3800,$0700
	DC.W	$f800,$0060,$0000,$3f80,$3000,$0700,$f800,$0060
	DC.W	$0000,$3f00,$0000,$0e00,$0000,$0600,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

ASPR2O	DC.L	0
	DC.W	$0000,$0000,$0200,$0000,$0c00,$0300,$3c00,$0380
	DC.W	$7c00,$0060,$0000,$3f80,$3800,$0380,$7c00,$0060
	DC.W	$0000,$3f80,$0000,$0f00,$0000,$0200,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

A4S
ASPR3E	DC.L	0
	DC.W	$0000,$0000,$0400,$0000,$0c00,$0300,$3800,$0700
	DC.W	$f800,$0000,$0000,$3f80,$f800,$0000,$0000,$3f00
	DC.W	$0000,$0e00,$0000,$0600,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

ASPR3O	DC.L	0
	DC.W	$0000,$0000,$0200,$0000,$0c00,$0300,$3c00,$0380
	DC.W	$7c00,$0000,$0000,$3f80,$7c00,$0000,$0000,$3f80
	DC.W	$0000,$0f00,$0000,$0200,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

A5S
ASPR4E	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0400,$0000,$0c00,$0300
	DC.W	$3800,$0700,$f800,$0060,$f800,$0060,$0000,$3f00
	DC.W	$0000,$0e00,$0000,$0600,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

ASPR4O	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0200,$0000,$0c00,$0300
	DC.W	$3c00,$0380,$7c00,$0060,$7c00,$0060,$0000,$3f80
	DC.W	$0000,$0f00,$0000,$0200,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

A6S
ASPR5E	DC.L	0
	DC.W	$0000,$0000,$0400,$0000,$0c00,$0300,$3800,$0700
	DC.W	$f800,$0000,$0000,$3f80,$f800,$0000,$0000,$3f00
	DC.W	$0000,$0e00,$0000,$0600,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

ASPR5O	DC.L	0
	DC.W	$0000,$0000,$0200,$0000,$0c00,$0300,$3c00,$0380
	DC.W	$7c00,$0000,$0000,$3f80,$7c00,$0000,$0000,$3f80
	DC.W	$0000,$0f00,$0000,$0200,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

A7S
ASPR6E	DC.L	0
	DC.W	$0000,$0000,$0400,$0000,$0c00,$0300,$3800,$0700
	DC.W	$f800,$0060,$0000,$3f80,$3000,$0700,$f800,$0060
	DC.W	$0000,$3f00,$0000,$0e00,$0000,$0600,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

ASPR6O	DC.L	0
	DC.W	$0000,$0000,$0200,$0000,$0c00,$0300,$3c00,$0380
	DC.W	$7c00,$0060,$0000,$3f80,$3800,$0380,$7c00,$0060
	DC.W	$0000,$3f80,$0000,$0f00,$0000,$0200,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

A8S
ASPR7E	DC.L	0
	DC.W	$0400,$0000,$0800,$0300,$3800,$07c0,$f800,$0070
	DC.W	$0000,$3f80,$0000,$0f00,$3800,$07c0,$f800,$0070
	DC.W	$0000,$3fc0,$0000,$0e00,$0000,$0600,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

ASPR7O	DC.L	0
	DC.W	$0200,$0000,$0c00,$0180,$3800,$07e0,$7c00,$0070
	DC.W	$0000,$3f80,$0000,$0f00,$3800,$07e0,$7c00,$0070
	DC.W	$0000,$3fe0,$0000,$0f00,$0000,$0200,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0			;IMPORTANT FILLER

;------------------------------------------------------------------------
EXGIMAGE
N1C	INCBIN	OWN/FOURMAZE/TWGFX/N1C
N2C	INCBIN	OWN/FOURMAZE/TWGFX/N2C
N3C	INCBIN	OWN/FOURMAZE/TWGFX/N3C
N4C	INCBIN	OWN/FOURMAZE/TWGFX/N4C
N5C	INCBIN	OWN/FOURMAZE/TWGFX/N5C
N6C	INCBIN	OWN/FOURMAZE/TWGFX/N6C
N7C	INCBIN	OWN/FOURMAZE/TWGFX/N7C
N8C	INCBIN	OWN/FOURMAZE/TWGFX/N8C
N1M	INCBIN	OWN/FOURMAZE/TWGFX/N1M
N2M	INCBIN	OWN/FOURMAZE/TWGFX/N2M
N3M	INCBIN	OWN/FOURMAZE/TWGFX/N3M
N4M	INCBIN	OWN/FOURMAZE/TWGFX/N4M
N5M	INCBIN	OWN/FOURMAZE/TWGFX/N5M
N6M	INCBIN	OWN/FOURMAZE/TWGFX/N6M
N7M	INCBIN	OWN/FOURMAZE/TWGFX/N7M
N8M	INCBIN	OWN/FOURMAZE/TWGFX/N8M
NV1M	INCBIN	OWN/FOURMAZE/TWGFX/NV1M
NV2M	INCBIN	OWN/FOURMAZE/TWGFX/NV2M
NV3M	INCBIN	OWN/FOURMAZE/TWGFX/NV3M
NV4M	INCBIN	OWN/FOURMAZE/TWGFX/NV4M
NV5M	INCBIN	OWN/FOURMAZE/TWGFX/NV5M
NV6M	INCBIN	OWN/FOURMAZE/TWGFX/NV6M
NV7M	INCBIN	OWN/FOURMAZE/TWGFX/NV7M
NV8M	INCBIN	OWN/FOURMAZE/TWGFX/NV8M

C1C	INCBIN	OWN/FOURMAZE/TWGFX/C1C
C2C	INCBIN	OWN/FOURMAZE/TWGFX/C2C
C3C	INCBIN	OWN/FOURMAZE/TWGFX/C3C
C4C	INCBIN	OWN/FOURMAZE/TWGFX/C4C
C5C	INCBIN	OWN/FOURMAZE/TWGFX/C5C
C1M	INCBIN	OWN/FOURMAZE/TWGFX/C1M
C2M	INCBIN	OWN/FOURMAZE/TWGFX/C2M
C3M	INCBIN	OWN/FOURMAZE/TWGFX/C3M
C4M	INCBIN	OWN/FOURMAZE/TWGFX/C4M
C5M	INCBIN	OWN/FOURMAZE/TWGFX/C5M
CV1M	INCBIN	OWN/FOURMAZE/TWGFX/CV1M
CV2M	INCBIN	OWN/FOURMAZE/TWGFX/CV2M
CV3M	INCBIN	OWN/FOURMAZE/TWGFX/CV3M
CV4M	INCBIN	OWN/FOURMAZE/TWGFX/CV4M
CV5M	INCBIN	OWN/FOURMAZE/TWGFX/CV5M
C1S	DC.L	0
	dc.w	$0000,$0000,$0000,$0000,$0000,$0000,$6060,$6060
	dc.w	$ffe0,$ffe0,$c080,$c080,$8000,$8000,$8040,$8040
	dc.w	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dc.w	$0000,$0000
	DC.L	0

	DC.L	0
	dc.w	$0000,$0000,$0000,$0000,$0000,$0000,$6030,$6030
	dc.w	$6fe0,$6fe0,$4040,$4040,$4000,$4000,$4020,$4020
	dc.w	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dc.w	$0000,$0000
	DC.L	0

	DC.L	0
	dc.w	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dc.w	$0010,$0010,$0010,$0010,$0010,$0010,$3fb0,$3fb0
	dc.w	$6060,$6060,$0000,$0000,$0000,$0000,$0000,$0000
	dc.w	$0000,$0000
	DC.L	0

	DC.L	0
	dc.w	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	dc.w	$0010,$0010,$0010,$0010,$0010,$0010,$1fd0,$1fd0
	dc.w	$6030,$6030,$0000,$0000,$0000,$0000,$0000,$0000
	dc.w	$0000,$0000
	DC.L	0

C2S	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$6f60,$6f60
	DC.W	$f9e0,$f9e0,$c800,$c800,$8000,$8000,$8840,$8840
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0


	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$6730,$6730
	DC.W	$7de0,$7de0,$4800,$4800,$4000,$4000,$4840,$4840
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0


	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0010,$0010,$0010,$0010,$0110,$0110,$31b0,$31b0
	DC.W	$6f60,$6f60,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0


	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0010,$0010,$0010,$0010,$0090,$0090,$1190,$1190
	DC.W	$6730,$6730,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0


C3S	DC.L	0
	DC.W	$0000,$0000,$0f00,$0f00,$0800,$0800,$1c00,$1c00
	DC.W	$38c0,$38c0,$2000,$2000,$2000,$2000,$0000,$0000
	DC.W	$0800,$0800,$0800,$0800,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0700,$0700,$0c00,$0c00,$0c00,$0c00
	DC.W	$1c40,$1c40,$2000,$2000,$2000,$2000,$0000,$0000
	DC.W	$0400,$0400,$0c00,$0c00,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0100,$0100,$0080,$0080
	DC.W	$0000,$0000,$0040,$0040,$0040,$0040,$10c0,$10c0
	DC.W	$1180,$1180,$0100,$0100,$0700,$0700,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0080,$0080,$0080,$0080
	DC.W	$0000,$0000,$0020,$0020,$0020,$0020,$18e0,$18e0
	DC.W	$0880,$0880,$0080,$0080,$0780,$0780,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

C4S
	DC.L	0
	DC.W	$0f00,$0f00,$0800,$0800,$0c00,$0c00,$0c00,$0c00
	DC.W	$1c00,$1c00,$1800,$1800,$1000,$1000,$1c00,$1c00
	DC.W	$0c00,$0c00,$1c00,$1c00,$0800,$0800,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0700,$0700,$0c00,$0c00,$0c00,$0c00,$0600,$0600
	DC.W	$0c00,$0c00,$1800,$1800,$1000,$1000,$0c00,$0c00
	DC.W	$0600,$0600,$0c00,$0c00,$0800,$0800,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0080,$0080,$0180,$0180,$0100,$0100
	DC.W	$0180,$0180,$0080,$0080,$0180,$0180,$0180,$0180
	DC.W	$0100,$0100,$0100,$0100,$0100,$0100,$0f00,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0080,$0080,$0080,$0080,$0080,$0080
	DC.W	$0080,$0080,$0040,$0040,$00c0,$00c0,$0080,$0080
	DC.W	$0080,$0080,$0080,$0080,$0180,$0180,$0700,$0700
	DC.W	$0000,$0000
	DC.L	0

C5S
	DC.L	0
	DC.W	$0f00,$0f00,$1800,$1800,$1c00,$1c00,$0c00,$0c00
	DC.W	$0c00,$0c00,$0c00,$0c00,$0c00,$0c00,$0c00,$0c00
	DC.W	$0c00,$0c00,$1c00,$1c00,$1800,$1800,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0700,$0700,$0800,$0800,$0c00,$0c00,$0600,$0600
	DC.W	$0400,$0400,$0600,$0600,$0400,$0400,$0600,$0600
	DC.W	$0400,$0400,$0e00,$0e00,$0800,$0800,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0080,$0080,$0180,$0180,$0100,$0100
	DC.W	$0100,$0100,$0100,$0100,$0100,$0100,$0100,$0100
	DC.W	$0100,$0100,$0080,$0080,$0180,$0180,$0f00,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0080,$0080,$0080,$0080,$0080,$0080
	DC.W	$0080,$0080,$0080,$0080,$0080,$0080,$0080,$0080
	DC.W	$0080,$0080,$0080,$0080,$0080,$0080,$0700,$0700
	DC.W	$0000,$0000
	DC.L	0

D1C	INCBIN	OWN/FOURMAZE/TWGFX/D1C
D2C	INCBIN	OWN/FOURMAZE/TWGFX/D2C
D3C	INCBIN	OWN/FOURMAZE/TWGFX/D3C
D4C	INCBIN	OWN/FOURMAZE/TWGFX/D4C
D5C	INCBIN	OWN/FOURMAZE/TWGFX/D5C
D6C	INCBIN	OWN/FOURMAZE/TWGFX/D6C
D7C	INCBIN	OWN/FOURMAZE/TWGFX/D7C
D8C	INCBIN	OWN/FOURMAZE/TWGFX/D8C
D1M	INCBIN	OWN/FOURMAZE/TWGFX/D1M
D2M	INCBIN	OWN/FOURMAZE/TWGFX/D2M
D3M	INCBIN	OWN/FOURMAZE/TWGFX/D3M
D4M	INCBIN	OWN/FOURMAZE/TWGFX/D4M
D5M	INCBIN	OWN/FOURMAZE/TWGFX/D5M
D6M	INCBIN	OWN/FOURMAZE/TWGFX/D6M
D7M	INCBIN	OWN/FOURMAZE/TWGFX/D7M
D8M	INCBIN	OWN/FOURMAZE/TWGFX/D8M
DV1M	INCBIN	OWN/FOURMAZE/TWGFX/DV1M
DV2M	INCBIN	OWN/FOURMAZE/TWGFX/DV2M
DV3M	INCBIN	OWN/FOURMAZE/TWGFX/DV3M
DV4M	INCBIN	OWN/FOURMAZE/TWGFX/DV4M
DV5M	INCBIN	OWN/FOURMAZE/TWGFX/DV5M
DV6M	INCBIN	OWN/FOURMAZE/TWGFX/DV6M
DV7M	INCBIN	OWN/FOURMAZE/TWGFX/DV7M
DV8M	INCBIN	OWN/FOURMAZE/TWGFX/DV8M
D1S
	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$6300,$0000,$6300,$0420,$0000,$18c0
	DC.W	$0000,$18c0,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$3180,$0000,$2100,$0420,$0000,$0c60
	DC.W	$0000,$18c0,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

D2S
	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$6300,$0400,$6000,$0640,$0000,$1ec0
	DC.W	$0000,$1980,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$3100,$0200,$2000,$0620,$0000,$0ec0
	DC.W	$0000,$18c0,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

D3S
	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$3000,$0300,$3000,$0100,$2000,$03c0,$0000,$0380
	DC.W	$0000,$0f00,$0000,$1c00,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$1800,$0100,$3000,$0180,$2000,$01c0,$0000,$03c0
	DC.W	$0000,$0780,$0000,$1c00,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

D4S
	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$1000,$0000
	DC.W	$7000,$0000,$6000,$0080,$0000,$0180,$0000,$0180
	DC.W	$0000,$0300,$0000,$0600,$0000,$1c00,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$1000,$0000
	DC.W	$3000,$0000,$2000,$0080,$0000,$00c0,$0000,$01c0
	DC.W	$0000,$0180,$0000,$0600,$0000,$0e00,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

D5S
	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$1800,$0000
	DC.W	$3800,$0000,$3000,$0000,$0000,$0040,$0000,$0040
	DC.W	$0000,$0180,$0000,$0380,$0000,$0f00,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$1800,$0000
	DC.W	$1800,$0000,$1000,$0000,$0000,$0020,$0000,$0040
	DC.W	$0000,$00c0,$0000,$0380,$0000,$0780,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

D6S
	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0c00,$0000
	DC.W	$0c00,$0000,$2800,$0000,$0000,$0000,$0000,$0020
	DC.W	$0000,$00c0,$0000,$0180,$0000,$0700,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0400,$0000
	DC.W	$0c00,$0000,$2800,$0000,$0000,$0000,$0000,$0020
	DC.W	$0000,$0060,$0000,$0180,$0000,$0380,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

D7S
	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0600,$0000,$3400,$0000,$2000,$0040,$0000,$0040
	DC.W	$0000,$1980,$0000,$0380,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0600,$0000,$1600,$0000,$1000,$0020,$0000,$0040
	DC.W	$0000,$18c0,$0000,$0380,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

D8S
	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$6300,$0000,$6200,$0440,$0000,$18c0
	DC.W	$0000,$1980,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$3300,$0000,$2300,$0420,$0000,$0cc0
	DC.W	$0000,$18c0,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

EXGIMAGEEND
	DC.L	0			;IMPORTANT FILLER

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
MS1C	INCBIN	OWN/FOURMAZE/TWGFX/MS1C
MS1M	INCBIN	OWN/FOURMAZE/TWGFX/MS1M
MS2C	INCBIN	OWN/FOURMAZE/TWGFX/MS2C
MS2M	INCBIN	OWN/FOURMAZE/TWGFX/MS2M
MS3C	INCBIN	OWN/FOURMAZE/TWGFX/MS3C
MS3M	INCBIN	OWN/FOURMAZE/TWGFX/MS3M
MS4C	INCBIN	OWN/FOURMAZE/TWGFX/MS4C
MS4M	INCBIN	OWN/FOURMAZE/TWGFX/MS4M
MS5C	INCBIN	OWN/FOURMAZE/TWGFX/MS5C
MS5M	INCBIN	OWN/FOURMAZE/TWGFX/MS5M
MS6C	INCBIN	OWN/FOURMAZE/TWGFX/MS6C
MS6M	INCBIN	OWN/FOURMAZE/TWGFX/MS6M

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
GS1C	INCBIN	OWN/FOURMAZE/TWGFX/GS1C
GS1S	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0f00,$0F00,$1680,$1680,$1080,$1080,$3000,$3000
	DC.W	$3000,$3000,$2000,$2000,$2000,$2000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0d80,$0D80,$0d80,$0D80,$0880,$0880,$1800,$1800
	DC.W	$3000,$3000,$2000,$2000,$2000,$2000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$1980,$1980,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0900,$0900,$0040,$0040
	DC.W	$0060,$0060,$0FA0,$0fa0,$10C0,$10c0,$1F40,$1f40
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0D80,$0d80,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0500,$0500,$0020,$0020
	DC.W	$0060,$0060,$0FA0,$0fa0,$1860,$1860,$17C0,$17c0
	DC.W	$0000,$0000
	DC.L	0
GS2C	INCBIN	OWN/FOURMAZE/TWGFX/GS2C
GS2S	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0f00,$0F00,$1680,$1680,$1080,$1080,$3000,$3000
	DC.W	$3000,$3000,$2000,$2000,$2000,$2000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0d80,$0D80,$0d80,$0D80,$0880,$0880,$1800,$1800
	DC.W	$3000,$3000,$2000,$2000,$2000,$2000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0F00,$0f00,$1080,$1080,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0900,$0900,$0040,$0040
	DC.W	$0060,$0060,$0FA0,$0fa0,$10C0,$10c0,$1F40,$1f40
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0D80,$0d80,$0880,$0880,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0500,$0500,$0020,$0020
	DC.W	$0060,$0060,$0FA0,$0fa0,$1860,$1860,$17C0,$17c0
	DC.W	$0000,$0000
	DC.L	0
GS3C	INCBIN	OWN/FOURMAZE/TWGFX/GS3C
GS3S	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0f00,$0F00,$1680,$1680,$1080,$1080,$3000,$3000
	DC.W	$3000,$3000,$2000,$2000,$2000,$2000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0d80,$0D80,$0d80,$0D80,$0880,$0880,$1800,$1800
	DC.W	$3000,$3000,$2000,$2000,$2000,$2000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$1980,$1980,$1080,$1080,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0900,$0900,$0040,$0040
	DC.W	$0060,$0060,$0FA0,$0fa0,$10C0,$10c0,$1F40,$1f40
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0D80,$0d80,$1040,$1040,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0500,$0500,$0020,$0020
	DC.W	$0060,$0060,$0FA0,$0fa0,$1860,$1860,$17C0,$17c0
	DC.W	$0000,$0000
	DC.L	0
GS4C	INCBIN	OWN/FOURMAZE/TWGFX/GS4C
GS4S	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$1680,$1680,$1080,$1080,$3000,$3000
	DC.W	$3000,$3000,$2000,$2000,$2000,$2000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0d80,$0D80,$0880,$0880,$1800,$1800
	DC.W	$2800,$2800,$2000,$2000,$2000,$2000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$1980,$1980,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0900,$0900,$0040,$0040
	DC.W	$0060,$0060,$0F20,$0f20,$18C0,$18c0,$1F40,$1f40
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0D80,$0d80,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0500,$0500,$0020,$0020
	DC.W	$0060,$0060,$07A0,$07a0,$18E0,$18e0,$17C0,$17c0
	DC.W	$0000,$0000
	DC.L	0
GS5C	INCBIN	OWN/FOURMAZE/TWGFX/GS5C
GS5S	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$1080,$1080,$3000,$3000
	DC.W	$3000,$3000,$2000,$2000,$2000,$2000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0880,$0880,$1800,$1800
	DC.W	$3000,$3000,$2000,$2000,$2000,$2000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$1980,$1980,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0900,$0900,$0040,$0040
	DC.W	$0060,$0060,$0720,$0720,$1DC0,$1dc0,$1F40,$1f40
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0D80,$0d80,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0500,$0500,$0020,$0020
	DC.W	$0060,$0060,$0720,$0720,$1DE0,$1de0,$17C0,$17c0
	DC.W	$0000,$0000
	DC.L	0
GS6C	INCBIN	OWN/FOURMAZE/TWGFX/GS6C
GS6S	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$3000,$3000
	DC.W	$3000,$3000,$2000,$2000,$2000,$2000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$1800,$1800
	DC.W	$3000,$3000,$2000,$2000,$2000,$2000,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$1980,$1980,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0040,$0040
	DC.W	$0060,$0060,$0620,$0620,$1FC0,$1fc0,$1F40,$1f40
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0D80,$0d80,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$0020,$0020
	DC.W	$0060,$0060,$0320,$0320,$1FE0,$1fe0,$17C0,$17c0
	DC.W	$0000,$0000
	DC.L	0

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
AS1C	INCBIN	OWN/FOURMAZE/TWGFX/AS1C
AS1S	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$1980,$0000,$0000
	DC.W	$0f00,$0000,$1680,$0000,$1080,$0900,$3000,$0040
	DC.W	$3000,$0060,$2000,$0fa0,$2000,$10c0,$0000,$1f40
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0d80,$0000,$0000
	DC.W	$0d80,$0000,$0d80,$0000,$0880,$0500,$1800,$0020
	DC.W	$3000,$0060,$2000,$0fa0,$2000,$1860,$0000,$17c0
	DC.W	$0000,$0000
	DC.L	0
AS2C	INCBIN	OWN/FOURMAZE/TWGFX/AS2C
AS2S	DC.L	0
	DC.W	$0000,$0000,$0000,$0f00,$0000,$1080,$0000,$0000
	DC.W	$0f00,$0000,$1680,$0000,$1080,$0900,$3000,$0040
	DC.W	$3000,$0060,$2000,$0fa0,$2000,$10c0,$0000,$1f40
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0d80,$0000,$0880,$0000,$0000
	DC.W	$0d80,$0000,$0d80,$0000,$0880,$0500,$1800,$0020
	DC.W	$3000,$0060,$2000,$0fa0,$2000,$1860,$0000,$17c0
	DC.W	$0000,$0000
	DC.L	0
AS3C	INCBIN	OWN/FOURMAZE/TWGFX/AS3C
AS3S	DC.L	0
	DC.W	$0000,$0000,$0000,$1980,$0000,$1080,$0000,$0000
	DC.W	$0f00,$0000,$1680,$0000,$1080,$0900,$3000,$0040
	DC.W	$3000,$0060,$2000,$0fa0,$2000,$10c0,$0000,$1f40
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0d80,$0000,$1040,$0000,$0000
	DC.W	$0d80,$0000,$0d80,$0000,$0880,$0500,$1800,$0020
	DC.W	$3000,$0060,$2000,$0fa0,$2000,$1860,$0000,$17c0
	DC.W	$0000,$0000
	DC.L	0
AS4C	INCBIN	OWN/FOURMAZE/TWGFX/AS4C
AS4S	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$1980,$0000,$0000
	DC.W	$0000,$0000,$1680,$0000,$1080,$0900,$3000,$0040
	DC.W	$3000,$0060,$2000,$0f20,$2000,$18c0,$0000,$1f40
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0d80,$0000,$0000
	DC.W	$0000,$0000,$0d80,$0000,$0880,$0500,$1800,$0020
	DC.W	$2800,$0060,$2000,$07a0,$2000,$18e0,$0000,$17c0
	DC.W	$0000,$0000
	DC.L	0
AS5C	INCBIN	OWN/FOURMAZE/TWGFX/AS5C
AS5S	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$1980,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$1080,$0900,$3000,$0040
	DC.W	$3000,$0060,$2000,$0720,$2000,$1dc0,$0000,$1f40
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0d80,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0880,$0500,$1800,$0020
	DC.W	$3000,$0060,$2000,$0720,$2000,$1de0,$0000,$17c0
	DC.W	$0000,$0000
	DC.L	0
AS6C	INCBIN	OWN/FOURMAZE/TWGFX/AS6C
AS6S	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$1980,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$3000,$0040
	DC.W	$3000,$0060,$2000,$0620,$2000,$1fc0,$0000,$1f40
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0000,$0000,$0d80,$0000,$0000
	DC.W	$0000,$0000,$0000,$0000,$0000,$0000,$1800,$0020
	DC.W	$3000,$0060,$2000,$0320,$2000,$1fe0,$0000,$17c0
	DC.W	$0000,$0000
	DC.L	0

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
	EVEN
P1R1M	INCBIN	OWN/FOURMAZE/TWGFX/P1R1M

P1R1C	INCBIN	OWN/FOURMAZE/TWGFX/P1R1C
PLYR1RIGHT1
	DC.L	P1R1C
	DC.L	P1R1M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8470,$0000,$82f0
	DC.W	$0000,$83f0,$0000,$7fe0,$0000,$3fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8238,$0000,$83f8
	DC.W	$0000,$41f0,$0000,$7fe0,$0000,$3fe0,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0

PLYR1RIGHT1ENDE
P1R2M	INCBIN	OWN/FOURMAZE/TWGFX/P1R2M
P1R2C	INCBIN	OWN/FOURMAZE/TWGFX/P1R2C
PLYR1RIGHT2
	DC.L	P1R2C
	DC.L	P1R2M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8270,$0000,$82f0
	DC.W	$0000,$8370,$0000,$7f00,$0000,$3f80,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8338,$0000,$82f8
	DC.W	$0000,$4170,$0000,$7f80,$0000,$3e80,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR1RIGHT2ENDE
P1R3M	INCBIN	OWN/FOURMAZE/TWGFX/P1R3M
P1R3C	INCBIN	OWN/FOURMAZE/TWGFX/P1R3C
PLYR1RIGHT3
	DC.L	P1R3C
	DC.L	P1R3M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8270,$0000,$8470
	DC.W	$0000,$8200,$0000,$7e00,$0000,$3f00,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8338,$0000,$8278
	DC.W	$0000,$4200,$0000,$7f00,$0000,$3f80,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR1RIGHT3ENDE
P2R4M	INCBIN	OWN/FOURMAZE/TWGFX/P2R4M
P1R4C	INCBIN	OWN/FOURMAZE/TWGFX/P1R4C
PLYR1RIGHT4
	DC.L	P1R4C
	DC.L	P2R4M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8270,$0000,$84f0
	DC.W	$0000,$8200,$0000,$7f00,$0000,$3f80,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8338,$0000,$82f8
	DC.W	$0000,$4300,$0000,$7f00,$0000,$3f80,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR1RIGHT4ENDE

P1H1M
P1V1M
P1V2M
P1V3M
P1L1M	INCBIN	OWN/FOURMAZE/TWGFX/P1L1M
P1L1C	INCBIN	OWN/FOURMAZE/TWGFX/P1L1C
PLYR1LEFT1
	DC.L	P1L1C
	DC.L	P1L1M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8270,$0000,$84f0
	DC.W	$0000,$9bf0,$0000,$7fe0,$0000,$3fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8238,$0000,$86f8
	DC.W	$0000,$5df0,$0000,$7ff0,$0000,$3fe0,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR1LEFT1ENDE
P1L2M	INCBIN	OWN/FOURMAZE/TWGFX/P1L2M
P1L2C	INCBIN	OWN/FOURMAZE/TWGFX/P1L2C
PLYR1LEFT2
	DC.L	P1L2C
	DC.L	P1L2M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8470,$0000,$90f0
	DC.W	$0000,$ebf0,$0000,$0fe0,$0000,$1fe0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8638,$0000,$c878
	DC.W	$0000,$77f0,$0000,$0ff0,$0000,$0fe0,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR1LEFT2ENDE
P1L3M	INCBIN	OWN/FOURMAZE/TWGFX/P1L3M
P1L3C	INCBIN	OWN/FOURMAZE/TWGFX/P1L3C
PLYR1LEFT3
	DC.L	P1L3C
	DC.L	P1L3M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8470,$0000,$e0f0
	DC.W	$0000,$07f0,$0000,$07e0,$0000,$0fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8638,$0000,$f0f8
	DC.W	$0000,$03f0,$0000,$07f0,$0000,$0fe0,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR1LEFT3ENDE
P2L4M	INCBIN	OWN/FOURMAZE/TWGFX/P2L4M
P1L4C	INCBIN	OWN/FOURMAZE/TWGFX/P1L4C
PLYR1LEFT4
	DC.L	P1L4C
	DC.L	P2L4M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8470,$0000,$f2f0
	DC.W	$0000,$07f0,$0000,$0fe0,$0000,$1fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8638,$0000,$fbf8
	DC.W	$0000,$05f0,$0000,$07f0,$0000,$0fe0,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR1LEFT4ENDE

P1V2C	INCBIN	OWN/FOURMAZE/TWGFX/P1V2C
PLYR1DOWN1
	DC.L	P1V2C
	DC.L	P1V2M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$c050,$0000,$a0f0
	DC.W	$0000,$ab30,$0000,$6060,$0000,$3fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$a028,$0000,$90d8
	DC.W	$0000,$69b0,$0000,$7070,$0000,$3fe0,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR1DOWN1ENDE

P1V3C	INCBIN	OWN/FOURMAZE/TWGFX/P1V3C
PLYR1DOWN2
	DC.L	P1V3C
	DC.L	P1V3M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$c050,$0000,$a0d0
	DC.W	$0000,$8f30,$0000,$6060,$0000,$30c0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$a028,$0000,$90d8
	DC.W	$0000,$4fb0,$0000,$7030,$0000,$3860,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR1DOWN2ENDE
P1V4C	INCBIN	OWN/FOURMAZE/TWGFX/P1V4C
PLYR1DOWN3
	DC.L	P1V4C
	DC.L	P1V3M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$a050,$0000,$9b90
	DC.W	$0000,$8010,$0000,$4020,$0000,$2040,$0000,$0900
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$a068,$0000,$8f88
	DC.W	$0000,$4010,$0000,$4010,$0000,$3020,$0000,$0d80
	DC.W	$0000,$0000
	DC.L	0
PLYR1DOWN3ENDE

P1H1C	INCBIN	OWN/FOURMAZE/TWGFX/P1H1C
PLYR1UP1
	DC.L	P1H1C
	DC.L	P1H1M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8070,$0000,$80f0
	DC.W	$0000,$83f0,$0000,$6fe0,$0000,$3fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8038,$0000,$80f8
	DC.W	$0000,$41f0,$0000,$7ff0,$0000,$3fe0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0
PLYR1UP1ENDE
PLYR1UP2
	DC.L	P1H1C
	DC.L	P1H1M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8070,$0000,$80f0
	DC.W	$0000,$83f0,$0000,$6fe0,$0000,$3fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8038,$0000,$80f8
	DC.W	$0000,$41f0,$0000,$7ff0,$0000,$3fe0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0
PLYR1UP2ENDE
P1H2C	INCBIN	OWN/FOURMAZE/TWGFX/P1H2C
PLYR1UP3
	DC.L	P1H2C
	DC.L	P1H1M

	DC.L	0
	DC.W	$0000,$1f00,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8070,$0000,$80f0
	DC.W	$0000,$83f0,$0000,$6fe0,$0000,$3fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8038,$0000,$8078
	DC.W	$0000,$43f0,$0000,$6ff0,$0000,$3fe0,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR1UP3ENDE

P1V1C	INCBIN	OWN/FOURMAZE/TWGFX/P1V1C
PLYR1QUIET1
	DC.L	P1V1C
	DC.L	P1V1M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$c050,$0000,$e0f0
	DC.W	$0000,$ab70,$0000,$70e0,$0000,$3fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$a028,$0000,$b0d8
	DC.W	$0000,$69b0,$0000,$78f0,$0000,$3fe0,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR1QUIET1ENDE
PSMASK	INCBIN	OWN/FOURMAZE/TWGFX/PSMASK

P1S	INCBIN	OWN/FOURMAZE/TWGFX/P1S
PLYR1STUNNED
PLYR1ANIM1
	DC.L	P1S
	DC.L	PSMASK

	DC.L	0
	DC.W	$0000,$0000,$0000,$0f00,$0000,$20c0,$0000,$4060
	DC.W	$0000,$4020,$0000,$4060,$0000,$4060,$0000,$41e0
	DC.W	$0000,$43e0,$0000,$3fc0,$0000,$0f00,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0f80,$0000,$10c0,$0000,$2020
	DC.W	$0000,$4030,$0000,$4030,$0000,$4070,$0000,$40f0
	DC.W	$0000,$23e0,$0000,$1fc0,$0000,$0f80,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0
PLYR1ANIM1ENDE

	EVEN
P3R1C	INCBIN	OWN/FOURMAZE/TWGFX/P3R1C
PLYR2RIGHT1
	DC.L	P3R1C
	DC.L	P1R1M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8470,$0000,$82f0
	DC.W	$0000,$83f0,$0000,$7fe0,$0000,$3fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8238,$0000,$83f8
	DC.W	$0000,$41f0,$0000,$7fe0,$0000,$3fe0,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0

PLYR2RIGHT1ENDE
P3R2C	INCBIN	OWN/FOURMAZE/TWGFX/P3R2C
PLYR2RIGHT2
	DC.L	P3R2C
	DC.L	P1R2M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8270,$0000,$82f0
	DC.W	$0000,$8370,$0000,$7f00,$0000,$3f80,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8338,$0000,$82f8
	DC.W	$0000,$4170,$0000,$7f80,$0000,$3e80,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR2RIGHT2ENDE
P3R3C	INCBIN	OWN/FOURMAZE/TWGFX/P3R3C
PLYR2RIGHT3
	DC.L	P3R3C
	DC.L	P1R3M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8270,$0000,$8470
	DC.W	$0000,$8200,$0000,$7e00,$0000,$3f00,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8338,$0000,$8278
	DC.W	$0000,$4200,$0000,$7f00,$0000,$3f80,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR2RIGHT3ENDE
P3R4C	INCBIN	OWN/FOURMAZE/TWGFX/P3R4C
PLYR2RIGHT4
	DC.L	P3R4C
	DC.L	P2R4M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8270,$0000,$84f0
	DC.W	$0000,$8200,$0000,$7f00,$0000,$3f80,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8338,$0000,$82f8
	DC.W	$0000,$4300,$0000,$7f00,$0000,$3f80,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR2RIGHT4ENDE

P3L1C	INCBIN	OWN/FOURMAZE/TWGFX/P3L1C
PLYR2LEFT1
	DC.L	P3L1C
	DC.L	P1L1M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8270,$0000,$84f0
	DC.W	$0000,$9bf0,$0000,$7fe0,$0000,$3fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8238,$0000,$86f8
	DC.W	$0000,$5df0,$0000,$7ff0,$0000,$3fe0,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR2LEFT1ENDE
P3L2C	INCBIN	OWN/FOURMAZE/TWGFX/P3L2C
PLYR2LEFT2
	DC.L	P3L2C
	DC.L	P1L2M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8470,$0000,$90f0
	DC.W	$0000,$ebf0,$0000,$0fe0,$0000,$1fe0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8638,$0000,$c878
	DC.W	$0000,$77f0,$0000,$0ff0,$0000,$0fe0,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR2LEFT2ENDE
P3L3C	INCBIN	OWN/FOURMAZE/TWGFX/P3L3C
PLYR2LEFT3
	DC.L	P3L3C
	DC.L	P1L3M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8470,$0000,$e0f0
	DC.W	$0000,$07f0,$0000,$07e0,$0000,$0fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8638,$0000,$f0f8
	DC.W	$0000,$03f0,$0000,$07f0,$0000,$0fe0,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR2LEFT3ENDE
P3L4C	INCBIN	OWN/FOURMAZE/TWGFX/P3L4C
PLYR2LEFT4
	DC.L	P3L4C
	DC.L	P2L4M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8470,$0000,$f2f0
	DC.W	$0000,$07f0,$0000,$0fe0,$0000,$1fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8638,$0000,$fbf8
	DC.W	$0000,$05f0,$0000,$07f0,$0000,$0fe0,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR2LEFT4ENDE

P3V2C	INCBIN	OWN/FOURMAZE/TWGFX/P3V2C
PLYR2DOWN1
	DC.L	P3V2C
	DC.L	P1V2M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$c050,$0000,$a0f0
	DC.W	$0000,$ab30,$0000,$6060,$0000,$3fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$a028,$0000,$90d8
	DC.W	$0000,$69b0,$0000,$7070,$0000,$3fe0,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR2DOWN1ENDE
P3V3C	INCBIN	OWN/FOURMAZE/TWGFX/P3V3C
PLYR2DOWN2
	DC.L	P3V3C
	DC.L	P1V3M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$c050,$0000,$a0d0
	DC.W	$0000,$8f30,$0000,$6060,$0000,$30c0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$a028,$0000,$90d8
	DC.W	$0000,$4fb0,$0000,$7030,$0000,$3860,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR2DOWN2ENDE
P3V4C	INCBIN	OWN/FOURMAZE/TWGFX/P3V4C
PLYR2DOWN3
	DC.L	P3V4C
	DC.L	P1V3M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$a050,$0000,$9b90
	DC.W	$0000,$8010,$0000,$4020,$0000,$2040,$0000,$0900
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$a068,$0000,$8f88
	DC.W	$0000,$4010,$0000,$4010,$0000,$3020,$0000,$0d80
	DC.W	$0000,$0000
	DC.L	0
PLYR2DOWN3ENDE

P3H1C	INCBIN	OWN/FOURMAZE/TWGFX/P3H1C
PLYR2UP1
	DC.L	P3H1C
	DC.L	P1H1M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8070,$0000,$80f0
	DC.W	$0000,$83f0,$0000,$6fe0,$0000,$3fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8038,$0000,$80f8
	DC.W	$0000,$41f0,$0000,$7ff0,$0000,$3fe0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0
PLYR2UP1ENDE
PLYR2UP2
	DC.L	P3H1C
	DC.L	P1H1M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8070,$0000,$80f0
	DC.W	$0000,$83f0,$0000,$6fe0,$0000,$3fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8038,$0000,$80f8
	DC.W	$0000,$41f0,$0000,$7ff0,$0000,$3fe0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0
PLYR2UP2ENDE
P3H2C	INCBIN	OWN/FOURMAZE/TWGFX/P3H2C
PLYR2UP3
	DC.L	P3H2C
	DC.L	P1H1M

	DC.L	0
	DC.W	$0000,$1f00,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8070,$0000,$80f0
	DC.W	$0000,$83f0,$0000,$6fe0,$0000,$3fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8038,$0000,$8078
	DC.W	$0000,$43f0,$0000,$6ff0,$0000,$3fe0,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR2UP3ENDE

P3V1C	INCBIN	OWN/FOURMAZE/TWGFX/P3V1C
PLYR2QUIET1
	DC.L	P3V1C
	DC.L	P1V1M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$c050,$0000,$e0f0
	DC.W	$0000,$ab70,$0000,$70e0,$0000,$3fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$a028,$0000,$b0d8
	DC.W	$0000,$69b0,$0000,$78f0,$0000,$3fe0,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR2QUIET1ENDE

P3S	INCBIN	OWN/FOURMAZE/TWGFX/P3S
PLYR2STUNNED
PLYR2ANIM1
	DC.L	P3S
	DC.L	PSMASK

	DC.L	0
	DC.W	$0000,$0000,$0000,$0f00,$0000,$20c0,$0000,$4060
	DC.W	$0000,$4020,$0000,$4060,$0000,$4060,$0000,$41e0
	DC.W	$0000,$43e0,$0000,$3fc0,$0000,$0f00,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0f80,$0000,$10c0,$0000,$2020
	DC.W	$0000,$4030,$0000,$4030,$0000,$4070,$0000,$40f0
	DC.W	$0000,$23e0,$0000,$1fc0,$0000,$0f80,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0
PLYR2ANIM1ENDE

	EVEN
P2R1C	INCBIN	OWN/FOURMAZE/TWGFX/PL2R1C
PLYR3RIGHT1
	DC.L	P2R1C
	DC.L	P1R1M

	DC.L	0
	DC.W	$1f80,$1f80,$20c0,$20c0,$4020,$4020,$8010,$8010
	DC.W	$8030,$8030,$8030,$8030,$8470,$8470,$82f0,$82f0
	DC.W	$83f0,$83f0,$7fe0,$7fe0,$3fc0,$3fc0,$0f00,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0f80,$0f80,$2060,$2060,$4010,$4010,$4010,$4010
	DC.W	$8018,$8018,$8038,$8038,$8238,$8238,$83f8,$83f8
	DC.W	$41f0,$41f0,$7fe0,$7fe0,$3fe0,$3fe0,$0f80,$0f80
	DC.W	$0000,$0000
	DC.L	0

PLYR3RIGHT1ENDE
P2R2C	INCBIN	OWN/FOURMAZE/TWGFX/PL2R2C
PLYR3RIGHT2
	DC.L	P2R2C
	DC.L	P1R2M

	DC.L	0
	DC.W	$1f80,$1f80,$20c0,$20c0,$4020,$4020,$8010,$8010
	DC.W	$8030,$8030,$8030,$8030,$8270,$8270,$82f0,$82f0
	DC.W	$8370,$8370,$7f00,$7f00,$3f80,$3f80,$0f00,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0f80,$0f80,$2060,$2060,$4010,$4010,$4010,$4010
	DC.W	$8018,$8018,$8038,$8038,$8338,$8338,$82f8,$82f8
	DC.W	$4170,$4170,$7f80,$7f80,$3e80,$3e80,$0f80,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR3RIGHT2ENDE
P2R3C	INCBIN	OWN/FOURMAZE/TWGFX/PL2R3C
PLYR3RIGHT3
	DC.L	P2R3C
	DC.L	P1R3M

	DC.L	0
	DC.W	$1f80,$1f80,$20c0,$20c0,$4020,$4020,$8010,$8010
	DC.W	$8030,$8030,$8030,$8030,$8270,$8270,$8470,$8470
	DC.W	$8200,$8200,$7e00,$7e00,$3f00,$3f00,$0f00,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0f80,$0f80,$2060,$2060,$4010,$4010,$4010,$4010
	DC.W	$8018,$8018,$8038,$8038,$8338,$8338,$8278,$8278
	DC.W	$4200,$4200,$7f00,$7f00,$3f80,$3f80,$0f80,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR3RIGHT3ENDE
P2R4C	INCBIN	OWN/FOURMAZE/TWGFX/PL2R4C
PLYR3RIGHT4
	DC.L	P2R4C
	DC.L	P2R4M

	DC.L	0
	DC.W	$1f80,$1f80,$20c0,$20c0,$4020,$4020,$8010,$8010
	DC.W	$8030,$8030,$8030,$8030,$8270,$8270,$84f0,$84f0
	DC.W	$8200,$8200,$7f00,$7f00,$3f80,$3f80,$0f00,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0f80,$0f80,$2060,$2060,$4010,$4010,$4010,$4010
	DC.W	$8018,$8018,$8038,$8038,$8338,$8338,$82f8,$82f8
	DC.W	$4300,$4300,$7f00,$7f00,$3f80,$3f80,$0f80,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR3RIGHT4ENDE

P2L1C	INCBIN	OWN/FOURMAZE/TWGFX/PL2L1C
PLYR3LEFT1
	DC.L	P2L1C
	DC.L	P1L1M

	DC.L	0
	DC.W	$1f80,$1f80,$20c0,$20c0,$4020,$4020,$8010,$8010
	DC.W	$8030,$8030,$8030,$8030,$8270,$8270,$84f0,$84f0
	DC.W	$9bf0,$9bf0,$7fe0,$7fe0,$3fc0,$3fc0,$0f00,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0f80,$0f80,$2060,$2060,$4010,$4010,$4010,$4010
	DC.W	$8018,$8018,$8038,$8038,$8238,$8238,$86f8,$86f8
	DC.W	$5df0,$5df0,$7ff0,$7ff0,$3fe0,$3fe0,$0f80,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR3LEFT1ENDE
P2L2C	INCBIN	OWN/FOURMAZE/TWGFX/PL2L2C
PLYR3LEFT2
	DC.L	P2L2C
	DC.L	P1L2M

	DC.L	0
	DC.W	$1f80,$1f80,$20c0,$20c0,$4020,$4020,$8010,$8010
	DC.W	$8030,$8030,$8030,$8030,$8470,$8470,$90f0,$90f0
	DC.W	$ebf0,$ebf0,$0fe0,$0fe0,$1fe0,$1fe0,$0f00,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0f80,$0f80,$2060,$2060,$4010,$4010,$4010,$4010
	DC.W	$8018,$8018,$8038,$8038,$8638,$8638,$c878,$c878
	DC.W	$77f0,$77f0,$0ff0,$0ff0,$0fe0,$0fe0,$0f80,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR3LEFT2ENDE
P2L3C	INCBIN	OWN/FOURMAZE/TWGFX/PL2L3C
PLYR3LEFT3
	DC.L	P2L3C
	DC.L	P1L3M

	DC.L	0
	DC.W	$1f80,$1f80,$20c0,$20c0,$4020,$4020,$8010,$8010
	DC.W	$8030,$8030,$8030,$8030,$8470,$8470,$e0f0,$e0f0
	DC.W	$07f0,$07f0,$07e0,$07e0,$0fc0,$0fc0,$0f00,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0f80,$0f80,$2060,$2060,$4010,$4010,$4010,$4010
	DC.W	$8018,$8018,$8038,$8038,$8638,$8638,$f0f8,$f0f8
	DC.W	$03f0,$03f0,$07f0,$07f0,$0fe0,$0fe0,$0f80,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR3LEFT3ENDE
P2L4C	INCBIN	OWN/FOURMAZE/TWGFX/PL2L4C
PLYR3LEFT4
	DC.L	P2L4C
	DC.L	P2L4M

	DC.L	0
	DC.W	$1f80,$1f80,$20c0,$20c0,$4020,$4020,$8010,$8010
	DC.W	$8030,$8030,$8030,$8030,$8470,$8470,$f2f0,$f2f0
	DC.W	$07f0,$07f0,$0fe0,$0fe0,$1fc0,$1fc0,$0f00,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0f80,$0f80,$2060,$2060,$4010,$4010,$4010,$4010
	DC.W	$8018,$8018,$8038,$8038,$8638,$8638,$fbf8,$fbf8
	DC.W	$05f0,$05f0,$07f0,$07f0,$0fe0,$0fe0,$0f80,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR3LEFT4ENDE

P2V2C	INCBIN	OWN/FOURMAZE/TWGFX/PL2V2C
PLYR3DOWN1
	DC.L	P2V2C
	DC.L	P1V2M

	DC.L	0
	DC.W	$1f80,$1f80,$20c0,$20c0,$4020,$4020,$8010,$8010
	DC.W	$8030,$8030,$8030,$8030,$c050,$c050,$a0f0,$a0f0
	DC.W	$ab30,$ab30,$6060,$6060,$3fc0,$3fc0,$0f00,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0f80,$0f80,$2060,$2060,$4010,$4010,$4010,$4010
	DC.W	$8018,$8018,$8038,$8038,$a028,$a028,$90d8,$90d8
	DC.W	$69b0,$69b0,$7070,$7070,$3fe0,$3fe0,$0f80,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR3DOWN1ENDE
P2V3C	INCBIN	OWN/FOURMAZE/TWGFX/PL2V3C
PLYR3DOWN2
	DC.L	P2V3C
	DC.L	P1V3M

	DC.L	0
	DC.W	$1f80,$1f80,$20c0,$20c0,$4020,$4020,$8010,$8010
	DC.W	$8030,$8030,$8030,$8030,$c050,$c050,$a0d0,$a0d0
	DC.W	$8f30,$8f30,$6060,$6060,$30c0,$30c0,$0f00,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0f80,$0f80,$2060,$2060,$4010,$4010,$4010,$4010
	DC.W	$8018,$8018,$8038,$8038,$a028,$a028,$90d8,$90d8
	DC.W	$4fb0,$4fb0,$7030,$7030,$3860,$3860,$0f80,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR3DOWN2ENDE
P2V4C	INCBIN	OWN/FOURMAZE/TWGFX/PL2V4C
PLYR3DOWN3
	DC.L	P2V4C
	DC.L	P1V3M

	DC.L	0
	DC.W	$1f80,$1f80,$20c0,$20c0,$4020,$4020,$8010,$8010
	DC.W	$8030,$8030,$8030,$8030,$a050,$a050,$9b90,$9b90
	DC.W	$8010,$8010,$4020,$4020,$2040,$2040,$0900,$0900
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0f80,$0f80,$2060,$2060,$4010,$4010,$4010,$4010
	DC.W	$8018,$8018,$8038,$8038,$a068,$a068,$8f88,$8f88
	DC.W	$4010,$4010,$4010,$4010,$3020,$3020,$0d80,$0d80
	DC.W	$0000,$0000
	DC.L	0
PLYR3DOWN3ENDE

P2H1C	INCBIN	OWN/FOURMAZE/TWGFX/PL2H1C
PLYR3UP1
	DC.L	P2H1C
	DC.L	P1H1M

	DC.L	0
	DC.W	$1f80,$1f80,$20c0,$20c0,$4020,$4020,$8010,$8010
	DC.W	$8030,$8030,$8030,$8030,$8070,$8070,$80f0,$80f0
	DC.W	$83f0,$83f0,$6fe0,$6fe0,$3fc0,$3fc0,$0f00,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0f80,$0f80,$2060,$2060,$4010,$4010,$4010,$4010
	DC.W	$8018,$8018,$8038,$8038,$8038,$8038,$80f8,$80f8
	DC.W	$41f0,$41f0,$7ff0,$7ff0,$3fe0,$3fe0,$0f00,$0f00
	DC.W	$0000,$0000
	DC.L	0
PLYR3UP1ENDE
PLYR3UP2
	DC.L	P2H1C
	DC.L	P1H1M

	DC.L	0
	DC.W	$1f80,$1f80,$20c0,$20c0,$4020,$4020,$8010,$8010
	DC.W	$8030,$8030,$8030,$8030,$8070,$8070,$80f0,$80f0
	DC.W	$83f0,$83f0,$6fe0,$6fe0,$3fc0,$3fc0,$0f00,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0f80,$0f80,$2060,$2060,$4010,$4010,$4010,$4010
	DC.W	$8018,$8018,$8038,$8038,$8038,$8038,$80f8,$80f8
	DC.W	$41f0,$41f0,$7ff0,$7ff0,$3fe0,$3fe0,$0f00,$0f00
	DC.W	$0000,$0000
	DC.L	0
PLYR3UP2ENDE
P2H2C	INCBIN	OWN/FOURMAZE/TWGFX/PL2H2C
PLYR3UP3
	DC.L	P2H2C
	DC.L	P1H1M

	DC.L	0
	DC.W	$1f00,$1f00,$20c0,$20c0,$4020,$4020,$8010,$8010
	DC.W	$8030,$8030,$8030,$8030,$8070,$8070,$80f0,$80f0
	DC.W	$83f0,$83f0,$6fe0,$6fe0,$3fc0,$3fc0,$0f00,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0f80,$0f80,$2060,$2060,$4010,$4010,$4010,$4010
	DC.W	$8018,$8018,$8038,$8038,$8038,$8038,$8078,$8078
	DC.W	$43f0,$43f0,$6ff0,$6ff0,$3fe0,$3fe0,$0f80,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR3UP3ENDE

P2V1C	INCBIN	OWN/FOURMAZE/TWGFX/PL2V1C
PLYR3QUIET1
	DC.L	P2V1C
	DC.L	P1V1M

	DC.L	0
	DC.W	$1f80,$1f80,$20c0,$20c0,$4020,$4020,$8010,$8010
	DC.W	$8030,$8030,$8030,$8030,$c050,$c050,$e0f0,$e0f0
	DC.W	$ab70,$ab70,$70e0,$70e0,$3fc0,$3fc0,$0f00,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0f80,$0f80,$2060,$2060,$4010,$4010,$4010,$4010
	DC.W	$8018,$8018,$8038,$8038,$a028,$a028,$b0d8,$b0d8
	DC.W	$69b0,$69b0,$78f0,$78f0,$3fe0,$3fe0,$0f80,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR3QUIET1ENDE

P2S	INCBIN	OWN/FOURMAZE/TWGFX/P2S
PLYR3STUNNED
PLYR3ANIM1
	DC.L	P2S
	DC.L	PSMASK

	DC.L	0
	DC.W	$0000,$0000,$0f00,$0f00,$20c0,$20c0,$4060,$4060
	DC.W	$4020,$4020,$4060,$4060,$4060,$4060,$41e0,$41e0
	DC.W	$43e0,$43e0,$3fc0,$3fc0,$0f00,$0f00,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0f80,$0f80,$10c0,$10c0,$2020,$2020
	DC.W	$4030,$4030,$4030,$4030,$4070,$4070,$40f0,$40f0
	DC.W	$23e0,$23e0,$1fc0,$1fc0,$0f80,$0f80,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0
PLYR3ANIM1ENDE

	EVEN
P4R1C	INCBIN	OWN/FOURMAZE/TWGFX/P4R1C
PLYR4RIGHT1
	DC.L	P4R1C
	DC.L	P1R1M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8470,$0000,$82f0
	DC.W	$0000,$83f0,$0000,$7fe0,$0000,$3fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8238,$0000,$83f8
	DC.W	$0000,$41f0,$0000,$7fe0,$0000,$3fe0,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0

PLYR4RIGHT1ENDE
P4R2C	INCBIN	OWN/FOURMAZE/TWGFX/P4R2C
PLYR4RIGHT2
	DC.L	P4R2C
	DC.L	P1R2M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8270,$0000,$82f0
	DC.W	$0000,$8370,$0000,$7f00,$0000,$3f80,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8338,$0000,$82f8
	DC.W	$0000,$4170,$0000,$7f80,$0000,$3e80,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR4RIGHT2ENDE
P4R3C	INCBIN	OWN/FOURMAZE/TWGFX/P4R3C
PLYR4RIGHT3
	DC.L	P4R3C
	DC.L	P1R3M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8270,$0000,$8470
	DC.W	$0000,$8200,$0000,$7e00,$0000,$3f00,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8338,$0000,$8278
	DC.W	$0000,$4200,$0000,$7f00,$0000,$3f80,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR4RIGHT3ENDE
P4R4C	INCBIN	OWN/FOURMAZE/TWGFX/P4R4C
PLYR4RIGHT4
	DC.L	P4R4C
	DC.L	P2R4M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8270,$0000,$84f0
	DC.W	$0000,$8200,$0000,$7f00,$0000,$3f80,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8338,$0000,$82f8
	DC.W	$0000,$4300,$0000,$7f00,$0000,$3f80,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR4RIGHT4ENDE

P4L1C	INCBIN	OWN/FOURMAZE/TWGFX/P4L1C
PLYR4LEFT1
	DC.L	P4L1C
	DC.L	P1L1M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8270,$0000,$84f0
	DC.W	$0000,$9bf0,$0000,$7fe0,$0000,$3fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8238,$0000,$86f8
	DC.W	$0000,$5df0,$0000,$7ff0,$0000,$3fe0,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR4LEFT1ENDE
P4L2C	INCBIN	OWN/FOURMAZE/TWGFX/P4L2C
PLYR4LEFT2
	DC.L	P4L2C
	DC.L	P1L2M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8470,$0000,$90f0
	DC.W	$0000,$ebf0,$0000,$0fe0,$0000,$1fe0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8638,$0000,$c878
	DC.W	$0000,$77f0,$0000,$0ff0,$0000,$0fe0,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR4LEFT2ENDE
P4L3C	INCBIN	OWN/FOURMAZE/TWGFX/P4L3C
PLYR4LEFT3
	DC.L	P4L3C
	DC.L	P1L3M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8470,$0000,$e0f0
	DC.W	$0000,$07f0,$0000,$07e0,$0000,$0fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8638,$0000,$f0f8
	DC.W	$0000,$03f0,$0000,$07f0,$0000,$0fe0,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR4LEFT3ENDE
P4L4C	INCBIN	OWN/FOURMAZE/TWGFX/P4L4C
PLYR4LEFT4
	DC.L	P4L4C
	DC.L	P2L4M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8470,$0000,$f2f0
	DC.W	$0000,$07f0,$0000,$0fe0,$0000,$1fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8638,$0000,$fbf8
	DC.W	$0000,$05f0,$0000,$07f0,$0000,$0fe0,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR4LEFT4ENDE

P4V2C	INCBIN	OWN/FOURMAZE/TWGFX/P4V2C
PLYR4DOWN1
	DC.L	P4V2C
	DC.L	P1V2M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$c050,$0000,$a0f0
	DC.W	$0000,$ab30,$0000,$6060,$0000,$3fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$a028,$0000,$90d8
	DC.W	$0000,$69b0,$0000,$7070,$0000,$3fe0,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR4DOWN1ENDE
P4V3C	INCBIN	OWN/FOURMAZE/TWGFX/P4V3C
PLYR4DOWN2
	DC.L	P4V3C
	DC.L	P1V3M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$c050,$0000,$a0d0
	DC.W	$0000,$8f30,$0000,$6060,$0000,$30c0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$a028,$0000,$90d8
	DC.W	$0000,$4fb0,$0000,$7030,$0000,$3860,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR4DOWN2ENDE
P4V4C	INCBIN	OWN/FOURMAZE/TWGFX/P4V4C
PLYR4DOWN3
	DC.L	P4V4C
	DC.L	P1V3M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$a050,$0000,$9b90
	DC.W	$0000,$8010,$0000,$4020,$0000,$2040,$0000,$0900
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$a068,$0000,$8f88
	DC.W	$0000,$4010,$0000,$4010,$0000,$3020,$0000,$0d80
	DC.W	$0000,$0000
	DC.L	0
PLYR4DOWN3ENDE

P4H1C	INCBIN	OWN/FOURMAZE/TWGFX/P4H1C
PLYR4UP1
	DC.L	P4H1C
	DC.L	P1H1M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8070,$0000,$80f0
	DC.W	$0000,$83f0,$0000,$6fe0,$0000,$3fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8038,$0000,$80f8
	DC.W	$0000,$41f0,$0000,$7ff0,$0000,$3fe0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0
PLYR4UP1ENDE
PLYR4UP2
	DC.L	P4H1C
	DC.L	P1H1M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8070,$0000,$80f0
	DC.W	$0000,$83f0,$0000,$6fe0,$0000,$3fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8038,$0000,$80f8
	DC.W	$0000,$41f0,$0000,$7ff0,$0000,$3fe0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0
PLYR4UP2ENDE
P4H2C	INCBIN	OWN/FOURMAZE/TWGFX/P4H2C
PLYR4UP3
	DC.L	P4H2C
	DC.L	P1H1M

	DC.L	0
	DC.W	$0000,$1f00,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$8070,$0000,$80f0
	DC.W	$0000,$83f0,$0000,$6fe0,$0000,$3fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$8038,$0000,$8078
	DC.W	$0000,$43f0,$0000,$6ff0,$0000,$3fe0,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR4UP3ENDE

P4V1C	INCBIN	OWN/FOURMAZE/TWGFX/P4V1C
PLYR4QUIET1
	DC.L	P4V1C
	DC.L	P1V1M

	DC.L	0
	DC.W	$0000,$1f80,$0000,$20c0,$0000,$4020,$0000,$8010
	DC.W	$0000,$8030,$0000,$8030,$0000,$c050,$0000,$e0f0
	DC.W	$0000,$ab70,$0000,$70e0,$0000,$3fc0,$0000,$0f00
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0f80,$0000,$2060,$0000,$4010,$0000,$4010
	DC.W	$0000,$8018,$0000,$8038,$0000,$a028,$0000,$b0d8
	DC.W	$0000,$69b0,$0000,$78f0,$0000,$3fe0,$0000,$0f80
	DC.W	$0000,$0000
	DC.L	0
PLYR4QUIET1ENDE

P4S	INCBIN	OWN/FOURMAZE/TWGFX/P4S
PLYR4STUNNED
PLYR4ANIM1
	DC.L	P4S
	DC.L	PSMASK

	DC.L	0
	DC.W	$0000,$0000,$0000,$0f00,$0000,$20c0,$0000,$4060
	DC.W	$0000,$4020,$0000,$4060,$0000,$4060,$0000,$41e0
	DC.W	$0000,$43e0,$0000,$3fc0,$0000,$0f00,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0

	DC.L	0
	DC.W	$0000,$0000,$0000,$0f80,$0000,$10c0,$0000,$2020
	DC.W	$0000,$4030,$0000,$4030,$0000,$4070,$0000,$40f0
	DC.W	$0000,$23e0,$0000,$1fc0,$0000,$0f80,$0000,$0000
	DC.W	$0000,$0000
	DC.L	0
PLYR4ANIM1ENDE


INGAMELOGO
	INCBIN	OWN/FOURMAZE/TWGFX/INGAMELOGORAW

LOGONUMBERS
	INCBIN	OWN/FOURMAZE/TWGFX/LOGONUMBERSCON

LOGONUMMASK
	DC.L	$FFFE0000,$FFFE0000,$FFFE0000
	DC.L	$FFFE0000,$FFFE0000,$FFFE0000
	DC.L	$FFFE0000,$FFFE0000,$FFFE0000
	DC.L	$FFFE0000,$FFFE0000,$FFFE0000
	DC.L	$FFFE0000,$FFFE0000,$FFFE0000
	DC.L	$FFFE0000,$FFFE0000,$FFFE0000
;	DC.L	$FFFE0000,$FFFE0000,$FFFE0000
;	DC.L	$FFFE0000,$FFFE0000,$FFFE0000

;	INCBIN	OWN/FOURMAZE/TWGFX/LOGONUMBERSMASK

SCOREODD	DC.L	0,0,0,0,0,-1,-1,-1,-1,-1
	DC.L	0,0,0,0,0,-1,-1,-1,-1,-1

SCOREODD2	DC.L	0,0,0,0,0,0,0,0,0,0
	DC.L	-1,-1,-1,-1,-1,-1,-1,-1,-1,-1

FREEZEPLYR
DOUBLESPEED	EQU	*+200
X2JOIST		EQU	*+400
STUNJOIST	EQU	*+600
VANISHEDMONSTERS	EQU	*+800
	INCBIN	OWN/FOURMAZE/TWGFX/TWJOISTS
;	DC.L	$FFFFFFF,-1,-1,-1,$FFFFFFF0
;	DC.L	$FFFFFFF,-1,-1,-1,$FFFFFFF0
;	DC.L	$FFFFFFF,-1,-1,-1,$FFFFFFF0
;	DC.L	$FFFFFFF,-1,-1,-1,$FFFFFFF0
;	DC.L	$FFFFFFF,-1,-1,-1,$FFFFFFF0
;	DC.L	$FFFFFFF,-1,-1,-1,$FFFFFFF0
;	DC.L	$FFFFFFF,-1,-1,-1,$FFFFFFF0
;	DC.L	$FFFFFFF,-1,-1,-1,$FFFFFFF0
;	DC.L	$FFFFFFF,-1,-1,-1,$FFFFFFF0
;	DC.L	$FFFFFFF,-1,-1,-1,$FFFFFFF0

	IFEQ	FINAL
D6SAVE	DC.L	0
	ENDC

EOPART2

;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


	IFEQ	FINAL
	SECTION	FOURMAZE2,BSS_C
;	ORG	$60000
	ENDC

	IFNE	FINAL
	SECTION	FOURMAZE2,BSS_C
	ENDC

BOPART3

SCREEN1	DS.B	($F2-$2A)*SCRWIDTH*4
SCREEN1ENDE

SCREEN2	DS.B	($F2-$2A)*SCRWIDTH*4
SCREEN2ENDE

SCREEN3	DS.B	($F2-$2A)*SCRWIDTH*4
SCREEN3ENDE

SCREEN4	DS.B	($F2-$2A)*SCRWIDTH*4
SCREEN4ENDE

SCOREEVEN	DS.B	SCRWIDTH*2*$A

LIVESEVEN	DS.B	SCRWIDTH*2*8

DISPLAYBALKEN	DS.B	SCRWIDTH*2*5
DISPLAYENDE
MODSPACE	ds.b	180000
EOPART3	;BOPART3+$3f660

sc1s:	equ	SCREEN1
stpl1:	equ	SCREEN1
	;ds.b	$40*200			;breite*zeilen
stpl2:	equ	$40*200+SCREEN1
	;ds.b	$40*200			;breite*zeilen
stpl3:	equ	$40*200+stpl2
	;ds.b	$40*200			;breite*zeilen

sc1e	equ	$40*200+stpl3
sc2s:	equ	sc1e
	;ds.b	sc1e-sc1s
sc3s:	equ	sc1e-sc1s+sc2s
	;ds.b	sc1e-sc1s

stht1:	equ	sc1e-sc1s+sc3s
	;ds.b	$40*200
stht2:	equ	$40*200+stht1
	;ds.b	$40*200
stht3:	equ	$40*200+stht2
;	ds.b	$40*200			;reserve for test only


;	ENDB	A4

