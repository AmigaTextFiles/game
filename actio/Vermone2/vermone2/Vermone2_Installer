; VERMONE 2 Installer script
; $VER VERMONE 2 Install 1.0
; written by HIT MAN



(set #vermone2-location
(cat "WARNING!\nIf you have an old version of VERMONE 2, delete it "
  "before to install this version\nNote! This game, WITHOUT the Custom SFX "
  "can be installed even on a single disk"
  "\nWhich Drive Did You Install To"
))

(set #icone-install
(cat "\nDo you have installed MagicWB?"
))

(set #custom-install
(cat "\n Do you want install the Custom SFX?"
))



(set @new-dest
(askdir
(prompt #vermone2-location)
(help @askdir-help)
(default "SYS:")))

(makeassign "assigns" @new-dest)
(if (exists "assigns:Vermone2") (
  (message "Directory already exists!!!")
  (exit (quiet)))
)


(makedir "assigns:Vermone2")
(makedir "assigns:Vermone2/Docs")
(makedir "assigns:Vermone2/GFX")
(makedir "assigns:Vermone2/LEGFX")
(makedir "assigns:Vermone2/CustomLevels")
(makedir "assigns:Vermone2/CustomSFX")
(makedir "assigns:Vermone2/OriginalLevels")
(makedir "assigns:Vermone2/OriginalSFX")
(makedir "assigns:Vermone2/Music")


; Hai il MagicWB installato?
(
  (set hardy
    (askbool
      (prompt #icone-install)
      (help #help-askbool)
    )
  )

  (if (= hardy 1)
    (
      (copyfiles
      (source "Icons")
      (dest "assigns:Vermone2")
      (all))
    )
;else
    (
      (copyfiles
      (source "LevelEditor.info")
      (dest "assigns:Vermone2"))
      (copyfiles
      (source "Vermone2.info")
      (dest "assigns:Vermone2"))
    )

  )
)


; Installo i Custom SFX
(
  (set hardy
    (askbool
      (prompt #custom-install)
      (help #help-askbool)
    )
  )

  (if (= hardy 1)
    (
      (copyfiles
      (source "CustomSFX")
      (dest "assigns:Vermone2/CustomSFX")
      (all))
    )
  )
)


(copyfiles
(source "GFX/Dest.icon")
(dest "assigns:"))
(rename "assigns:Dest.icon" "assigns:Vermone2.info")

(copyfiles
(source "Docs.info")
(dest "assigns:Vermone2"))

(copyfiles
(source "LevelEditor.exe")
(dest "assigns:Vermone2"))

(copyfiles
(source "Vermone2.exe")
(dest "assigns:Vermone2"))

(copyfiles
(source "LevelEditor")
(dest "assigns:Vermone2"))

(copyfiles
(source "Vermone2")
(dest "assigns:Vermone2"))

(copyfiles
(source "HighScore.V2")
(dest "assigns:Vermone2"))

(copyfiles
(source "Docs")
(dest "assigns:Vermone2/Docs")
(all))

(copyfiles
(source "GFX")
(dest "assigns:Vermone2/GFX")
(all))

(copyfiles
(source "LEGFX")
(dest "assigns:Vermone2/LEGFX")
(all))

(copyfiles
(source "CustomLevels")
(dest "assigns:Vermone2/CustomLevels")
(all))

(copyfiles
(source "OriginalLevels")
(dest "assigns:Vermone2/OriginalLevels")
(all))

(copyfiles
(source "OriginalSFX")
(dest "assigns:Vermone2/OriginalSFX")
(all))

(copyfiles
(source "Music")
(dest "assigns:Vermone2/Music")
(all))

(delete "assigns:Vermone2/GFX/Dest.icon")

(set @default-dest @new-dest)
