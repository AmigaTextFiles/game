;$VER: Wingnuts Install Script 4.0
;by P.D.Glover, 19.04.1998

(complete 0)

(set chosen_dir "")
(while (= chosen_dir "")
  (set chosen_dir
    (askdir
      (prompt "Where would you like to install Wingnuts?\n"
              "(A directory called 'Wingnuts' will be created for the game)\n")
      (help @askdir-help)
      (default @default-dest)
    )
  )
)

(set install_dir (tackon chosen_dir "Wingnuts"))
(makedir install_dir)

(copyfiles
  (source "/")
  (pattern "Wingnuts.info")
  (dest chosen_dir)
)

(copyfiles
  (source "")
  (pattern "~(fonts)")
  (dest install_dir)
  (infos)
)

(copyfiles
  (source ("fonts"))
  (all)
  (dest "Fonts:")
)

(complete 100)

(message "\n\n\nI have updated your system's FONTS:\n"
         "drawer by adding the font files\n"
         "which 'Wingnuts' requires.\n\n"
         "If you run a font-caching program\n"
         "such as MCP or CacheFont, remember\n"
         "to update your cache data before running\n"
         "'Wingnuts'")

(set @default-dest install_dir)
(exit "\n\n\nFinished installing Wingnuts to your hard-drive.\n\n"
      "Double click the Wingnuts icon in " install_dir " to run."
      (quiet)
)
