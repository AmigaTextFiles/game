<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Bubble Train</title>
<link href="dwarflayout.css" rel="stylesheet" title="Default" type="text/css">
<link href="dwarfformat.css" rel="stylesheet" title="Default" type="text/css">
</head>

<body>

<h1>Bubble Train</h1>
<hr />
<div >
	<ul>
		<li><a href="#gameoverview">Game Overview</a></li>
		<li><a href="#gameplay">Game play</a></li>
		<li><a href="#fastesttimes">Fastest Times</a></li>
		<li><a href="#gameoptions">Game options</a></li>
		<li><a href="#gamedesign">Game design</a></li>
		<li><a href="#leveldesign">Level design</a></li>
		<li><a href="#themedesign">Theme design</a></li>
		<li><a href="#contact">Contact Details</a></li>
	</ul>
</div>

<a id="gameoverview"></a>
<div class="section">
	<h2>Game Overview</h2>
	<p>
		Welcome to Bubble Train, a fast paced arcade game.
		Bubble Train as the name suggests is a train of bubbles travelling along a track where the last carriage
		is the driving force instead of the front one. The bubbles come streaming along the track trying to reach
		the end of the line.  The objective is to remove all of the bubbles from the train before it reaches the end of the track.
	</p>
	<p>
		<img src="images/mountains.png" title="Bubble train screen shot of the moutains" />	
	</p>

</div>

<a id="gameplay"></a>
<div class="section">
	<h2>Game play</h2>
	<h3>Game Select</h3>
	<p>
		When you start a game you are presented with a box of games which are available to play. 
		Either double click on a game or highlight it and click ok.
		The default games are Easy, Normal, Hard, Bubble Train and everything.
	</p>
	<h3>Controls</h3>
	<p>The game can be controlled by either the mouse or the keys.</p>
	<h3>Keys</h3>
	<p>Default keys
	<ul>
	<li>k - toggle between the mouse / keys during game play</li>
	<li>p - pause the game</li>
	<li>left cursor - rotate the cannon to the left</li>
	<li>right cursor - rotate the cannon to the right</li>
	<li>up cursor - fire loaded bullet</li>
	</ul>
	</p>
	<h3>Mouse</h3>
	<p>
	<ul>
	<li>Move left / right - rotates the cannon left and right</li>
	<li>Left mouse button - fire loaded bullet</li>
	</ul>
	</p>
	<h3>Bubbles</h3>
	<p>
	Below are the bubbles used for the train carriages or bullets from the cannon. 
	<table width="400px">
	<thead>
		<tr><td>Bubble</td><td>Description</td><td>Carriage / Bullet</td></tr>
	</thead>
	<tdata>
		<tr><td><img src="images/bubblered.png" title="Red Bubble" /></td><td>A plain old Bubble</td><td>Both</td></tr>
		<tr><td><img src="images/bubbleblue.png" title="Blue Bubble" /></td><td>"</td><td>Both</td></tr>
		<tr><td><img src="images/bubblegreen.png" title="Green Bubble" /></td><td>"</td><td>Both</td></tr>
		<tr><td><img src="images/bubbleorange.png" title="Orange Bubble" /></td><td>"</td><td>Both</td></tr>
		<tr><td><img src="images/bubblepurple.png" title="Purple Bubble" /></td><td>"</td><td>Both</td></tr>
		<tr><td><img src="images/bubblebomb.png" title="Bomb Bubble" /></td><td>A special bubble which blows up carriages within the blast radius</td><td>Cannon</td></tr>
		<tr><td><img src="images/bubblecolourbomb.png" title="Colour Bomb Bubble" /></td><td>A special bubble which blows up all of the carriages in a train which are the same colour as one hit</td><td>Cannon</td></tr>
		<tr><td><img src="images/bubblespeed.png" title="Speed Bubble" /></td><td>A special bubble which speeds up or slows down the speed of the train</td><td>Both</td></tr>
	</tdata>
	</table>
	</p>
</div>


<a id="fastesttimes"></a>
<div class="section">
	<h2>Fastest Times</h2>
	<p>
		The fastest times are made up of the level and the time. So the higher the level and the faster the time the better the result.
		This does not group the times by game. So some of the games with fewer levels might not appear.
	</p>
</div>

<a id="gameoptions"></a>
<div class="section">
	<h2>Game options</h2>
	<h3>Credits</h3>
	<p>Defines the number of re-tries you get during a game. The default is 5, set to -1 for infinite retries</p>
	
	<h3>Sound</h3>
	<p>	
		You can enable / disable the sound. There are slider controls which allow you to adjust the 
		volume of the music and sound effects.
	</p>
	
	<h3>Mouse Controls</h3>
	<p>
		You can enable / disable using the mouse (This can be changed at run time by pressing 'k').
		The slider allows the sensitivity of the mouse to changed. 
	</p>
	
	<h3>Key Controls</h3>
	<p>	
		The keys used during game play can be re-configured by clicking the "Assign Keys" button and 
		then press the key you want assigned to each action when the prompt appears.
	</p>
</div>

<a id="gamedesign"></a>
<div class="section">
	<h2>Game design</h2>
	<p>
		A game is made up by specifying levels to be part of the game. There isn't an 
		interface for creating games so you must create / tweak the game file by hand.
		The setup for a game should create a game file "something.gms" with a .gms
		extension. Place this in levels folder. Then create a folder with the same
		name as the game (this is not necessary but makes it cleaner). Then start
		creating your levels. Once a level is created enter the level file location into the
		game file along with the theme you would like to use for that level. Now
		load up Bubble Train and play your game. Once your happy with it then send it to 
		me (adam@dwarfcity.co.uk) and I'll make it available for download from my website.
		The following is the format for the
		game xml:
	</p>
	<p>
	<pre>
	&lt;game&gt;
		&lt;level theme="sky" src="easy/easy-1.lvl" /&gt;
		&lt;level theme="sky" src="easy/easy-2.lvl" /&gt;
		&lt;level theme="beach" src="easy/easy-3.lvl" /&gt;
		&lt;level theme="beach" src="easy/easy-4.lvl" /&gt;
		&lt;level theme="beach" src="easy/easy-5.lvl" /&gt;
	&lt;/game&gt;
	</pre>
	</p>
</div>

<a id="leveldesign"></a>
<div class="section">
	<h2>Level design</h2>
	<h3>Over view</h3>
	<p>
		This is a very basic level editor for creating new or editing existing levels. 
		A level is made up of a single cannon and one or more trains/tracks.
		Use the mouse to initially create the tracks and then edit the positions of each of the track sections.
		Below is a screen shot:
	<p>
	<p><img src="images/leveleditor.png" alt="level editor" /></p>
	
	<h3>Managing Tracks</h3>
	<p>
		Tracks can be made up of three different types of components, line, arc or spiral. Buttons for these
		can be found on the track toolbar shown above. Click the corresponding button to add a component of that type.
		You can also delete the last component from the current track. A property window appears in the bottom 
		right hand corner which allows the editing of the currently selected track section (see below for details
		about each component property window). The current track section is highlighted in yellow. 
		The start / end of a track is also highlighted with a solid green disc for the start of the track
		and a solid red disc for the end of the track. If this is not the current selected track then the discs
		become circles. Next to the remove track section button on the toolbar is the track section selector
		this changes which track is currently selected.
	</p>
	<p>Note: A track should not overlap itself because the bubble will not follow the track as expected</p>
	
	<h3>Lines</h3>
	<p>
		There are two main points for a line, the start and end position these are separated out into
		the x and y components for each.
		To edit an item click the mouse in the text box to highlight it (the cursor will always appear
		after the last character, you can not highlight or copy/paste into the text boxes) and then
		delete or insert the new value. The line will automatically update along with any a joining 
		components.
	</p>
	<p>
		<img src="images/lineproperties.png" alt="line properties" />
	</p>
	<h3>Arcs</h3>
	<p>
		The arc property window is similar to the line except you can change the rotation and flip it as well. The rotation defines 
		whether the bubbles will flow in a clockwise or anti-clockwise from the starting position. Flip defines which side of the 
		start / end position the centre is located. When the start / end positions are updated the radius is automatically re-calculated
		to fit (Note: set the start end positions before trying to get the correct radius, I did say the level editor was basic).
	</p>
	<p>
		<img src="images/arcproperties.png" alt="arc properties" />
	</p>
	<h3>Spirals</h3>
	<p>
		The spiral property window is similar again to the arc except the spirals main points are the start and centre position.
		The radius for the spiral is for reference only and cannot be changed. Again the spiral is automatically re-calculated
		when either the start or centre positions are updated. The rotation of the spiral can be altered.
	</p>
	<p>
		<img src="images/spiralproperties.png" alt="spiral properties" />
	</p>
	<h3>Multiple Trains/Tracks</h3>
	<p>
		You can have as many trains as possible to fit onto the screen and they can also overlap because each train is completely
		independent of each other. The control for multiple trains is via the buttons at the bottom of the screen. You can add, 
		remove and change the currently selected train. The train which is current selected with have solid discs at the start and 
		end of the track and one of the track sections should be highlighted.
	</p>
	
	<h3>Managing Train Properties</h3>
	<p>
		The train properties control the number, speed etc of the carriages which appear on the track. The track colour can also be changed
		although this is only needed when the track colour conflicts with a particular theme.
	</p>
	
	<h3>Managing Cannon Properties</h3>
	<p>	
		The cannon properties define the type of bullets which can be fired. To start with the number of colours can be defined, this 
		should match the highest number of colours in your trains otherwise it might be a bit of a hard level to play. Then define the
		speed of bullets in pixels per frame ()
	</p>
	
	<h3>Loading / Saving a level</h3>
	<p>
		The load / save can be found next to the exit button on the toolbar at the bottom left. The load / save dialog appears and presents
		the current directory, to change into a directory then you have to double click on the directory or the ".." to move up a directory.
		Once you have change to the required directory then you can double click again on the file you want to load or simply type in the name
		of the file to save to. Then click load / save and you should be away.
	</p>
	
	<h3>Grid</h3>
	<p>
		The grid allows track sections to be aligned, click the grid like button (the button on the right of show / hide buttons above)
		to display the grid properties. From here you can switch the grid on/off as well as change the horizontal and vertical spacing.
	</p>
	
</div>

<a id="themedesign"></a>
<div class="section">
	<h2>Theme design</h2>
	<p>
		A theme defines the graphics, fonts, sounds and music for a level. To design a new
		theme first you must create a folder with the name of your theme. And then
		create or re-use the following graphics. If any item is missing from your theme
		then it won't work and the game will quit, look in the log.txt in the bin folder
		for errors. Once your happy with it then send it to me (adam@dwarfcity.co.uk) and 
		I'll make it available for download from my website.
	</p>
	<h3>Graphics</h3>
	<p>
		Defines the main graphics used for a level. For examples look in the themes folder. 
		The graphics used in Bubble Train are all png (portable network graphic) with alpha 
		transparency. The SDL image library used can support many different types of graphic
		formats bmp, png etc - other libraries might be required for certain formats, 
		but I'm not sure how they will look with the transparency.
	<table>
	<thead>
		<tr><td>Graphic</td><td>Dimensions (W x H) pixels</td><td>Description</td></tr>
	</thead>
	<tdata>
		<tr><td>GFX_BUBBLE_RED</td><td>30 x 30</td><td>A Bubble</td></tr>
		<tr><td>GFX_BUBBLE_ORANGE</td><td>30 x 30</td><td>A Bubble</td></tr>
		<tr><td>GFX_BUBBLE_GREEN</td><td>30 x 30</td><td>A Bubble</td></tr>
		<tr><td>GFX_BUBBLE_BLUE</td><td>30 x 30</td><td>A Bubble</td></tr>
		<tr><td>GFX_BUBBLE_YELLOW</td><td>30 x 30</td><td>A Bubble</td></tr>
		<tr><td>GFX_BUBBLE_BOMB</td><td>30 x 30</td><td>A Special Bubble</td></tr>
		<tr><td>GFX_BUBBLE_COLOURBOMB</td><td>30 x 30</td><td>A Special Bubble</td></tr>
		<tr><td>GFX_BUBBLE_SPEED</td><td>30 x 30</td><td>A Special Bubble</td></tr>
		<tr><td>GFX_CANNON</td><td>40 x 60</td><td></td></tr>
		<tr><td>GFX_BACKGROUND</td><td>800 x 600</td><td></td></tr>
		<tr><td>GFX_HUD</td><td>800 x 36</td><td>Area to display the time, level etc</td></tr>
	</tdata>
	</table>
	</p>
	<p>
		Note: To make images transparent the colour at location 1,1 is assumed to be
		the background colour. So if you graphic fills the image including 1,1 then you 
		might want to expand your image to leave a 1 pixel gap all around it so none
		of the image is lost.
	</p>
	<h3>Fonts</h3>
	<p>
		The fonts used in Bubble Train are all graphical fonts. So a font
		containing a specific character list rendered to an image. Bubble Train's font engine
		scans the graphic and separates characters based on a single blank column (Note: if 
		a single character contains a blank column then this will be registered as two characters
		and the following items will be out of sync). The following character list can be used to 
		create your own fonts.
	</p>
	<p>
		<code>ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!"£$%^&*()_+-=[]{};'#:@~\\/|?,.<></code>
	</p>
	<p>
		The following items must be supported in your theme<br>
	<table>
	<thead>
		<tr><td>Font</td><td>Description</td></tr>
	</thead>
	<tdata>
		<tr><td>FONT_DEFAULT_LARGE</td><td>General Font</td></tr>
		<tr><td>FONT_DEFAULT</td><td>General Font</td></tr>
		<tr><td>FONT_DEFAULT_SMALL</td><td>General Font</td></tr>
		<tr><td>FONT_SCORE</td><td>Displayed on the hud during game play</td></tr>
		<tr><td>FONT_MENU</td><td>Used on the main menu, message boxes, Exploding Text on the end game</td></tr>
		<tr><td>FONT_BUTTON</td><td>Used for buttons, list boxes, controls</td></tr>
		<tr><td>FONT_DIALOG</td><td>Used for labels on dialog boxes</td></tr>
	</tdata>
	</table>
	</p>
	
	<h3>Sound effects</h3>
	<p>
		The sounds effects are in wav format, which is the default format for Bubble Train.
		They can be off any length. The following items must be supported in your theme
	</p>
	
	<table>
	<thead>
		<tr><td>Sound</td><td>Description</td></tr>
	</thead>
	<tdata>
		<tr><td>SND_FIREBULLET</td><td>Played when a bullet if fired</td></tr>
		<tr><td>SND_CANNONMOVE</td><td>Played when the cannon is moved</td></tr>
		<tr><td>SND_CANNONRELOAD</td><td>Played when the cannon is reloaded</td></tr>
		<tr><td>SND_REMOVEDGROUP</td><td>Played when you make a group of 3 bubble in a train and they explode</td></tr>
		<tr><td>SND_GAMEOVER</td><td>Played when you lose a level</td></tr>
		<tr><td>SND_GAMEWON</td><td>Played when you win a level</td></tr>
		<tr><td>SND_BOMB</td><td>Played when a bomb hits the train</td></tr>
		<tr><td>SND_COLOURBOMB</td><td>Played when a colour bomb hits the train</td></tr>
		<tr><td>SND_CLICK</td><td>Played when a button is clicked</td></tr>
	</tdata>
	</table>
	
	<h3>Music</h3>
	<p>
		Music is played in the background for a level. The current format supported is wav,
		but once I've figured out how to compile the library then it should support mp3, ogg etc.
		The theme can specify more than one piece of music which it will play in sequence. 
		The music repeats from the first track when it reaches the end of the last track.
	</p>
	
	<!-- XML -->
	<h3>Theme XML</h3>
	<p>
		The details for your new theme should be stored in a file called "theme.xml"
		under your theme folder. A template for this can be found in the default theme
		folder. The xml is of the following format:
	</p>
	<p>
	<pre>
	&lt;theme&gt;
		&lt;graphics&gt;
			&lt;graphic id="GFX_BUBBLE_RED" src="" /&gt;
			&lt;graphic id="GFX_BUBBLE_ORANGE" src="" /&gt;
			&lt;graphic id="GFX_BUBBLE_GREEN" src="" /&gt;
			&lt;graphic id="GFX_BUBBLE_BLUE" src="" /&gt;
			&lt;graphic id="GFX_BUBBLE_YELLOW" src="" /&gt;
			&lt;graphic id="GFX_BUBBLE_BOMB" src="" /&gt;
			&lt;graphic id="GFX_BUBBLE_COLOURBOMB" src="" /&gt;
			&lt;graphic id="GFX_BUBBLE_SPEED" src="" /&gt;
			&lt;graphic id="GFX_CANNON" src="" /&gt;
			&lt;graphic id="GFX_BACKGROUND" src="" /&gt;
			&lt;graphic id="GFX_HUD" src="" /&gt;
		&lt;/graphics&gt;
		&lt;fonts&gt;
			&lt;font id="FONT_DEFAULT_LARGE" src="" /&gt;
			&lt;font id="FONT_DEFAULT" src="" /&gt;
			&lt;font id="FONT_DEFAULT_SMALL" src="" /&gt;
			&lt;font id="FONT_SCORE" src="" /&gt;
			&lt;font id="FONT_MENU" src="" /&gt;
			&lt;font id="FONT_BUTTON" src="" /&gt;
			&lt;font id="FONT_DIALOG" src="" /&gt;
		&lt;/fonts&gt;
		&lt;sounds&gt;
			&lt;sound id="SND_FIREBULLET" src="" /&gt;
			&lt;sound id="SND_CANNONMOVE" src="" /&gt;
			&lt;sound id="SND_CANNONRELOAD" src="" /&gt;
			&lt;sound id="SND_REMOVEDGROUP" src="" /&gt;
			&lt;sound id="SND_GAMEOVER" src="" /&gt;
			&lt;sound id="SND_GAMEWON" src="" /&gt;
			&lt;sound id="SND_BOMB" src="" /&gt;
			&lt;sound id="SND_COLOURBOMB" src="" /&gt;
			&lt;sound id="SND_CLICK" src="" /&gt;
		&lt;/sounds&gt;
		&lt;music&gt;
			&lt;track src="music1.wav"/&gt;
			&lt;track src="music2.wav"/&gt;
		&lt;/music&gt;
	&lt;/theme&gt;
	</pre>
	</p>
</div>

<a id="contact"></a>
<div class="section">
	<h2>Contact Details</h2>
	<p>Bubble Train was brought to you by:<p>
	<ul>
		<li>Dwarf City (Adam Child)</li>
		<li>Craig Marshall</li>
	</ul>
	<p>
		If you have any themes, levels or games you have created and would like to distribute then send them to adam@dwarfcity.co.uk and 
		I'll make them available to download for everyone.		
	</p>
</div>

</body>

</html>